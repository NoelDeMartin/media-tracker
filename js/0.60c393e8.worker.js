(function(t){self["webpackChunk"]=function(e,n){for(var i in n)t[i]=n[i];while(e.length)r[e.pop()]=1};var e={},r={0:1};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.e=function(t){var e=[];return e.push(Promise.resolve().then((function(){r[t]||importScripts(n.p+"js/"+({"authentication-inrupt":"authentication-inrupt","authentication-legacy":"authentication-legacy"}[t]||t)+"."+{"authentication-inrupt":"d5d916b1","authentication-legacy":"c9847777"}[t]+".worker.js")}))),Promise.all(e)},n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/media-kraken/",n(n.s="d685")})({0:function(t,e){},"0067":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordContext=void 0;const n=r("e6e5"),i=r("f232");class o extends i.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(t,e,r,i,o,a){t.streamingProfile&&(t.processingStack[a]||t.processingType[a]||void 0!==t.idStack[a])&&t.emitError(new n.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const s=t.getContext(i),u=t.parseContext(o,(await s).getContextRaw());t.contextTree.setContext(i.slice(0,-1),u),t.emitContext(o),await t.validateContext(await u)}}e.EntryHandlerKeywordContext=o},"00ee":function(t,e,r){var n=r("b622"),i=n("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"0366":function(t,e,r){var n=r("1c0b");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},"0538":function(t,e,r){"use strict";var n=r("1c0b"),i=r("861d"),o=[].slice,a={},s=function(t,e,r){if(!(e in a)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";a[e]=Function("C,a","return new C("+n.join(",")+")")}return a[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=o.call(arguments,1),a=function(){var n=r.concat(o.call(arguments));return this instanceof a?s(e,n.length,n):e.apply(t,n)};return i(e.prototype)&&(a.prototype=e.prototype),a}},"057f":function(t,e,r){var n=r("fc6a"),i=r("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(n(t))}},"06cf":function(t,e,r){var n=r("83ab"),i=r("d1e7"),o=r("5c6c"),a=r("fc6a"),s=r("c04e"),u=r("5135"),c=r("0cfb"),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(r){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},"07ac":function(t,e,r){var n=r("23e7"),i=r("6f53").values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},"0960":function(t,e,r){t.exports=r("b19a")},"0aac":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerType=void 0;const n=r("bfb1"),i=r("882b");class o{canCombineWithGraph(){return!1}async handle(t,e,r,o,a,s){if(!Array.isArray(a)){if("string"===typeof a){const t=await e.getContext(o),n=i.Util.getContextValueType(t,o[s-1]),u="@vocab"===n?await r.createVocabOrBaseTerm(t,a):await r.resourceToTerm(t,a);if(u){const t={"@id":"NamedNode"===u.termType?u.value:a};await e.newOnValueJob(o.slice(0,o.length-1),t,s-1,!0),e.idStack[s+1]=[u]}}else{const t=!!e.idStack[s+1];t||delete e.idStack[s],await e.newOnValueJob(o.slice(0,o.length-1),a,s-1,!0),t||(e.idStack[s+1]=e.idStack[s])}const t=await r.getContainerKey(o[s],o,s),u=null!==t?r.createVocabOrBaseTerm(await e.getContext(o),t):null;u&&await n.EntryHandlerPredicate.handlePredicateObject(e,r,o,s+1,r.rdfType,u,!1),await e.handlePendingContainerFlushBuffers()}e.emittedStack[s]=!1}}e.ContainerHandlerType=o},"0bc7":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},"0ccb":function(t,e,r){var n=r("50c4"),i=r("1148"),o=r("1d80"),a=Math.ceil,s=function(t){return function(e,r,s){var u,c,l=String(o(e)),f=l.length,h=void 0===s?" ":String(s),d=n(r);return d<=f||""==h?l:(u=d-f,c=i.call(h,a(u/h.length)),c.length>u&&(c=c.slice(0,u)),t?l+c:c+l)}};t.exports={start:s(!1),end:s(!0)}},"0cfb":function(t,e,r){var n=r("83ab"),i=r("d039"),o=r("cc12");t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d3b":function(t,e,r){var n=r("d039"),i=r("b622"),o=r("c430"),a=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e["delete"]("b"),r+=n+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"0de3":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("131a");function n(t,e){return n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}},1:function(t,e){},1065:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdParser=void 0;const n=r("c13b"),i=r("e6e5"),o=r("d485"),a=r("56f4"),s=r("af6b"),u=r("72a3"),c=r("bfb1"),l=r("0067"),f=r("88de"),h=r("c317"),d=r("c154"),p=r("2019"),v=r("9d5a"),y=r("c28b"),g=r("1be5"),b=r("202f"),m=r("882b"),w=r("c7e2");class _ extends o.Transform{constructor(t){super({readableObjectMode:!0}),t=t||{},this.options=t,this.parsingContext=new b.ParsingContext(Object.assign({parser:this},t)),this.util=new m.Util({dataFactory:t.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new n,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners()}static fromHttpResponse(t,e,r,n){let o,a;if("application/ld+json"!==e){if("application/json"!==e&&!e.endsWith("+json"))throw new i.ErrorCoded(`Unsupported JSON-LD media type ${e}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(r&&r.has("Link")&&r.forEach((e,r)=>{if("link"===r){const r=w.parse(e);for(const e of r.get("rel","http://www.w3.org/ns/json-ld#context")){if(o)throw new i.ErrorCoded("Multiple JSON-LD context link headers were found on "+t,i.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);o=e.uri}}}),!o&&!(null===n||void 0===n?void 0:n.ignoreMissingContextLinkHeader))throw new i.ErrorCoded(`Missing context link header for media type ${e} on ${t}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}if(r&&r.has("Content-Type")){const t=r.get("Content-Type"),e=/; *profile=([^"]*)/.exec(t);e&&"http://www.w3.org/ns/json-ld#streaming"===e[1]&&(a=!0)}return new _(Object.assign({baseIRI:t,context:o,streamingProfile:a},n||{}))}import(t){const e=new o.PassThrough({readableObjectMode:!0});t.on("error",t=>r.emit("error",t)),t.on("data",t=>e.push(t)),t.on("end",()=>e.push(null));const r=e.pipe(new _(this.options));return r}_transform(t,e,r){this.jsonParser.write(t),this.lastOnValueJob.then(()=>r(),t=>r(t))}async newOnValueJob(t,e,r,n){let o=!0;if(n&&r<this.lastDepth){const t=this.parsingContext.listPointerStack[this.lastDepth];t&&(t.value&&this.emit("data",this.util.dataFactory.quad(t.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),t.listId.listHead=!0,this.parsingContext.idStack[t.listRootDepth+1]=[t.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await s.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),o=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const a=await this.util.unaliasKeyword(t[r],t,r),u=await this.util.unaliasKeywordParent(t,r);this.parsingContext.emittedStack[r]=!0;let c=!0;i.Util.isValidKeyword(a)&&"@reverse"===u&&this.emit("error",new i.ErrorCoded(`Found the @id '${e}' inside an @reverse property`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let l=!1;this.parsingContext.validationStack.length>1&&(l=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let i=Math.max(1,this.parsingContext.validationStack.length-1);i<t.length-1;i++){const e=this.parsingContext.validationStack[i]||(this.parsingContext.validationStack[i]=await this.validateKey(t.slice(0,i+1),i,l));if(!e.valid){this.parsingContext.emittedStack[r]=!1,c=!1;break}!l&&e.property&&(l=!0)}if(this.util.isLiteral(r)&&(c=!1),c)for(const i of _.ENTRY_HANDLERS){const n=await i.test(this.parsingContext,this.util,a,t,r);if(n){await i.handle(this.parsingContext,this.util,a,t,e,r,n),i.isStackProcessor()&&(this.parsingContext.processingStack[r]=!0);break}}0===r&&Array.isArray(e)&&await this.util.validateValueIndexes(e),o&&r<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=r,this.lastKeys=t,this.parsingContext.unaliasedKeywordCacheStack.splice(r-1)}flushStacks(t){this.parsingContext.processingStack.splice(t,1),this.parsingContext.processingType.splice(t,1),this.parsingContext.emittedStack.splice(t,1),this.parsingContext.idStack.splice(t,1),this.parsingContext.graphStack.splice(t+1,1),this.parsingContext.graphContainerTermStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1),this.parsingContext.validationStack.splice(t-1,2),this.parsingContext.literalStack.splice(t,this.parsingContext.literalStack.length-t)}async flushBuffer(t,e){let r=this.parsingContext.idStack[t];r||(r=this.parsingContext.idStack[t]=[this.util.dataFactory.blankNode()]);const n=this.parsingContext.unidentifiedValuesBuffer[t];if(n){for(const i of r){const r=await this.util.getDepthOffsetGraph(t,e),o=this.parsingContext.graphStack[t]||r>=0?this.parsingContext.idStack[t-r-1]:[await this.util.getGraphContainerValue(e,t)];if(o)for(const e of o){this.parsingContext.emittedStack[t]=!0;for(const r of n)r.reverse?this.parsingContext.emitQuad(t,this.util.dataFactory.quad(r.object,r.predicate,i,e)):this.parsingContext.emitQuad(t,this.util.dataFactory.quad(i,r.predicate,r.object,e))}else{const r=this.parsingContext.getUnidentifiedGraphBufferSafe(t-await this.util.getDepthOffsetGraph(t,e)-1);for(const t of n)t.reverse?r.push({object:i,predicate:t.predicate,subject:t.object}):r.push({object:t.object,predicate:t.predicate,subject:i})}}this.parsingContext.unidentifiedValuesBuffer.splice(t,1),this.parsingContext.literalStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1)}const i=this.parsingContext.unidentifiedGraphsBuffer[t];if(i){for(const e of r){const r=1!==t||"BlankNode"!==e.termType||this.parsingContext.topLevelProperties?e:this.util.getDefaultGraph();this.parsingContext.emittedStack[t]=!0;for(const e of i)this.parsingContext.emitQuad(t,this.util.dataFactory.quad(e.subject,e.predicate,e.object,r))}this.parsingContext.unidentifiedGraphsBuffer.splice(t,1)}}async validateKey(t,e,r){for(const n of _.ENTRY_HANDLERS)if(await n.validate(this.parsingContext,this.util,t,e,r))return{valid:!0,property:r||n.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=t=>{const e=this.jsonParser.stack.length,r=new Array(e+1).fill(0).map((t,r)=>r===e?this.jsonParser.key:this.jsonParser.stack[r].key);if(!this.isParsingContextInner(e)){const n=()=>this.newOnValueJob(r,t,e,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(r.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(n);else if("@context"===r[e]){let t=this.contextJobs[e];t||(t=this.contextJobs[e]=[]),t.push(n)}else"@type"===r[e]||"number"===typeof r[e]&&"@type"===r[e-1]?this.typeJobs.push({job:n,keys:r.slice(0,r.length-1)}):this.contextAwaitingJobs.push({job:n,keys:r});this.parsingContext.streamingProfile||0!==e||(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=t=>{this.emit("error",t)}}isParsingContextInner(t){for(let e=t;e>0;e--)if("@context"===this.jsonParser.stack[e-1].key)return!0;return!1}async executeBufferedJobs(){for(const t of this.contextJobs)if(t)for(const e of t)await e();this.parsingContext.unaliasedKeywordCacheStack.splice(0);for(const t of this.contextAwaitingJobs){if(this.typeJobs.length>0){const e=[],r=[];for(let o=0;o<this.typeJobs.length;o++){const n=this.typeJobs[o];m.Util.isPrefixArray(n.keys,t.keys)&&(e.push(n),r.push(o))}const n=e.sort((t,e)=>t.keys.length-e.keys.length);for(const t of n)await t.job();const i=r.sort().reverse();for(const t of i)this.typeJobs.splice(t,1)}await t.job()}}}e.JsonLdParser=_,_.DEFAULT_PROCESSING_MODE="1.1",_.ENTRY_HANDLERS=[new a.EntryHandlerArrayValue,new l.EntryHandlerKeywordContext,new h.EntryHandlerKeywordId,new d.EntryHandlerKeywordIncluded,new f.EntryHandlerKeywordGraph,new p.EntryHandlerKeywordNest,new v.EntryHandlerKeywordType,new g.EntryHandlerKeywordValue,new s.EntryHandlerContainer,new y.EntryHandlerKeywordUnknownFallback,new c.EntryHandlerPredicate,new u.EntryHandlerInvalidFallback]},1148:function(t,e,r){"use strict";var n=r("a691"),i=r("1d80");t.exports="".repeat||function(t){var e=String(i(this)),r="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},1276:function(t,e,r){"use strict";var n=r("d784"),i=r("44e7"),o=r("825a"),a=r("1d80"),s=r("4840"),u=r("8aa5"),c=r("50c4"),l=r("14c3"),f=r("9263"),h=r("d039"),d=[].push,p=Math.min,v=4294967295,y=!h((function(){return!RegExp(v,"y")}));n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(a(this)),o=void 0===r?v:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,o);var s,u,c,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,y=new RegExp(t.source,h+"g");while(s=f.call(y,n)){if(u=y.lastIndex,u>p&&(l.push(n.slice(p,s.index)),s.length>1&&s.index<n.length&&d.apply(l,s.slice(1)),c=s[0].length,p=u,l.length>=o))break;y.lastIndex===s.index&&y.lastIndex++}return p===n.length?!c&&y.test("")||l.push(""):l.push(n.slice(p)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,i){var a=r(n,t,this,i,n!==e);if(a.done)return a.value;var f=o(t),h=String(this),d=s(f,RegExp),g=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(y?"y":"g"),m=new d(y?f:"^(?:"+f.source+")",b),w=void 0===i?v:i>>>0;if(0===w)return[];if(0===h.length)return null===l(m,h)?[h]:[];var _=0,x=0,E=[];while(x<h.length){m.lastIndex=y?x:0;var O,S=l(m,y?h:h.slice(x));if(null===S||(O=p(c(m.lastIndex+(y?0:x)),h.length))===_)x=u(h,x,g);else{if(E.push(h.slice(_,x)),E.length===w)return E;for(var R=1;R<=S.length-1;R++)if(E.push(S[R]),E.length===w)return E;x=_=O}}return E.push(h.slice(_)),E}]}),!y)},"131a":function(t,e,r){var n=r("23e7"),i=r("d2bb");n({target:"Object",stat:!0},{setPrototypeOf:i})},"13d5":function(t,e,r){"use strict";var n=r("23e7"),i=r("d58f").left,o=r("a640"),a=r("ae40"),s=o("reduce"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"13f1":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const n=r("7096"),i=r("3e6b"),o=r("8ce0"),a=r("9935"),s=r("8026"),u=r("a22a");let c=0;class l{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${c++}_`}namedNode(t){return new a.NamedNode(t)}blankNode(t){return new n.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,e){return new o.Literal(t,e)}variable(t){return new u.Variable(t)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(t,e,r,n){return new s.Quad(t,e,r,n||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(o.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}}e.DataFactory=l},"14c3":function(t,e,r){var n=r("c6b6"),i=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var o=r.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,r){var n=r("da84"),i=r("fdbc"),o=r("17c2"),a=r("9112");for(var s in i){var u=n[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(l){c.forEach=o}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,i=r("a640"),o=r("ae40"),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"191b":function(t,e,r){"use strict";r("99af"),r("d81d"),r("b0c0"),r("d3b7"),r("ac1f"),r("5319"),r("96cf");var n,i,o=r("c964"),a=r("276c"),s=r("e954"),u=r("2197"),c=r("fbd1");(function(t){t["LoggedIn"]="logged-in",t["LoggingIn"]="logging-in",t["Failed"]="failed"})(n||(n={})),function(t){t["Inrupt"]="inrupt",t["Legacy"]="legacy"}(i||(i={}));var l,f=i.Inrupt,h=r("fc11"),d=r("92a6"),p=r("920b"),v=(r("caad"),r("2532"),r("3ca3"),r("ddb0"),r("f3f3")),y=function(){function t(){Object(a["a"])(this,t),this.listeners=Object(u["arr"])([])}return Object(s["a"])(t,[{key:"boot",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.booted){t.next=2;break}return t.abrupt("return",this.booted);case 2:return this.booted=new u["PromisedValue"],t.next=5,this.startSession();case 5:this.booted.resolve();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addListener",value:function(t){var e=this;return this.listeners.includes(t)||this.listeners.push(t),function(){e.removeListener(t)}}},{key:"removeListener",value:function(t){this.listeners.includes(t)&&this.listeners.remove(t)}},{key:"onSessionStarted",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.listeners.toArray().map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,null===(i=n.onSessionStarted)||void 0===i?void 0:i.call(n,Object(v["a"])({authenticator:r},e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSessionEnded",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.listeners.toArray().map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,null===(r=e.onSessionEnded)||void 0===r?void 0:r.call(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),g=function(t){Object(p["a"])(i,t);var e=Object(d["a"])(i);function i(){return Object(a["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"startSession",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.e("authentication-inrupt").then(r.bind(null,"239e"));case 2:return e=t.sent,n=e.default,i=n.fetch,o=n.handleIncomingRedirect,a=n.login,s=n.logout,this.fetch=i,this._login=a,this._logout=s,t.next=13,o(window.location.href);case 13:if(u=t.sent,!(null===u||void 0===u?void 0:u.isLoggedIn)){t.next=17;break}return t.next=17,this.onSessionStarted({webId:u.webId});case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._login({oidcIssuer:e,clientName:"Media Kraken",redirectUrl:window.location.href});case 2:return t.abrupt("return",n.LoggingIn);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._logout();case 2:return t.next=4,this.onSessionEnded();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),i}(y),b=new g,m=function(t){Object(p["a"])(i,t);var e=Object(d["a"])(i);function i(){return Object(a["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"startSession",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.promisedClient){t.next=4;break}return t.next=3,this.promisedClient;case 3:return t.abrupt("return");case 4:return n=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=r||null,(null===(n=r)||void 0===n?void 0:n.webId)!==e){t.next=3;break}return t.abrupt("return");case 3:if(e=null===(i=r)||void 0===i?void 0:i.webId,!e){t.next=9;break}return t.next=7,s.onSessionStarted({webId:e});case 7:t.next=11;break;case 9:return t.next=11,s.onSessionEnded();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.promisedClient=new u["PromisedValue"],t.next=8,r.e("authentication-legacy").then(r.bind(null,"81a1"));case 8:return i=t.sent,a=i.default,this.promisedClient.resolve(a),t.next=13,a.currentSession().then(n);case 13:a.trackSession(n);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.startSession();case 2:return t.next=4,this.promisedClient.value.login(e);case 4:return r=t.sent,t.abrupt("return",r?n.LoggedIn:n.LoggingIn);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.startSession();case 2:return t.next=4,this.promisedClient.value.logout();case 4:u["Storage"].remove("solid-auth-client");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"fetch",get:function(){var t,e=null===(t=this.promisedClient)||void 0===t?void 0:t.value;return e?e.fetch.bind(e):window.fetch}}]),i}(y),w=new m,_=(l={},Object(h["a"])(l,i.Inrupt,b),Object(h["a"])(l,i.Legacy,w),l),x=_,E=r("786d"),O="media-kraken-solid-auth",S=function(){function t(){Object(a["a"])(this,t)}return Object(s["a"])(t,[{key:"setFetch",value:function(t){this._fetch=t}},{key:"boot",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.listener=e,this.authenticatorListener={onSessionStarted:this.onSessionStarted.bind(this),onSessionEnded:this.onSessionEnded.bind(this)},u["Storage"].has(O)){t.next=4;break}return t.abrupt("return");case 4:return this._previousLogin=u["Storage"].get(O),t.prev=5,t.next=8,this.useAuthenticator(this._previousLogin.authenticationMethod);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](5),e.onError(t.t0);case 13:case"end":return t.stop()}}),t,this,[[5,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var i,o,a,s,c,l,h,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.session){t.next=2;break}return t.abrupt("return",n.LoggedIn);case 2:return r=null!==(i=r)&&void 0!==i?i:f,t.next=5,this.readProfileFromLoginUrl(e);case 5:return s=t.sent,c=null!==(o=null===s||void 0===s?void 0:s.oidcIssuerUrl)&&void 0!==o?o:Object(u["urlRoot"])(null!==(a=null===s||void 0===s?void 0:s.webId)&&void 0!==a?a:e),l={loginUrl:e,authenticationMethod:r},u["Storage"].set(O,l),t.prev=9,t.next=12,this.useAuthenticator(r);case 12:return h=t.sent,t.next=15,h.login(c);case 15:if(d=t.sent,d!==n.LoggingIn){t.next=19;break}return t.next=19,Object(u["after"])({seconds:10});case 19:return t.abrupt("return",d);case 22:return t.prev=22,t.t0=t["catch"](9),u["Storage"].remove(O),t.abrupt("return",n.Failed);case 26:case"end":return t.stop()}}),t,this,[[9,22]])})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u["Storage"].has(O)&&u["Storage"].remove(O),this._previousLogin&&delete this._previousLogin,t.next=4,null===(e=this.authenticator)||void 0===e?void 0:e.logout();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"useAuthenticator",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.authenticator&&(this.authenticator.removeListener(this.authenticatorListener),delete this.authenticator),this.authenticator=x[e],this.authenticator.addListener(this.authenticatorListener),t.prev=3,t.next=6,this.authenticator.boot();case 6:t.next=13;break;case 8:throw t.prev=8,t.t0=t["catch"](3),this.authenticator.removeListener(this.authenticatorListener),delete this.authenticator,t.t0;case 13:return t.abrupt("return",this.authenticator);case 14:case"end":return t.stop()}}),t,this,[[3,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"readProfileFromLoginUrl",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=Object(u["silenced"])(this.readProfile.bind(this)),t.next=3,i(e);case 3:if(t.t2=n=t.sent,t.t1=null!==t.t2,!t.t1){t.next=7;break}t.t1=void 0!==n;case 7:if(!t.t1){t.next=11;break}t.t3=n,t.next=14;break;case 11:return t.next=13,i(e.replace(/\/$/,"").concat("/profile/card#me"));case 13:t.t3=t.sent;case 14:if(t.t4=r=t.t3,t.t0=null!==t.t4,!t.t0){t.next=18;break}t.t0=void 0!==r;case 18:if(!t.t0){t.next=22;break}t.t5=r,t.next=25;break;case 22:return t.next=24,i(Object(u["urlRoot"])(e).concat("/profile/card#me"));case 24:t.t5=t.sent;case 25:return t.abrupt("return",t.t5);case 26:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"readProfile",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,s,u,c,l,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E["a"].fromUrl(this.fetch,e);case 2:if(c=t.sent,l=c.statements(e,"pim:storage"),f=c.statement(e,"solid:privateTypeIndex"),0!==l.length){t.next=7;break}throw new Error("Couldn't find a storage in profile");case 7:if(f){t.next=9;break}throw new Error("Couldn't find a private type index in the profile");case 9:return t.abrupt("return",{webId:e,storageUrls:l.map((function(t){return t.object.value})),privateTypeIndexUrl:f.object.value,name:null!==(r=null===(n=c.statement(e,"vcard:fn"))||void 0===n?void 0:n.object.value)&&void 0!==r?r:null===(i=c.statement(e,"foaf:name"))||void 0===i?void 0:i.object.value,avatarUrl:null!==(o=null===(a=c.statement(e,"vcard:hasPhoto"))||void 0===a?void 0:a.object.value)&&void 0!==o?o:null===(s=c.statement(e,"foaf:img"))||void 0===s?void 0:s.object.value,oidcIssuerUrl:null===(u=c.statement(e,"solid:oidcIssuer"))||void 0===u?void 0:u.object.value});case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSessionStarted",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.webId!==(null===(r=this.session)||void 0===r?void 0:r.webId)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.readProfile(e.webId);case 4:o=t.sent,a=new c["a"](o.webId,null!==(n=o.name)&&void 0!==n?n:"Unknown",null!==(i=o.avatarUrl)&&void 0!==i?i:null,o.storageUrls,o.privateTypeIndexUrl),this.session=e,this.listener.onUserUpdated(a);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSessionEnded",value:function(){this.session&&(delete this.session,this.listener.onUserUpdated(null))}},{key:"fetch",get:function(){var t,e,r;return null!==(t=null!==(e=this._fetch)&&void 0!==e?e:null===(r=this.session)||void 0===r?void 0:r.authenticator.fetch)&&void 0!==t?t:window.fetch.bind(window)}},{key:"previousLogin",get:function(){var t;return null!==(t=this._previousLogin)&&void 0!==t?t:null}}]),t}();e["a"]=new S},"19aa":function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},"1be4":function(t,e,r){var n=r("d066");t.exports=n("document","documentElement")},"1be5":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordValue=void 0;const n=r("f232");class i extends n.EntryHandlerKeyword{constructor(){super("@value")}async test(t,e,r,n,i){return"@value"===await e.unaliasKeyword(n[i],n.slice(0,n.length-1),i-1,!0)}async handle(t,e,r,n,i,o){t.literalStack[o]=!0,delete t.unidentifiedValuesBuffer[o],delete t.unidentifiedGraphsBuffer[o],t.emittedStack[o]=!1}}e.EntryHandlerKeywordValue=i},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,r){var n=r("b622"),i=n("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(u){}return r}},"1cdc":function(t,e,r){var n=r("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,r){var n=r("d039"),i=r("b622"),o=r("2d00"),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[],r=e.constructor={};return r[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1fb5":function(t,e,r){"use strict";e.byteLength=l,e.toByteArray=h,e.fromByteArray=v;for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function l(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n}function f(t,e,r){return 3*(e+r)/4-r}function h(t){var e,r,n=c(t),a=n[0],s=n[1],u=new o(f(t,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u}function d(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function p(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(d(n));return i.join("")}function v(t){for(var e,r=t.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(p(t,s,s+a>u?u:s+a));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2019:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordNest=void 0;const n=r("e6e5"),i=r("f232");class o extends i.EntryHandlerKeyword{constructor(){super("@nest")}async handle(t,e,r,i,o,a){"object"!==typeof o&&t.emitError(new n.ErrorCoded(`Found invalid @nest entry for '${r}': '${o}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await e.unaliasKeywords(o,i,a,await t.getContext(i))&&t.emitError(new n.ErrorCoded(`Found an invalid @value node for '${r}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),t.emittedStack[a]=!1}}e.EntryHandlerKeywordNest=o},"202f":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingContext=void 0;const n=r("e6e5"),i=r("56af"),o=r("c826"),a=r("1065");class s{constructor(t){this.contextParser=new n.ContextParser({documentLoader:t.documentLoader}),this.streamingProfile=!!t.streamingProfile,this.baseIRI=t.baseIRI,this.produceGeneralizedRdf=!!t.produceGeneralizedRdf,this.allowSubjectList=!!t.allowSubjectList,this.processingMode=t.processingMode||a.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!t.strictValues,this.validateValueIndexes=!!t.validateValueIndexes,this.defaultGraph=t.defaultGraph,this.rdfDirection=t.rdfDirection,this.normalizeLanguageTags=t.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=t.streamingProfileAllowOutOfOrderPlainType,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new o.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=t.parser,t.context?(this.rootContext=this.parseContext(t.context),this.rootContext.then(t=>this.validateContext(t))):this.rootContext=Promise.resolve(new n.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(t,e,r){return this.contextParser.parse(t,{baseIRI:this.baseIRI,ignoreProtection:r,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:e,processingMode:this.activeProcessingMode})}validateContext(t){const e=t.getContextRaw()["@version"];if(e){if(this.activeProcessingMode&&e>this.activeProcessingMode)throw new i.ErrorCoded(`Unsupported JSON-LD version '${e}' under active processing mode ${this.activeProcessingMode}.`,i.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&e<this.activeProcessingMode)throw new i.ErrorCoded(`Invalid JSON-LD version ${e} under active processing mode ${this.activeProcessingMode}.`,i.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=e}}async getContext(t,e=1){const r=t;while("number"===typeof t[t.length-1])t=t.slice(0,t.length-1);e&&(t=t.slice(0,-e));const i=await this.getContextPropagationAware(t),o=i.context;let a=o.getContextRaw();for(let s=i.depth;s<r.length-e;s++){const t=r[s],i=a[t];if(i&&"object"===typeof i&&"@context"in i){const o=(await this.parseContext(i,a,!0)).getContextRaw(),u=!(t in o)||o[t]["@context"]["@propagate"];!1===u&&s!==r.length-1-e||(a=o,delete a["@propagate"],a[t]=Object.assign({},a[t]),"@id"in i&&(a[t]["@id"]=i["@id"]),delete a[t]["@context"],!1!==u&&this.contextTree.setContext(r.slice(0,s+e),Promise.resolve(new n.JsonLdContextNormalized(a))))}}return new n.JsonLdContextNormalized(a)}async getContextPropagationAware(t){const e=t.length;let r,i=null;do{r=!1,i&&"@__propagateFallback"in i.context.getContextRaw()?i.context=new n.JsonLdContextNormalized(i.context.getContextRaw()["@__propagateFallback"]):(i&&(t=t.slice(0,i.depth-1)),i=await this.contextTree.getContext(t)||{context:await this.rootContext,depth:0});const e=t[t.length-1];if(e in i.context.getContextRaw()){const t=i.context.getContextRaw()[e];t&&"object"===typeof t&&"@context"in t&&(r=!0)}}while(i.depth>0&&!1===i.context.getContextRaw()["@propagate"]&&i.depth!==e&&!r);return 0===i.depth&&!1===i.context.getContextRaw()["@propagate"]&&i.depth!==e&&(i.context=new n.JsonLdContextNormalized({})),i}async newOnValueJob(t,e,r,n){await this.parser.newOnValueJob(t,e,r,n)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const t of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(t.depth,t.keys),this.parser.flushStacks(t.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}return!1}emitQuad(t,e){1===t&&(this.topLevelProperties=!0),this.parser.push(e)}emitError(t){this.parser.emit("error",t)}emitContext(t){this.parser.emit("context",t)}getUnidentifiedValueBufferSafe(t){let e=this.unidentifiedValuesBuffer[t];return e||(e=[],this.unidentifiedValuesBuffer[t]=e),e}getUnidentifiedGraphBufferSafe(t){let e=this.unidentifiedGraphsBuffer[t];return e||(e=[],this.unidentifiedGraphsBuffer[t]=e),e}getExpandOptions(){return s.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(t,e){const r=this.idStack[t+e];if(r&&(this.idStack[t]=r,this.emittedStack[t]=!0,delete this.idStack[t+e]),this.pendingContainerFlushBuffers.length)for(const n of this.pendingContainerFlushBuffers)n.depth>=t+e&&(n.depth-=e,n.keys.splice(t,e));this.unidentifiedValuesBuffer[t+e]&&(this.unidentifiedValuesBuffer[t]=this.unidentifiedValuesBuffer[t+e],delete this.unidentifiedValuesBuffer[t+e])}}e.ParsingContext=s,s.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}},2197:function(t,e,r){(function(t){!function(t,r){r(e)}(0,(function(e){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function n(t){var e={exports:{}};return t(e,e.exports),e.exports}var i=function(t){return t&&t.Math==Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r&&r)||function(){return this}()||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},s=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,l={f:c&&!u.call({1:2},1)?function(t){var e=c(this,t);return!!e&&e.enumerable}:u},f=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h={}.toString,d=function(t){return h.call(t).slice(8,-1)},p="".split,v=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==d(t)?p.call(t,""):Object(t)}:Object,y=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return v(y(t))},b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!b(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!b(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,_=function(t,e){return w.call(t,e)},x=o.document,E=b(x)&&b(x.createElement),O=function(t){return E?x.createElement(t):{}},S=!s&&!a((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),R=Object.getOwnPropertyDescriptor,j={f:s?R:function(t,e){if(t=g(t),e=m(e,!0),S)try{return R(t,e)}catch(t){}if(_(t,e))return f(!l.f.call(t,e),t[e])}},I=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},k=Object.defineProperty,C={f:s?k:function(t,e,r){if(I(t),e=m(e,!0),I(r),S)try{return k(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},T=s?function(t,e,r){return C.f(t,e,f(1,r))}:function(t,e,r){return t[e]=r,t},D=function(t,e){try{T(o,t,e)}catch(n){o[t]=e}return e},A="__core-js_shared__",P=o[A]||D(A,{}),L=Function.toString;"function"!=typeof P.inspectSource&&(P.inspectSource=function(t){return L.call(t)});var N,U,M,F=P.inspectSource,B=o.WeakMap,V="function"==typeof B&&/native code/.test(F(B)),G=!1,$=n((function(t){(t.exports=function(t,e){return P[t]||(P[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.0",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),q=0,J=Math.random(),K=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++q+J).toString(36)},z=$("keys"),H=function(t){return z[t]||(z[t]=K(t))},W={},Y=o.WeakMap;if(V){var X=P.state||(P.state=new Y),Q=X.get,Z=X.has,tt=X.set;N=function(t,e){return e.facade=t,tt.call(X,t,e),e},U=function(t){return Q.call(X,t)||{}},M=function(t){return Z.call(X,t)}}else{var et=H("state");W[et]=!0,N=function(t,e){return e.facade=t,T(t,et,e),e},U=function(t){return _(t,et)?t[et]:{}},M=function(t){return _(t,et)}}var rt,nt={set:N,get:U,has:M,enforce:function(t){return M(t)?U(t):N(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=U(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},it=n((function(t){var e=nt.get,r=nt.enforce,n=String(String).split("String");(t.exports=function(t,e,i,a){var s,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||_(i,"name")||T(i,"name",e),(s=r(i)).source||(s.source=n.join("string"==typeof e?e:""))),t!==o?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:T(t,e,i)):c?t[e]=i:D(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||F(this)}))})),ot=o,at=function(t){return"function"==typeof t?t:void 0},st=function(t,e){return arguments.length<2?at(ot[t])||at(o[t]):ot[t]&&ot[t][e]||o[t]&&o[t][e]},ut=Math.ceil,ct=Math.floor,lt=function(t){return isNaN(t=+t)?0:(t>0?ct:ut)(t)},ft=Math.min,ht=function(t){return t>0?ft(lt(t),9007199254740991):0},dt=Math.max,pt=Math.min,vt=function(t,e){var r=lt(t);return r<0?dt(r+e,0):pt(r,e)},yt=function(t){return function(e,r,n){var i,o=g(e),a=ht(o.length),s=vt(n,a);if(t&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===r)return t||s||0;return!t&&-1}},gt={includes:yt(!0),indexOf:yt(!1)},bt=gt.indexOf,mt=function(t,e){var r,n=g(t),i=0,o=[];for(r in n)!_(W,r)&&_(n,r)&&o.push(r);for(;e.length>i;)_(n,r=e[i++])&&(~bt(o,r)||o.push(r));return o},wt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_t=wt.concat("length","prototype"),xt={f:Object.getOwnPropertyNames||function(t){return mt(t,_t)}},Et={f:Object.getOwnPropertySymbols},Ot=st("Reflect","ownKeys")||function(t){var e=xt.f(I(t)),r=Et.f;return r?e.concat(r(t)):e},St=function(t,e){for(var r=Ot(e),n=C.f,i=j.f,o=0;o<r.length;o++){var a=r[o];_(t,a)||n(t,a,i(e,a))}},Rt=/#|\.prototype\./,jt=function(t,e){var r=kt[It(t)];return r==Tt||r!=Ct&&("function"==typeof e?a(e):!!e)},It=jt.normalize=function(t){return String(t).replace(Rt,".").toLowerCase()},kt=jt.data={},Ct=jt.NATIVE="N",Tt=jt.POLYFILL="P",Dt=jt,At=j.f,Pt=function(t,e){var r,n,i,a,s,u=t.target,c=t.global,l=t.stat;if(r=c?o:l?o[u]||D(u,{}):(o[u]||{}).prototype)for(n in e){if(a=e[n],i=t.noTargetGet?(s=At(r,n))&&s.value:r[n],!Dt(c?n:u+(l?".":"#")+n,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;St(a,i)}(t.sham||i&&i.sham)&&T(a,"sham",!0),it(r,n,a,t)}},Lt=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),Nt=Lt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ut=Array.isArray||function(t){return"Array"==d(t)},Mt=function(t){return Object(y(t))},Ft=Object.keys||function(t){return mt(t,wt)},Bt=s?Object.defineProperties:function(t,e){I(t);for(var r,n=Ft(e),i=n.length,o=0;i>o;)C.f(t,r=n[o++],e[r]);return t},Vt=st("document","documentElement"),Gt=H("IE_PROTO"),$t=function(){},qt=function(t){return"<script>"+t+"<\/script>"},Jt=function(){try{rt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Jt=rt?function(t){t.write(qt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(rt):((e=O("iframe")).style.display="none",Vt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(qt("document.F=Object")),t.close(),t.F);for(var r=wt.length;r--;)delete Jt.prototype[wt[r]];return Jt()};W[Gt]=!0;var Kt=Object.create||function(t,e){var r;return null!==t?($t.prototype=I(t),r=new $t,$t.prototype=null,r[Gt]=t):r=Jt(),void 0===e?r:Bt(r,e)},zt=xt.f,Ht={}.toString,Wt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Yt={f:function(t){return Wt&&"[object Window]"==Ht.call(t)?function(t){try{return zt(t)}catch(t){return Wt.slice()}}(t):zt(g(t))}},Xt=$("wks"),Qt=o.Symbol,Zt=Nt?Qt:Qt&&Qt.withoutSetter||K,te=function(t){return _(Xt,t)||(Lt&&_(Qt,t)?Xt[t]=Qt[t]:Xt[t]=Zt("Symbol."+t)),Xt[t]},ee={f:te},re=C.f,ne=function(t){var e=ot.Symbol||(ot.Symbol={});_(e,t)||re(e,t,{value:ee.f(t)})},ie=C.f,oe=te("toStringTag"),ae=function(t,e,r){t&&!_(t=r?t:t.prototype,oe)&&ie(t,oe,{configurable:!0,value:e})},se=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ue=function(t,e,r){if(se(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},ce=te("species"),le=function(t,e){var r;return Ut(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Ut(r.prototype)?b(r)&&null===(r=r[ce])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},fe=[].push,he=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,f){for(var h,d,p=Mt(u),y=v(p),g=ue(c,l,3),b=ht(y.length),m=0,w=f||le,_=e?w(u,b):r||a?w(u,0):void 0;b>m;m++)if((s||m in y)&&(d=g(h=y[m],m,p),t))if(e)_[m]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:fe.call(_,h)}else switch(t){case 4:return!1;case 7:fe.call(_,h)}return o?-1:n||i?i:_}},de={forEach:he(0),map:he(1),filter:he(2),some:he(3),every:he(4),find:he(5),findIndex:he(6),filterOut:he(7)},pe=de.forEach,ve=H("hidden"),ye="Symbol",ge=te("toPrimitive"),be=nt.set,me=nt.getterFor(ye),we=Object.prototype,_e=o.Symbol,xe=st("JSON","stringify"),Ee=j.f,Oe=C.f,Se=Yt.f,Re=l.f,je=$("symbols"),Ie=$("op-symbols"),ke=$("string-to-symbol-registry"),Ce=$("symbol-to-string-registry"),Te=$("wks"),De=o.QObject,Ae=!De||!De.prototype||!De.prototype.findChild,Pe=s&&a((function(){return 7!=Kt(Oe({},"a",{get:function(){return Oe(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Ee(we,e);n&&delete we[e],Oe(t,e,r),n&&t!==we&&Oe(we,e,n)}:Oe,Le=function(t,e){var r=je[t]=Kt(_e.prototype);return be(r,{type:ye,tag:t,description:e}),s||(r.description=e),r},Ne=Nt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof _e},Ue=function(t,e,r){t===we&&Ue(Ie,e,r),I(t);var n=m(e,!0);return I(r),_(je,n)?(r.enumerable?(_(t,ve)&&t[ve][n]&&(t[ve][n]=!1),r=Kt(r,{enumerable:f(0,!1)})):(_(t,ve)||Oe(t,ve,f(1,{})),t[ve][n]=!0),Pe(t,n,r)):Oe(t,n,r)},Me=function(t,e){I(t);var r=g(e),n=Ft(r).concat(Ge(r));return pe(n,(function(e){s&&!Fe.call(r,e)||Ue(t,e,r[e])})),t},Fe=function(t){var e=m(t,!0),r=Re.call(this,e);return!(this===we&&_(je,e)&&!_(Ie,e))&&(!(r||!_(this,e)||!_(je,e)||_(this,ve)&&this[ve][e])||r)},Be=function(t,e){var r=g(t),n=m(e,!0);if(r!==we||!_(je,n)||_(Ie,n)){var i=Ee(r,n);return!i||!_(je,n)||_(r,ve)&&r[ve][n]||(i.enumerable=!0),i}},Ve=function(t){var e=Se(g(t)),r=[];return pe(e,(function(t){_(je,t)||_(W,t)||r.push(t)})),r},Ge=function(t){var e=t===we,r=Se(e?Ie:g(t)),n=[];return pe(r,(function(t){!_(je,t)||e&&!_(we,t)||n.push(je[t])})),n};if(Lt||(it((_e=function(){if(this instanceof _e)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=K(t),r=function(t){this===we&&r.call(Ie,t),_(this,ve)&&_(this[ve],e)&&(this[ve][e]=!1),Pe(this,e,f(1,t))};return s&&Ae&&Pe(we,e,{configurable:!0,set:r}),Le(e,t)}).prototype,"toString",(function(){return me(this).tag})),it(_e,"withoutSetter",(function(t){return Le(K(t),t)})),l.f=Fe,C.f=Ue,j.f=Be,xt.f=Yt.f=Ve,Et.f=Ge,ee.f=function(t){return Le(te(t),t)},s&&(Oe(_e.prototype,"description",{configurable:!0,get:function(){return me(this).description}}),it(we,"propertyIsEnumerable",Fe,{unsafe:!0}))),Pt({global:!0,wrap:!0,forced:!Lt,sham:!Lt},{Symbol:_e}),pe(Ft(Te),(function(t){ne(t)})),Pt({target:ye,stat:!0,forced:!Lt},{for:function(t){var e=String(t);if(_(ke,e))return ke[e];var r=_e(e);return ke[e]=r,Ce[r]=e,r},keyFor:function(t){if(!Ne(t))throw TypeError(t+" is not a symbol");if(_(Ce,t))return Ce[t]},useSetter:function(){Ae=!0},useSimple:function(){Ae=!1}}),Pt({target:"Object",stat:!0,forced:!Lt,sham:!s},{create:function(t,e){return void 0===e?Kt(t):Me(Kt(t),e)},defineProperty:Ue,defineProperties:Me,getOwnPropertyDescriptor:Be}),Pt({target:"Object",stat:!0,forced:!Lt},{getOwnPropertyNames:Ve,getOwnPropertySymbols:Ge}),Pt({target:"Object",stat:!0,forced:a((function(){Et.f(1)}))},{getOwnPropertySymbols:function(t){return Et.f(Mt(t))}}),xe){var $e=!Lt||a((function(){var t=_e();return"[null]"!=xe([t])||"{}"!=xe({a:t})||"{}"!=xe(Object(t))}));Pt({target:"JSON",stat:!0,forced:$e},{stringify:function(t,e,r){for(var n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e,(b(e)||void 0!==t)&&!Ne(t))return Ut(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Ne(e))return e}),i[1]=e,xe.apply(null,i)}})}_e.prototype[ge]||T(_e.prototype,ge,_e.prototype.valueOf),ae(_e,ye),W[ve]=!0;var qe=C.f,Je=o.Symbol;if(s&&"function"==typeof Je&&(!("description"in Je.prototype)||void 0!==Je().description)){var Ke={},ze=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof ze?new Je(t):void 0===t?Je():Je(t);return""===t&&(Ke[e]=!0),e};St(ze,Je);var He=ze.prototype=Je.prototype;He.constructor=ze;var We=He.toString,Ye="Symbol(test)"==String(Je("test")),Xe=/^Symbol\((.*)\)[^)]+$/;qe(He,"description",{configurable:!0,get:function(){var t=b(this)?this.valueOf():this,e=We.call(t);if(_(Ke,t))return"";var r=Ye?e.slice(7,-1):e.replace(Xe,"$1");return""===r?void 0:r}}),Pt({global:!0,forced:!0},{Symbol:ze})}ne("iterator");var Qe=te("unscopables"),Ze=Array.prototype;null==Ze[Qe]&&C.f(Ze,Qe,{configurable:!0,value:Kt(null)});var tr,er,rr,nr=function(t){Ze[Qe][t]=!0},ir={},or=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ar=H("IE_PROTO"),sr=Object.prototype,ur=or?Object.getPrototypeOf:function(t){return t=Mt(t),_(t,ar)?t[ar]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?sr:null},cr=te("iterator"),lr=!1;[].keys&&("next"in(rr=[].keys())?(er=ur(ur(rr)))!==Object.prototype&&(tr=er):lr=!0),(null==tr||a((function(){var t={};return tr[cr].call(t)!==t})))&&(tr={}),_(tr,cr)||T(tr,cr,(function(){return this}));var fr={IteratorPrototype:tr,BUGGY_SAFARI_ITERATORS:lr},hr=fr.IteratorPrototype,dr=function(){return this},pr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return I(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),vr=fr.IteratorPrototype,yr=fr.BUGGY_SAFARI_ITERATORS,gr=te("iterator"),br="keys",mr="values",wr="entries",_r=function(){return this},xr=function(t,e,r,n,i,o,a){!function(t,e,r){var n=e+" Iterator";t.prototype=Kt(hr,{next:f(1,r)}),ae(t,n,!1),ir[n]=dr}(r,e,n);var s,u,c,l=function(t){if(t===i&&y)return y;if(!yr&&t in p)return p[t];switch(t){case br:case mr:case wr:return function(){return new r(this,t)}}return function(){return new r(this)}},h=e+" Iterator",d=!1,p=t.prototype,v=p[gr]||p["@@iterator"]||i&&p[i],y=!yr&&v||l(i),g="Array"==e&&p.entries||v;if(g&&(s=ur(g.call(new t)),vr!==Object.prototype&&s.next&&(ur(s)!==vr&&(pr?pr(s,vr):"function"!=typeof s[gr]&&T(s,gr,_r)),ae(s,h,!0))),i==mr&&v&&v.name!==mr&&(d=!0,y=function(){return v.call(this)}),p[gr]!==y&&T(p,gr,y),ir[e]=y,i)if(u={values:l(mr),keys:o?y:l(br),entries:l(wr)},a)for(c in u)(yr||d||!(c in p))&&it(p,c,u[c]);else Pt({target:e,proto:!0,forced:yr||d},u);return u},Er="Array Iterator",Or=nt.set,Sr=nt.getterFor(Er),Rr=xr(Array,"Array",(function(t,e){Or(this,{type:Er,target:g(t),index:0,kind:e})}),(function(){var t=Sr(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");ir.Arguments=ir.Array,nr("keys"),nr("values"),nr("entries");var jr,Ir,kr=function(t,e,r){var n=m(e);n in t?C.f(t,n,f(0,r)):t[n]=r},Cr=st("navigator","userAgent")||"",Tr=o.process,Dr=Tr&&Tr.versions,Ar=Dr&&Dr.v8;Ar?Ir=(jr=Ar.split("."))[0]+jr[1]:Cr&&(!(jr=Cr.match(/Edge\/(\d+)/))||jr[1]>=74)&&(jr=Cr.match(/Chrome\/(\d+)/))&&(Ir=jr[1]);var Pr=Ir&&+Ir,Lr=te("species"),Nr=function(t){return Pr>=51||!a((function(){var e=[];return(e.constructor={})[Lr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ur=Nr("slice"),Mr=te("species"),Fr=[].slice,Br=Math.max;Pt({target:"Array",proto:!0,forced:!Ur},{slice:function(t,e){var r,n,i,o=g(this),a=ht(o.length),s=vt(t,a),u=vt(void 0===e?a:e,a);if(Ut(o)&&("function"!=typeof(r=o.constructor)||r!==Array&&!Ut(r.prototype)?b(r)&&null===(r=r[Mr])&&(r=void 0):r=void 0,r===Array||void 0===r))return Fr.call(o,s,u);for(n=new(void 0===r?Array:r)(Br(u-s,0)),i=0;s<u;s++,i++)s in o&&kr(n,i,o[s]);return n.length=i,n}});var Vr={};Vr[te("toStringTag")]="z";var Gr="[object z]"===String(Vr),$r=te("toStringTag"),qr="Arguments"==d(function(){return arguments}()),Jr=Gr?d:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),$r))?r:qr?d(e):"Object"==(n=d(e))&&"function"==typeof e.callee?"Arguments":n},Kr=Gr?{}.toString:function(){return"[object "+Jr(this)+"]"};Gr||it(Object.prototype,"toString",Kr,{unsafe:!0});var zr=function(t){return function(e,r){var n,i,o=String(y(e)),a=lt(r),s=o.length;return a<0||a>=s?t?"":void 0:(n=o.charCodeAt(a))<55296||n>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):n:t?o.slice(a,a+2):i-56320+(n-55296<<10)+65536}},Hr={codeAt:zr(!1),charAt:zr(!0)},Wr=Hr.charAt,Yr="String Iterator",Xr=nt.set,Qr=nt.getterFor(Yr);xr(String,"String",(function(t){Xr(this,{type:Yr,string:String(t),index:0})}),(function(){var t,e=Qr(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Wr(r,n),e.index+=t.length,{value:t,done:!1})}));var Zr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},tn=te("iterator"),en=te("toStringTag"),rn=Rr.values;for(var nn in Zr){var on=o[nn],an=on&&on.prototype;if(an){if(an[tn]!==rn)try{T(an,tn,rn)}catch(e){an[tn]=rn}if(an[en]||T(an,en,nn),Zr[nn])for(var sn in Rr)if(an[sn]!==Rr[sn])try{T(an,sn,Rr[sn])}catch(e){an[sn]=Rr[sn]}}}function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ln(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){cn(o,n,i,a,s,"next",t)}function s(t){cn(o,n,i,a,s,"throw",t)}a(void 0)}))}}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dn(t,e,r){return e&&hn(t.prototype,e),r&&hn(t,r),t}function pn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(r),!0).forEach((function(e){pn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function gn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _n(t,e,r){return(_n=wn()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&mn(i,r.prototype),i}).apply(null,arguments)}function xn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function En(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?xn(t):e}function On(t){var e=wn();return function(){var r,n=bn(t);if(e){var i=bn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return En(this,r)}}function Sn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(t,e)||jn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(t){return function(t){if(Array.isArray(t))return In(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||jn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(t,e){if(t){if("string"==typeof t)return In(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?In(t,e):void 0}}function In(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kn(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=jn(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}n((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new I(n||[]);return o._invoke=function(t,e,r){var n=f;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return C()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function b(){}var m={};m[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(k([])));_&&_!==r&&n.call(_,o)&&(m=_);var x=b.prototype=y.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function k(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:C}}function C(){return{value:e,done:!0}}return g.prototype=x.constructor=b,b.constructor=g,g.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(O.prototype),O.prototype[a]=function(){return this},t.AsyncIterator=O,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new O(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),u(x,s,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));var Cn=de.filter,Tn=Nr("filter");Pt({target:"Array",proto:!0,forced:!Tn},{filter:function(t){return Cn(this,t,arguments.length>1?arguments[1]:void 0)}});var Dn=gt.includes;Pt({target:"Array",proto:!0},{includes:function(t){return Dn(this,t,arguments.length>1?arguments[1]:void 0)}}),nr("includes");var An=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))},Pn=gt.indexOf,Ln=[].indexOf,Nn=!!Ln&&1/[1].indexOf(1,-0)<0,Un=An("indexOf");Pt({target:"Array",proto:!0,forced:Nn||!Un},{indexOf:function(t){return Nn?Ln.apply(this,arguments)||0:Pn(this,t,arguments.length>1?arguments[1]:void 0)}});var Mn=de.map,Fn=Nr("map");Pt({target:"Array",proto:!0,forced:!Fn},{map:function(t){return Mn(this,t,arguments.length>1?arguments[1]:void 0)}});var Bn=Nr("splice"),Vn=Math.max,Gn=Math.min,$n=9007199254740991,qn="Maximum allowed length exceeded";Pt({target:"Array",proto:!0,forced:!Bn},{splice:function(t,e){var r,n,i,o,a,s,u=Mt(this),c=ht(u.length),l=vt(t,c),f=arguments.length;if(0===f?r=n=0:1===f?(r=0,n=c-l):(r=f-2,n=Gn(Vn(lt(e),0),c-l)),c+r-n>$n)throw TypeError(qn);for(i=le(u,n),o=0;o<n;o++)(a=l+o)in u&&kr(i,o,u[a]);if(i.length=n,r<n){for(o=l;o<c-n;o++)s=o+r,(a=o+n)in u?u[s]=u[a]:delete u[s];for(o=c;o>c-n+r;o--)delete u[o-1]}else if(r>n)for(o=c-n;o>l;o--)s=o+r-1,(a=o+n-1)in u?u[s]=u[a]:delete u[s];for(o=0;o<r;o++)u[o+l]=arguments[o+2];return u.length=c-n+r,i}});var Jn=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),Kn=n((function(t){var e=C.f,r=K("meta"),n=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,r,{value:{objectID:"O"+ ++n,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!b(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!_(t,r)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[r].objectID},getWeakData:function(t,e){if(!_(t,r)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[r].weakData},onFreeze:function(t){return Jn&&a.REQUIRED&&i(t)&&!_(t,r)&&o(t),t}};W[r]=!0})),zn=te("iterator"),Hn=Array.prototype,Wn=te("iterator"),Yn=function(t){if(null!=t)return t[Wn]||t["@@iterator"]||ir[Jr(t)]},Xn=function(t){var e=t.return;if(void 0!==e)return I(e.call(t)).value},Qn=function(t,e){this.stopped=t,this.result=e},Zn=function(t,e,r){var n,i,o,a,s,u,c,l,f=r&&r.that,h=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),v=ue(e,f,1+h+p),y=function(t){return n&&Xn(n),new Qn(!0,t)},g=function(t){return h?(I(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(d)n=t;else{if("function"!=typeof(i=Yn(t)))throw TypeError("Target is not iterable");if(void 0!==(l=i)&&(ir.Array===l||Hn[zn]===l)){for(o=0,a=ht(t.length);a>o;o++)if((s=g(t[o]))&&s instanceof Qn)return s;return new Qn(!1)}n=i.call(t)}for(u=n.next;!(c=u.call(n)).done;){try{s=g(c.value)}catch(t){throw Xn(n),t}if("object"==typeof s&&s&&s instanceof Qn)return s}return new Qn(!1)},ti=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},ei=te("iterator"),ri=!1;try{var ni=0,ii={next:function(){return{done:!!ni++}},return:function(){ri=!0}};ii[ei]=function(){return this},Array.from(ii,(function(){throw 2}))}catch(e){}var oi=function(t,e){if(!e&&!ri)return!1;var r=!1;try{var n={};n[ei]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},ai=function(t,e,r){var n,i;return pr&&"function"==typeof(n=e.constructor)&&n!==r&&b(i=n.prototype)&&i!==r.prototype&&pr(t,i),t},si=function(t,e,r){for(var n in e)it(t,n,e[n],r);return t},ui=te("species"),ci=function(t){var e=st(t),r=C.f;s&&e&&!e[ui]&&r(e,ui,{configurable:!0,get:function(){return this}})},li=C.f,fi=Kn.fastKey,hi=nt.set,di=nt.getterFor,pi=(function(t,e,r){var n=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),s=n?"set":"add",u=o[t],c=u&&u.prototype,l=u,f={},h=function(t){var e=c[t];it(c,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!b(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!b(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!b(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(Dt(t,"function"!=typeof u||!(i||c.forEach&&!a((function(){(new u).entries().next()})))))l=r.getConstructor(e,t,n,s),Kn.REQUIRED=!0;else if(Dt(t,!0)){var d=new l,p=d[s](i?{}:-0,1)!=d,v=a((function(){d.has(1)})),y=oi((function(t){new u(t)})),g=!i&&a((function(){for(var t=new u,e=5;e--;)t[s](e,e);return!t.has(-0)}));y||((l=e((function(e,r){ti(e,l,t);var i=ai(new u,e,l);return null!=r&&Zn(r,i[s],{that:i,AS_ENTRIES:n}),i}))).prototype=c,c.constructor=l),(v||g)&&(h("delete"),h("has"),n&&h("get")),(g||p)&&h(s),i&&c.clear&&delete c.clear}f[t]=l,Pt({global:!0,forced:l!=u},f),ae(l,t),i||r.setStrong(l,t,n)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,r,n){var i=t((function(t,o){ti(t,i,e),hi(t,{type:e,index:Kt(null),first:void 0,last:void 0,size:0}),s||(t.size=0),null!=o&&Zn(o,t[n],{that:t,AS_ENTRIES:r})})),o=di(e),a=function(t,e,r){var n,i,a=o(t),c=u(t,e);return c?c.value=r:(a.last=c={index:i=fi(e,!0),key:e,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=c),n&&(n.next=c),s?a.size++:t.size++,"F"!==i&&(a.index[i]=c)),t},u=function(t,e){var r,n=o(t),i=fi(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return si(i.prototype,{clear:function(){for(var t=o(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,s?t.size=0:this.size=0},delete:function(t){var e=this,r=o(e),n=u(e,t);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),s?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=o(this),n=ue(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),si(i.prototype,r?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),s&&li(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=di(e),o=di(n);xr(t,e,(function(t,e){hi(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),ci(e)}}),te("match")),vi=function(t){var e;return b(t)&&(void 0!==(e=t[pi])?!!e:"RegExp"==d(t))},yi=function(t){if(vi(t))throw TypeError("The method doesn't accept regular expressions");return t},gi=te("match"),bi=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[gi]=!1,"/./"[t](e)}catch(t){}}return!1};Pt({target:"String",proto:!0,forced:!bi("includes")},{includes:function(t){return!!~String(y(this)).indexOf(yi(t),arguments.length>1?arguments[1]:void 0)}});var mi=function(){for(var t=I(this),e=se(t.add),r=0,n=arguments.length;r<n;r++)e.call(t,arguments[r]);return t};Pt({target:"Set",proto:!0,real:!0,forced:G},{addAll:function(){return mi.apply(this,arguments)}});var wi=function(){for(var t,e=I(this),r=se(e.delete),n=!0,i=0,o=arguments.length;i<o;i++)t=r.call(e,arguments[i]),n=n&&t;return!!n};Pt({target:"Set",proto:!0,real:!0,forced:G},{deleteAll:function(){return wi.apply(this,arguments)}});var _i=te("species"),xi=function(t,e){var r,n=I(t).constructor;return void 0===n||null==(r=I(n)[_i])?e:se(r)};Pt({target:"Set",proto:!0,real:!0,forced:G},{difference:function(t){var e=I(this),r=new(xi(e,st("Set")))(e),n=se(r.delete);return Zn(t,(function(t){n.call(r,t)})),r}});var Ei=function(t){return Set.prototype.values.call(t)};function Oi(t,e){var r,n=kn(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(e(i))return i}}catch(t){n.e(t)}finally{n.f()}return null}function Si(t){return 0===t.length}function Ri(t,e){var r=t.indexOf(e);return-1!==r&&(t.splice(r,1),!0)}function ji(t){return Rn(new Set(t))}function Ii(t,e){return t.map((function(t,e){return[t,e]})).filter((function(t){var r=Sn(t,2),n=(r[0],r[1]);return!e.includes(n)})).map((function(t){return Sn(t,1)[0]}))}Pt({target:"Set",proto:!0,real:!0,forced:G},{every:function(t){var e=I(this),r=Ei(e),n=ue(t,arguments.length>1?arguments[1]:void 0,3);return!Zn(r,(function(t,r){if(!n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{filter:function(t){var e=I(this),r=Ei(e),n=ue(t,arguments.length>1?arguments[1]:void 0,3),i=new(xi(e,st("Set"))),o=se(i.add);return Zn(r,(function(t){n(t,t,e)&&o.call(i,t)}),{IS_ITERATOR:!0}),i}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{find:function(t){var e=I(this),r=Ei(e),n=ue(t,arguments.length>1?arguments[1]:void 0,3);return Zn(r,(function(t,r){if(n(t,t,e))return r(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{intersection:function(t){var e=I(this),r=new(xi(e,st("Set"))),n=se(e.has),i=se(r.add);return Zn(t,(function(t){n.call(e,t)&&i.call(r,t)})),r}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{isDisjointFrom:function(t){var e=I(this),r=se(e.has);return!Zn(t,(function(t,n){if(!0===r.call(e,t))return n()}),{INTERRUPTED:!0}).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{isSubsetOf:function(t){var e=function(t){var e=Yn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return I(e.call(t))}(this),r=I(t),n=r.has;return"function"!=typeof n&&(r=new(st("Set"))(t),n=se(r.has)),!Zn(e,(function(t,e){if(!1===n.call(r,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{isSupersetOf:function(t){var e=I(this),r=se(e.has);return!Zn(t,(function(t,n){if(!1===r.call(e,t))return n()}),{INTERRUPTED:!0}).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{join:function(t){var e=I(this),r=Ei(e),n=void 0===t?",":String(t),i=[];return Zn(r,i.push,{that:i,IS_ITERATOR:!0}),i.join(n)}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{map:function(t){var e=I(this),r=Ei(e),n=ue(t,arguments.length>1?arguments[1]:void 0,3),i=new(xi(e,st("Set"))),o=se(i.add);return Zn(r,(function(t){o.call(i,n(t,t,e))}),{IS_ITERATOR:!0}),i}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{reduce:function(t){var e=I(this),r=Ei(e),n=arguments.length<2,i=n?void 0:arguments[1];if(se(t),Zn(r,(function(r){n?(n=!1,i=r):i=t(i,r,r,e)}),{IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty set with no initial value");return i}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{some:function(t){var e=I(this),r=Ei(e),n=ue(t,arguments.length>1?arguments[1]:void 0,3);return Zn(r,(function(t,r){if(n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{symmetricDifference:function(t){var e=I(this),r=new(xi(e,st("Set")))(e),n=se(r.delete),i=se(r.add);return Zn(t,(function(t){n.call(r,t)||i.call(r,t)})),r}}),Pt({target:"Set",proto:!0,real:!0,forced:G},{union:function(t){var e=I(this),r=new(xi(e,st("Set")))(e);return Zn(t,se(r.add),{that:r}),r}});var ki=te("isConcatSpreadable"),Ci=9007199254740991,Ti="Maximum allowed index exceeded",Di=Pr>=51||!a((function(){var t=[];return t[ki]=!1,t.concat()[0]!==t})),Ai=Nr("concat"),Pi=function(t){if(!b(t))return!1;var e=t[ki];return void 0!==e?!!e:Ut(t)};Pt({target:"Array",proto:!0,forced:!Di||!Ai},{concat:function(t){var e,r,n,i,o,a=Mt(this),s=le(a,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(Pi(o=-1===e?a:arguments[e])){if(u+(i=ht(o.length))>Ci)throw TypeError(Ti);for(r=0;r<i;r++,u++)r in o&&kr(s,u,o[r])}else{if(u>=Ci)throw TypeError(Ti);kr(s,u++,o)}return s.length=u,s}});var Li=l.f,Ni=function(t){return function(e){for(var r,n=g(e),i=Ft(n),o=i.length,a=0,u=[];o>a;)r=i[a++],s&&!Li.call(n,r)||u.push(t?[r,n[r]]:n[r]);return u}},Ui={entries:Ni(!0),values:Ni(!1)}.entries;function Mi(t,e){for(var r=t.prototype,n=function(){var t=Sn(o[i],2),e=t[0],n=t[1];r[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=n.apply(void 0,[this.value].concat(e));return this.chain(i)}},i=0,o=Object.entries(e);i<o.length;i++)n()}function Fi(t,e){for(var r=t.prototype,n=Object.getOwnPropertyDescriptors(e.prototype),i=function(){var t=Sn(a[o],2),e=t[0],n=t[1];return e in r?"continue":"function"!=typeof n.value?(Object.defineProperty(r,e,{get:function(){return this.chain(this.value[e])}}),"continue"):void(r[e]=function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=(t=n.value).call.apply(t,[this.value].concat(r));return this.chain(o)})},o=0,a=Object.entries(n);o<a.length;o++)i()}Pt({target:"Object",stat:!0},{entries:function(t){return Ui(t)}}),Pt({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){for(var e,r,n=g(t),i=j.f,o=Ot(n),a={},s=0;o.length>s;)void 0!==(r=i(n,e=o[s++]))&&kr(a,e,r);return a}});var Bi=function(){function t(e){fn(this,t),this.value=e}return dn(t,[{key:"create",value:function(t){return new(0,this.constructor)(t)}},{key:"chain",value:function(t){return this.isPrimitive(t)?this.create(t):t}}],[{key:"isPrimitive",value:function(t){return this.prototype.isPrimitive(t)}}]),t}(),Vi={first:Oi,isEmpty:Si,remove:Ri,unique:ji,withoutIndexes:Ii},Gi=function(t){gn(r,t);var e=On(r);function r(){return fn(this,r),e.apply(this,arguments)}return dn(r,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.value,"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"get",value:function(t){return this.value[t]}},{key:"toArray",value:function(){return this.value.slice(0)}},{key:"isPrimitive",value:function(t){return Array.isArray(t)}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.prototype;return e.create(t)}}]),r}(Bi);Mi(Gi,Vi),Fi(Gi,Array);var $i=[].join,qi=v!=Object,Ji=An("join",",");Pt({target:"Array",proto:!0,forced:qi||!Ji},{join:function(t){return $i.call(g(this),void 0===t?",":t)}});var Ki=function(){var t=I(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function zi(t,e){return RegExp(t,e)}var Hi={UNSUPPORTED_Y:a((function(){var t=zi("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:a((function(){var t=zi("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Wi=C.f,Yi=xt.f,Xi=nt.set,Qi=te("match"),Zi=o.RegExp,to=Zi.prototype,eo=/a/g,ro=/a/g,no=new Zi(eo)!==eo,io=Hi.UNSUPPORTED_Y;if(s&&Dt("RegExp",!no||io||a((function(){return ro[Qi]=!1,Zi(eo)!=eo||Zi(ro)==ro||"/a/i"!=Zi(eo,"i")})))){for(var oo=function(t,e){var r,n=this instanceof oo,i=vi(t),o=void 0===e;if(!n&&i&&t.constructor===oo&&o)return t;no?i&&!o&&(t=t.source):t instanceof oo&&(o&&(e=Ki.call(t)),t=t.source),io&&(r=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=ai(no?new Zi(t,e):Zi(t,e),n?this:to,oo);return io&&r&&Xi(a,{sticky:r}),a},ao=function(t){t in oo||Wi(oo,t,{configurable:!0,get:function(){return Zi[t]},set:function(e){Zi[t]=e}})},so=Yi(Zi),uo=0;so.length>uo;)ao(so[uo++]);to.constructor=oo,oo.prototype=to,it(o,"RegExp",oo)}ci("RegExp");var co=RegExp.prototype.exec,lo=String.prototype.replace,fo=co,ho=function(){var t=/a/,e=/b*/g;return co.call(t,"a"),co.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),po=Hi.UNSUPPORTED_Y||Hi.BROKEN_CARET,vo=void 0!==/()??/.exec("")[1];(ho||vo||po)&&(fo=function(t){var e,r,n,i,o=this,a=po&&o.sticky,s=Ki.call(o),u=o.source,c=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),r=new RegExp("^(?:"+u+")",s)),vo&&(r=new RegExp("^"+u+"$(?!\\s)",s)),ho&&(e=o.lastIndex),n=co.call(a?r:o,l),a?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:ho&&n&&(o.lastIndex=o.global?n.index+n[0].length:e),vo&&n&&n.length>1&&lo.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n});var yo=fo;Pt({target:"RegExp",proto:!0,forced:/./.exec!==yo},{exec:yo});var go="toString",bo=RegExp.prototype,mo=bo.toString,wo=a((function(){return"/a/b"!=mo.call({source:"a",flags:"b"})})),_o=mo.name!=go;(wo||_o)&&it(RegExp.prototype,go,(function(){var t=I(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in bo)?Ki.call(t):r)}),{unsafe:!0});var xo=te("species"),Eo=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Oo="$0"==="a".replace(/./,"$0"),So=te("replace"),Ro=!!/./[So]&&""===/./[So]("a","$0"),jo=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Io=function(t,e,r,n){var i=te(t),o=!a((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),s=o&&!a((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[xo]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return e=!0,null},r[i](""),!e}));if(!o||!s||"replace"===t&&(!Eo||!Oo||Ro)||"split"===t&&!jo){var u=/./[i],c=r(i,""[t],(function(t,e,r,n,i){return e.exec===yo?o&&!i?{done:!0,value:u.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:Oo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ro}),l=c[0],f=c[1];it(String.prototype,t,l),it(RegExp.prototype,i,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}n&&T(RegExp.prototype[i],"sham",!0)},ko=Hr.charAt,Co=function(t,e,r){return e+(r?ko(t,e).length:1)},To=Math.floor,Do="".replace,Ao=/\$([$&'`]|\d\d?|<[^>]*>)/g,Po=/\$([$&'`]|\d\d?)/g,Lo=function(t,e,r,n,i,o){var a=r+t.length,s=n.length,u=Po;return void 0!==i&&(i=Mt(i),u=Ao),Do.call(o,u,(function(o,u){var c;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(a);case"<":c=i[u.slice(1,-1)];break;default:var l=+u;if(0===l)return o;if(l>s){var f=To(l/10);return 0===f?o:f<=s?void 0===n[f-1]?u.charAt(1):n[f-1]+u.charAt(1):o}c=n[l-1]}return void 0===c?"":c}))},No=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==d(t))throw TypeError("RegExp#exec called on incompatible receiver");return yo.call(t,e)},Uo=Math.max,Mo=Math.min;Io("replace",2,(function(t,e,r,n){var i=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=n.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(r,n){var i=y(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!i&&o||"string"==typeof n&&-1===n.indexOf(a)){var s=r(e,t,this,n);if(s.done)return s.value}var u=I(t),c=String(this),l="function"==typeof n;l||(n=String(n));var f=u.global;if(f){var h=u.unicode;u.lastIndex=0}for(var d=[];;){var p=No(u,c);if(null===p)break;if(d.push(p),!f)break;""===String(p[0])&&(u.lastIndex=Co(c,ht(u.lastIndex),h))}for(var v,y="",g=0,b=0;b<d.length;b++){p=d[b];for(var m=String(p[0]),w=Uo(Mo(lt(p.index),c.length),0),_=[],x=1;x<p.length;x++)_.push(void 0===(v=p[x])?v:String(v));var E=p.groups;if(l){var O=[m].concat(_,w,c);void 0!==E&&O.push(E);var S=String(n.apply(void 0,O))}else S=Lo(m,c,w,_,E,n);w>=g&&(y+=c.slice(g,w)+S,g=w+m.length)}return y+c.slice(g)}]}));var Fo=[].push,Bo=Math.min,Vo=4294967295,Go=!a((function(){return!RegExp(Vo,"y")}));Io("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(y(this)),i=void 0===r?Vo:r>>>0;if(0===i)return[];if(void 0===t)return[n];if(!vi(t))return e.call(n,t,i);for(var o,a,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=new RegExp(t.source,c+"g");(o=yo.call(f,n))&&!((a=f.lastIndex)>l&&(u.push(n.slice(l,o.index)),o.length>1&&o.index<n.length&&Fo.apply(u,o.slice(1)),s=o[0].length,l=a,u.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===n.length?!s&&f.test("")||u.push(""):u.push(n.slice(l)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=y(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,i){var o=r(n,t,this,i,n!==e);if(o.done)return o.value;var a=I(t),s=String(this),u=xi(a,RegExp),c=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Go?"y":"g"),f=new u(Go?a:"^(?:"+a.source+")",l),h=void 0===i?Vo:i>>>0;if(0===h)return[];if(0===s.length)return null===No(f,s)?[s]:[];for(var d=0,p=0,v=[];p<s.length;){f.lastIndex=Go?p:0;var y,g=No(f,Go?s:s.slice(p));if(null===g||(y=Bo(ht(f.lastIndex+(Go?0:p)),s.length))===d)p=Co(s,p,c);else{if(v.push(s.slice(d,p)),v.length===h)return v;for(var b=1;b<=g.length-1;b++)if(v.push(g[b]),v.length===h)return v;p=d=y}}return v.push(s.slice(d)),v}]}),!Go);var $o="\t\n\v\f\r                　\u2028\u2029\ufeff",qo="["+$o+"]",Jo=RegExp("^"+qo+qo+"*"),Ko=RegExp(qo+qo+"*$"),zo=function(t){return function(e){var r=String(y(e));return 1&t&&(r=r.replace(Jo,"")),2&t&&(r=r.replace(Ko,"")),r}},Ho={start:zo(1),end:zo(2),trim:zo(3)},Wo=Ho.trim;function Yo(t){return t.split("").reverse().join("")}function Xo(t){return t.split(/_|-|\s|(?=[A-Z])/)}function Qo(t){var e=Xo(t);return e[0].toLowerCase()+e.slice(1).map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()})).join("")}function Zo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t=t.trim().normalize("NFD").replace(/_|-/g," ").replace(/[\u0300-\u036f]/g,"").replace(/[^\d\w\s]/g,"").toLowerCase().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp("".concat(e,"+"),"g"),e)),t}function ta(t){return Xo(t).map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()})).join("")}Pt({target:"String",proto:!0,forced:function(t){return a((function(){return!!$o[t]()||"​᠎"!="​᠎"[t]()||$o[t].name!==t}))}("trim")},{trim:function(){return Wo(this)}});var ea={reverse:Yo,toCamelCase:Qo,toSlug:Zo,toStudlyCase:ta},ra=function(t){gn(r,t);var e=On(r);function r(){return fn(this,r),e.apply(this,arguments)}return dn(r,[{key:"toString",value:function(){return this.value}},{key:"isPrimitive",value:function(t){return"string"==typeof t}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.prototype;return e.create(t)}}]),r}(Bi);Mi(ra,ea),Fi(ra,String);var na,ia,oa,aa=o.Promise,sa=/(iphone|ipod|ipad).*applewebkit/i.test(Cr),ua="process"==d(o.process),ca=o.location,la=o.setImmediate,fa=o.clearImmediate,ha=o.process,da=o.MessageChannel,pa=o.Dispatch,va=0,ya={},ga="onreadystatechange",ba=function(t){if(ya.hasOwnProperty(t)){var e=ya[t];delete ya[t],e()}},ma=function(t){return function(){ba(t)}},wa=function(t){ba(t.data)},_a=function(t){o.postMessage(t+"",ca.protocol+"//"+ca.host)};la&&fa||(la=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return ya[++va]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},na(va),va},fa=function(t){delete ya[t]},ua?na=function(t){ha.nextTick(ma(t))}:pa&&pa.now?na=function(t){pa.now(ma(t))}:da&&!sa?(oa=(ia=new da).port2,ia.port1.onmessage=wa,na=ue(oa.postMessage,oa,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&ca&&"file:"!==ca.protocol&&!a(_a)?(na=_a,o.addEventListener("message",wa,!1)):na=ga in O("script")?function(t){Vt.appendChild(O("script")).onreadystatechange=function(){Vt.removeChild(this),ba(t)}}:function(t){setTimeout(ma(t),0)});var xa,Ea,Oa,Sa,Ra,ja,Ia,ka,Ca={set:la,clear:fa},Ta=/web0s(?!.*chrome)/i.test(Cr),Da=j.f,Aa=Ca.set,Pa=o.MutationObserver||o.WebKitMutationObserver,La=o.document,Na=o.process,Ua=o.Promise,Ma=Da(o,"queueMicrotask"),Fa=Ma&&Ma.value;Fa||(xa=function(){var t,e;for(ua&&(t=Na.domain)&&t.exit();Ea;){e=Ea.fn,Ea=Ea.next;try{e()}catch(t){throw Ea?Sa():Oa=void 0,t}}Oa=void 0,t&&t.enter()},sa||ua||Ta||!Pa||!La?Ua&&Ua.resolve?(Ia=Ua.resolve(void 0),ka=Ia.then,Sa=function(){ka.call(Ia,xa)}):Sa=ua?function(){Na.nextTick(xa)}:function(){Aa.call(o,xa)}:(Ra=!0,ja=La.createTextNode(""),new Pa(xa).observe(ja,{characterData:!0}),Sa=function(){ja.data=Ra=!Ra}));var Ba,Va,Ga,$a,qa=Fa||function(t){var e={fn:t,next:void 0};Oa&&(Oa.next=e),Ea||(Ea=e,Sa()),Oa=e},Ja=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=se(e),this.reject=se(r)},Ka={f:function(t){return new Ja(t)}},za=function(t,e){if(I(t),b(e)&&e.constructor===t)return e;var r=Ka.f(t);return(0,r.resolve)(e),r.promise},Ha=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Wa=Ca.set,Ya=te("species"),Xa="Promise",Qa=nt.get,Za=nt.set,ts=nt.getterFor(Xa),es=aa,rs=o.TypeError,ns=o.document,is=o.process,os=st("fetch"),as=Ka.f,ss=as,us=!!(ns&&ns.createEvent&&o.dispatchEvent),cs="function"==typeof PromiseRejectionEvent,ls="unhandledrejection",fs=Dt(Xa,(function(){if(F(es)===String(es)){if(66===Pr)return!0;if(!ua&&!cs)return!0}if(Pr>=51&&/native code/.test(es))return!1;var t=es.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Ya]=e,!(t.then((function(){}))instanceof e)})),hs=fs||!oi((function(t){es.all(t).catch((function(){}))})),ds=function(t){var e;return!(!b(t)||"function"!=typeof(e=t.then))&&e},ps=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;qa((function(){for(var n=t.value,i=1==t.state,o=0;r.length>o;){var a,s,u,c=r[o++],l=i?c.ok:c.fail,f=c.resolve,h=c.reject,d=c.domain;try{l?(i||(2===t.rejection&&bs(t),t.rejection=1),!0===l?a=n:(d&&d.enter(),a=l(n),d&&(d.exit(),u=!0)),a===c.promise?h(rs("Promise-chain cycle")):(s=ds(a))?s.call(a,f,h):f(a)):h(n)}catch(t){d&&!u&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ys(t)}))}},vs=function(t,e,r){var n,i;us?((n=ns.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),o.dispatchEvent(n)):n={promise:e,reason:r},!cs&&(i=o["on"+t])?i(n):t===ls&&function(t,e){var r=o.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},ys=function(t){Wa.call(o,(function(){var e,r=t.facade,n=t.value;if(gs(t)&&(e=Ha((function(){ua?is.emit("unhandledRejection",n,r):vs(ls,r,n)})),t.rejection=ua||gs(t)?2:1,e.error))throw e.value}))},gs=function(t){return 1!==t.rejection&&!t.parent},bs=function(t){Wa.call(o,(function(){var e=t.facade;ua?is.emit("rejectionHandled",e):vs("rejectionhandled",e,t.value)}))},ms=function(t,e,r){return function(n){t(e,n,r)}},ws=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,ps(t,!0))},_s=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw rs("Promise can't be resolved itself");var n=ds(e);n?qa((function(){var r={done:!1};try{n.call(e,ms(_s,r,t),ms(ws,r,t))}catch(e){ws(r,e,t)}})):(t.value=e,t.state=1,ps(t,!1))}catch(e){ws({done:!1},e,t)}}};function xs(t,e){if(!e)return function(t){var e=new Proxy(t,{get:function(t,r,n){var i=Reflect.get(t,r,n);return"function"!=typeof i?i:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return i.call.apply(i,[t].concat(n)),e}}});return e}(t);var r=e(t);return r instanceof Promise?r.then((function(){return t})):t}fs&&(es=function(t){ti(this,es,Xa),se(t),Ba.call(this);var e=Qa(this);try{t(ms(_s,e),ms(ws,e))}catch(t){ws(e,t)}},(Ba=function(t){Za(this,{type:Xa,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=si(es.prototype,{then:function(t,e){var r=ts(this),n=as(xi(this,es));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=ua?is.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&ps(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Va=function(){var t=new Ba,e=Qa(t);this.promise=t,this.resolve=ms(_s,e),this.reject=ms(ws,e)},Ka.f=as=function(t){return t===es||t===Ga?new Va(t):ss(t)},"function"==typeof aa&&($a=aa.prototype.then,it(aa.prototype,"then",(function(t,e){var r=this;return new es((function(t,e){$a.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof os&&Pt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return za(es,os.apply(o,arguments))}}))),Pt({global:!0,wrap:!0,forced:fs},{Promise:es}),ae(es,Xa,!1),ci(Xa),Ga=st(Xa),Pt({target:Xa,stat:!0,forced:fs},{reject:function(t){var e=as(this);return e.reject.call(void 0,t),e.promise}}),Pt({target:Xa,stat:!0,forced:fs},{resolve:function(t){return za(this,t)}}),Pt({target:Xa,stat:!0,forced:hs},{all:function(t){var e=this,r=as(e),n=r.resolve,i=r.reject,o=Ha((function(){var r=se(e.resolve),o=[],a=0,s=1;Zn(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=as(e),n=r.reject,i=Ha((function(){var i=se(e.resolve);Zn(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}}),Pt({target:"Reflect",stat:!0},{get:function t(e,r){var n,i,o=arguments.length<3?e:arguments[2];return I(e)===o?e[r]:(n=j.f(e,r))?_(n,"value")?n.value:void 0===n.get?void 0:n.get.call(o):b(i=ur(e))?t(i,r,o):void 0}});var Es=[Gi,ra];function Os(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Gi.create(t)}var Ss=C.f,Rs=Function.prototype,js=Rs.toString,Is=/^\s*function ([^ (]*)/,ks="name";function Cs(){return"undefined"!=typeof t?t:"undefined"!=typeof globalThis?globalThis:window}s&&!(ks in Rs)&&Ss(Rs,ks,{configurable:!0,get:function(){try{return js.call(this).match(Is)[1]}catch(e){return""}}}),Pt({global:!0},{globalThis:o});var Ts=function(t){gn(r,t);var e=On(r);function r(t){var n;return fn(this,r),(n=e.call(this,t)).name=(this instanceof r?this.constructor:void 0).name,Object.setPrototypeOf(xn(n),(this instanceof r?this.constructor:void 0).prototype),n}return r}(Cs().Error),Ds=!!aa&&a((function(){aa.prototype.finally.call({then:function(){}},(function(){}))}));Pt({target:"Promise",proto:!0,real:!0,forced:Ds},{finally:function(t){var e=xi(this,st("Promise")),r="function"==typeof t;return this.then(r?function(r){return za(e,t()).then((function(){return r}))}:t,r?function(r){return za(e,t()).then((function(){throw r}))}:t)}}),"function"!=typeof aa||aa.prototype.finally||it(aa.prototype,"finally",st("Promise").prototype.finally);var As=function(){function t(){fn(this,t),this.initPromise()}return dn(t,[{key:"value",get:function(){return this._value||null}},{key:"isResolved",value:function(){return"_value"in this}},{key:"then",value:function(t,e){return this.promise.then(t,e)}},{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"resolve",value:function(t){this.isResolved()&&this.initPromise(),this._value=t,this._resolve(t)}},{key:"reject",value:function(t){this._reject(t)}},{key:"initPromise",value:function(){var t=this;this.promise=new Promise((function(e,r){t._resolve=e,t._reject=r}))}}],[{key:"from",value:function(e){return xs(new t,(function(t){e.then(t.resolve.bind(t)).catch(t.reject.bind(t))}))}}]),t}(),Ps={},Ls=function(){function t(){fn(this,t)}return dn(t,[{key:"set",value:function(t,e){void 0===e&&(e="__undefined__"),localStorage.setItem(t,JSON.stringify(e))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=localStorage.getItem(t);return null===r?e:"__undefined__"!==r?JSON.parse(r):void 0}},{key:"require",value:function(t){var e=this.get(t,Ps);if(e===Ps)throw new Error("Failed getting required key from local storage: '".concat(t,"'"));return e}},{key:"has",value:function(t){return null!==localStorage.getItem(t)}},{key:"remove",value:function(t){localStorage.removeItem(t)}},{key:"pull",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.has(t))return e;var r=this.get(t);return this.remove(t),r}}],[{key:"instance",get:function(){var e;return this._instance=null!==(e=this._instance)&&void 0!==e?e:new t}}]),t}(),Ns=Ls.instance;function Us(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Us)}var Ms=de.some,Fs=An("some");Pt({target:"Array",proto:!0,forced:!Fs},{some:function(t){return Ms(this,t,arguments.length>1?arguments[1]:void 0)}});var Bs=a((function(){Ft(1)}));Pt({target:"Object",stat:!0,forced:Bs},{keys:function(t){return Ft(Mt(t))}});var Vs=Array.isArray.bind(Array);function Gs(t){return"object"===un(t)&&null!==t}var $s=Object.entries.bind(Object);function qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Js(t,e){var r;return qs(t,e)&&Gs(r=t[e])&&r.constructor===Object}var Ks=Math.min,zs=[].lastIndexOf,Hs=!!zs&&1/[1].lastIndexOf(1,-0)<0,Ws=An("lastIndexOf"),Ys=Hs||!Ws?function(t){if(Hs)return zs.apply(this,arguments)||0;var e=g(this),r=ht(e.length),n=r-1;for(arguments.length>1&&(n=Ks(n,lt(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:zs;Pt({target:"Array",proto:!0,forced:Ys!==[].lastIndexOf},{lastIndexOf:Ys});var Xs,Qs=j.f,Zs="".endsWith,tu=Math.min,eu=bi("endsWith"),ru=!(eu||(Xs=Qs(String.prototype,"endsWith"),!Xs||Xs.writable));Pt({target:"String",proto:!0,forced:!ru&&!eu},{endsWith:function(t){var e=String(y(this));yi(t);var r=arguments.length>1?arguments[1]:void 0,n=ht(e.length),i=void 0===r?n:tu(ht(r),n),o=String(t);return Zs?Zs.call(e,o,i):e.slice(i-o.length,i)===o}}),Io("match",1,(function(t,e,r){return[function(e){var r=y(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=I(t),o=String(this);if(!i.global)return No(i,o);var a=i.unicode;i.lastIndex=0;for(var s,u=[],c=0;null!==(s=No(i,o));){var l=String(s[0]);u[c]=l,""===l&&(i.lastIndex=Co(o,ht(i.lastIndex),a)),c++}return 0===c?null:u}]}));var nu=j.f,iu="".startsWith,ou=Math.min,au=bi("startsWith"),su=!au&&!!function(){var t=nu(String.prototype,"startsWith");return t&&!t.writable}();function uu(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.shift();e.length>0;){var i=e.shift();i.startsWith("/")?n=cu(n)+i:i.startsWith("http://")||i.startsWith("https://")?n=i:n.endsWith("/")?n+=i:n+="/"+i}return n}function cu(t){var e=t.indexOf("://"),r=t.substr(e+3).indexOf("/");return-1!==r?t.substring(0,e+3+r):t}function lu(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",n=Sn(-1===r.indexOf(":")?[r]:r.split(":"),2),i=n[0],o=n[1];return{protocol:e[2]||void 0,domain:i||void 0,port:o||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}}function fu(t,e){var r,n,i=lu(t);if(!i)return t;for(var o=0,a=Object.entries(i);o<a.length;o++){var s=Sn(a[o],2),u=s[0],c=s[1];i[u]=!1!==e[u]&&c||""}return[i.protocol?"".concat(i.protocol,"://"):"",null!==(r=i.domain)&&void 0!==r?r:"",i.port?":".concat(i.port):"",null!==(n=i.path)&&void 0!==n?n:"",i.query?"?".concat(i.query):"",i.fragment?"#".concat(i.fragment):""].join("")}Pt({target:"String",proto:!0,forced:!su&&!au},{startsWith:function(t){var e=String(y(this));yi(t);var r=ht(ou(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return iu?iu.call(e,n,r):e.slice(r,r+n.length)===n}}),e.Error=Ts,e.FluentArrayDefinition=Gi,e.FluentObjectDefinition=Bi,e.FluentStringDefinition=ra,e.PromisedValue=As,e.Storage=Ns,e.StorageSingleton=Ls,e.after=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(){return(t.milliseconds||t.ms||0)+1e3*(t.seconds||0)};return new Promise((function(t){return setTimeout(t,e())}))},e.afterAnimationFrame=function(){return new Promise((function(t){return requestAnimationFrame((function(){return t()}))}))},e.arr=Os,e.arrayFilter=function(t,e){return e?t.filter(e):t.filter((function(t){return!!t}))},e.arrayFirst=Oi,e.arrayIsEmpty=Si,e.arrayRemove=Ri,e.arrayUnique=ji,e.arrayWithoutIndexes=Ii,e.catchError=function(t){try{return t(),null}catch(t){return t}},e.debounce=function(t,e){var r,n=function n(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.cancel(),r=setTimeout((function(){return t.apply(void 0,o)}),e)};return n.cancel=function(){return clearTimeout(r)},n},e.deepEquals=function t(e,r){return e===r||!(!Gs(e)||!Gs(r))&&(e instanceof Date&&r instanceof Date?e.getTime()===r.getTime():Object.keys(e).length===Object.keys(r).length&&!Object.keys(e).some((function(n){return!t(e[n],r[n])})))},e.fail=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong",e="string"==typeof t?Error:t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];throw _n(e,Rn("string"==typeof t?[t]:n))},e.fluent=function(t){var e=Os(Es).first((function(e){return e.isPrimitive(t)}));return e?e.create(t):null},e.fluentStringHelpers=ea,e.isArray=Vs,e.isEmpty=function(t){return null==t||(Array.isArray(t)||"string"==typeof t?0===t.length:"object"===un(t)&&0===Object.keys(t).length)},e.isNullable=function(t){return null==t},e.isObject=Gs,e.isValidDateString=function(t){if("string"!=typeof t)return!1;var e=new Date(t);return!isNaN(e.getTime())},e.objectDeepClone=function t(e){for(var r in e=yn({},e))Js(e,r)&&(e[r]=t(e[r]));return e},e.objectEntries=$s,e.objectHasOwnProperty=qs,e.objectPropertyIsObject=Js,e.objectWithout=function(t,e){var r,n=yn({},t),i=kn(e);try{for(i.s();!(r=i.n()).done;)delete n[r.value]}catch(t){i.e(t)}finally{i.f()}return n},e.objectWithoutEmpty=function(t){for(var e={},r=0,n=Object.entries(t);r<n.length;r++){var i=Sn(n[r],2),o=i[0],a=i[1];null!=a&&(e[o]=a)}return e},e.once=function(t){var e={};return function(){return"result"in e?e.result:e.result=t.apply(void 0,arguments)}},e.runtimeGlobal=Cs,e.silenced=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"function"!=typeof t?t.catch((function(){return e})):ln(regeneratorRuntime.mark((function r(){var n=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.apply(void 0,n);case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),r.abrupt("return",e||null);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))},e.str=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ra.create(t)},e.stringReverse=Yo,e.stringSplitWords=Xo,e.stringToCamelCase=Qo,e.stringToSlug=Zo,e.stringToStudlyCase=ta,e.tap=xs,e.toString=function(t){return String(t)},e.tt=function(){return function(){return expect(!0).toBe(!0)}},e.urlClean=fu,e.urlFilename=function(t){var e=t.lastIndexOf("/");return-1!==e?t.substr(e+1):""},e.urlParentDirectory=function(t){t.endsWith("/")&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return-1!==e?t.substr(0,e+1):t},e.urlParse=lu,e.urlResolve=uu,e.urlResolveDirectory=function(){var t=uu.apply(void 0,arguments);return t.endsWith("/")?t:t+"/"},e.urlRoot=cu,e.urlRoute=function(t){return fu(t,{protocol:!0,domain:!0,port:!0,path:!0,query:!1,fragment:!1})},e.uuid=function(){return Us()},Object.defineProperty(e,"__esModule",{value:!0})}))}).call(this,r("c8ba"))},"21ee":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2266:function(t,e,r){var n=r("825a"),i=r("e95a"),o=r("50c4"),a=r("0366"),s=r("35a1"),u=r("9bdd"),c=function(t,e){this.stopped=t,this.result=e},l=t.exports=function(t,e,r,l,f){var h,d,p,v,y,g,b,m=a(e,r,l?2:1);if(f)h=t;else{if(d=s(t),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(p=0,v=o(t.length);v>p;p++)if(y=l?m(n(b=t[p])[0],b[1]):m(t[p]),y&&y instanceof c)return y;return new c(!1)}h=d.call(t)}g=h.next;while(!(b=g.call(h)).done)if(y=u(h,m,b.value,l),"object"==typeof y&&y&&y instanceof c)return y;return new c(!1)};l.stop=function(t){return new c(!0,t)}},"23cb":function(t,e,r){var n=r("a691"),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},"23e7":function(t,e,r){var n=r("da84"),i=r("06cf").f,o=r("9112"),a=r("6eeb"),s=r("ce4e"),u=r("e893"),c=r("94ca");t.exports=function(t,e){var r,l,f,h,d,p,v=t.target,y=t.global,g=t.stat;if(l=y?n:g?n[v]||s(v,{}):(n[v]||{}).prototype,l)for(f in e){if(d=e[f],t.noTargetGet?(p=i(l,f),h=p&&p.value):h=l[f],r=c(y?f:v+(g?".":"#")+f,t.forced),!r&&void 0!==h){if(typeof d===typeof h)continue;u(d,h)}(t.sham||h&&h.sham)&&o(d,"sham",!0),a(l,f,d,t)}}},"23ef":function(t,e,r){var n={"./MediaContainer":"b0d7","./MediaContainer.ts":"b0d7","./Movie":"6ea5","./Movie.ts":"6ea5","./TypeRegistration":"3349","./TypeRegistration.ts":"3349","./WatchAction":"e423","./WatchAction.ts":"e423"};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id="23ef"},"241c":function(t,e,r){var n=r("ca84"),i=r("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},2532:function(t,e,r){"use strict";var n=r("23e7"),i=r("5a34"),o=r("1d80"),a=r("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,r){"use strict";var n=r("6eeb"),i=r("825a"),o=r("d039"),a=r("ad6d"),s="toString",u=RegExp.prototype,c=u[s],l=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(l||f)&&n(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),r=t.flags,n=String(void 0===r&&t instanceof RegExp&&!("flags"in u)?a.call(t):r);return"/"+e+"/"+n}),{unsafe:!0})},2626:function(t,e,r){"use strict";var n=r("d066"),i=r("9bf2"),o=r("b622"),a=r("83ab"),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},"276c":function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return n}))},"27bf":function(t,e,r){"use strict";t.exports=a;var n=r("b19a"),i=Object.create(r("3a7c"));function o(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);n.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"===typeof this._flush?this._flush((function(e,r){u(t,e,r)})):u(this,null,null)}function u(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r("3fb5"),i.inherits(a,n),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},"2b3d":function(t,e,r){"use strict";r("3ca3");var n,i=r("23e7"),o=r("83ab"),a=r("0d3b"),s=r("da84"),u=r("37e8"),c=r("6eeb"),l=r("19aa"),f=r("5135"),h=r("60da"),d=r("4df4"),p=r("6547").codeAt,v=r("5fb2"),y=r("d44e"),g=r("9861"),b=r("69f3"),m=s.URL,w=g.URLSearchParams,_=g.getState,x=b.set,E=b.getterFor("URL"),O=Math.floor,S=Math.pow,R="Invalid authority",j="Invalid scheme",I="Invalid host",k="Invalid port",C=/[A-Za-z]/,T=/[\d+\-.A-Za-z]/,D=/\d/,A=/^(0x|0X)/,P=/^[0-7]+$/,L=/^\d+$/,N=/^[\dA-Fa-f]+$/,U=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,M=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,V=function(t,e){var r,n,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return I;if(r=$(e.slice(1,-1)),!r)return I;t.host=r}else if(Q(t)){if(e=v(e),U.test(e))return I;if(r=G(e),null===r)return I;t.host=r}else{if(M.test(e))return I;for(r="",n=d(e),i=0;i<n.length;i++)r+=Y(n[i],K);t.host=r}},G=function(t){var e,r,n,i,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),e=u.length,e>4)return t;for(r=[],n=0;n<e;n++){if(i=u[n],""==i)return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=A.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?L:8==o?P:N).test(i))return t;a=parseInt(i,o)}r.push(a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=S(256,5-e))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*S(256,3-n);return s},$=function(t){var e,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return t.charAt(f)};if(":"==h()){if(":"!=t.charAt(1))return;f+=2,c++,l=c}while(h()){if(8==c)return;if(":"!=h()){e=r=0;while(r<4&&N.test(h()))e=16*e+parseInt(h(),16),f++,r++;if("."==h()){if(0==r)return;if(f-=r,c>6)return;n=0;while(h()){if(i=null,n>0){if(!("."==h()&&n<4))return;f++}if(!D.test(h()))return;while(D.test(h())){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[c++]=e}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){a=c-l,c=7;while(0!=c&&a>0)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s}else if(8!=c)return;return u},q=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(e=n,r=i),e},J=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)e.unshift(t%256),t=O(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=q(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=t[r].toString(16),r<7&&(e+=":")));return"["+e+"]"}return t},K={},z=h({},K,{" ":1,'"':1,"<":1,">":1,"`":1}),H=h({},z,{"#":1,"?":1,"{":1,"}":1}),W=h({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(t,e){var r=p(t,0);return r>32&&r<127&&!f(e,t)?t:encodeURIComponent(t)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(t){return f(X,t.scheme)},Z=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var r;return 2==t.length&&C.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},rt=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},nt=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&et(e[0],!0)||e.pop()},it=function(t){return"."===t||"%2e"===t.toLowerCase()},ot=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},at={},st={},ut={},ct={},lt={},ft={},ht={},dt={},pt={},vt={},yt={},gt={},bt={},mt={},wt={},_t={},xt={},Et={},Ot={},St={},Rt={},jt=function(t,e,r,i){var o,a,s,u,c=r||at,l=0,h="",p=!1,v=!1,y=!1;r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(F,"")),e=e.replace(B,""),o=d(e);while(l<=o.length){switch(a=o[l],c){case at:if(!a||!C.test(a)){if(r)return j;c=ut;continue}h+=a.toLowerCase(),c=st;break;case st:if(a&&(T.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(r)return j;h="",c=ut,l=0;continue}if(r&&(Q(t)!=f(X,h)||"file"==h&&(Z(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,r)return void(Q(t)&&X[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?c=mt:Q(t)&&i&&i.scheme==t.scheme?c=ct:Q(t)?c=dt:"/"==o[l+1]?(c=lt,l++):(t.cannotBeABaseURL=!0,t.path.push(""),c=Ot)}break;case ut:if(!i||i.cannotBeABaseURL&&"#"!=a)return j;if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,c=Rt;break}c="file"==i.scheme?mt:ft;continue;case ct:if("/"!=a||"/"!=o[l+1]){c=ft;continue}c=pt,l++;break;case lt:if("/"==a){c=vt;break}c=Et;continue;case ft:if(t.scheme=i.scheme,a==n)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&Q(t))c=ht;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",c=St;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),c=Et;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=Rt}break;case ht:if(!Q(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,c=Et;continue}c=vt}else c=pt;break;case dt:if(c=pt,"/"!=a||"/"!=h.charAt(l+1))continue;l++;break;case pt:if("/"!=a&&"\\"!=a){c=vt;continue}break;case vt:if("@"==a){p&&(h="%40"+h),p=!0,s=d(h);for(var g=0;g<s.length;g++){var b=s[g];if(":"!=b||y){var m=Y(b,W);y?t.password+=m:t.username+=m}else y=!0}h=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(t)){if(p&&""==h)return R;l-=d(h).length+1,h="",c=yt}else h+=a;break;case yt:case gt:if(r&&"file"==t.scheme){c=_t;continue}if(":"!=a||v){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(t)){if(Q(t)&&""==h)return I;if(r&&""==h&&(Z(t)||null!==t.port))return;if(u=V(t,h),u)return u;if(h="",c=xt,r)return;continue}"["==a?v=!0:"]"==a&&(v=!1),h+=a}else{if(""==h)return I;if(u=V(t,h),u)return u;if(h="",c=bt,r==gt)return}break;case bt:if(!D.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(t)||r){if(""!=h){var w=parseInt(h,10);if(w>65535)return k;t.port=Q(t)&&w===X[t.scheme]?null:w,h=""}if(r)return;c=xt;continue}return k}h+=a;break;case mt:if(t.scheme="file","/"==a||"\\"==a)c=wt;else{if(!i||"file"!=i.scheme){c=Et;continue}if(a==n)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",c=St;else{if("#"!=a){rt(o.slice(l).join(""))||(t.host=i.host,t.path=i.path.slice(),nt(t)),c=Et;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=Rt}}break;case wt:if("/"==a||"\\"==a){c=_t;break}i&&"file"==i.scheme&&!rt(o.slice(l).join(""))&&(et(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),c=Et;continue;case _t:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&et(h))c=Et;else if(""==h){if(t.host="",r)return;c=xt}else{if(u=V(t,h),u)return u;if("localhost"==t.host&&(t.host=""),r)return;h="",c=xt}continue}h+=a;break;case xt:if(Q(t)){if(c=Et,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(c=Et,"/"!=a))continue}else t.fragment="",c=Rt;else t.query="",c=St;break;case Et:if(a==n||"/"==a||"\\"==a&&Q(t)||!r&&("?"==a||"#"==a)){if(ot(h)?(nt(t),"/"==a||"\\"==a&&Q(t)||t.path.push("")):it(h)?"/"==a||"\\"==a&&Q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(a==n||"?"==a||"#"==a))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==a?(t.query="",c=St):"#"==a&&(t.fragment="",c=Rt)}else h+=Y(a,H);break;case Ot:"?"==a?(t.query="",c=St):"#"==a?(t.fragment="",c=Rt):a!=n&&(t.path[0]+=Y(a,K));break;case St:r||"#"!=a?a!=n&&("'"==a&&Q(t)?t.query+="%27":t.query+="#"==a?"%23":Y(a,K)):(t.fragment="",c=Rt);break;case Rt:a!=n&&(t.fragment+=Y(a,z));break}l++}},It=function(t){var e,r,n=l(this,It,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=x(n,{type:"URL"});if(void 0!==i)if(i instanceof It)e=E(i);else if(r=jt(e={},String(i)),r)throw TypeError(r);if(r=jt(s,a,null,e),r)throw TypeError(r);var u=s.searchParams=new w,c=_(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},o||(n.href=Ct.call(n),n.origin=Tt.call(n),n.protocol=Dt.call(n),n.username=At.call(n),n.password=Pt.call(n),n.host=Lt.call(n),n.hostname=Nt.call(n),n.port=Ut.call(n),n.pathname=Mt.call(n),n.search=Ft.call(n),n.searchParams=Bt.call(n),n.hash=Vt.call(n))},kt=It.prototype,Ct=function(){var t=E(this),e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",Z(t)&&(c+=r+(n?":"+n:"")+"@"),c+=J(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Tt=function(){var t=E(this),e=t.scheme,r=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&Q(t)?e+"://"+J(t.host)+(null!==r?":"+r:""):"null"},Dt=function(){return E(this).scheme+":"},At=function(){return E(this).username},Pt=function(){return E(this).password},Lt=function(){var t=E(this),e=t.host,r=t.port;return null===e?"":null===r?J(e):J(e)+":"+r},Nt=function(){var t=E(this).host;return null===t?"":J(t)},Ut=function(){var t=E(this).port;return null===t?"":String(t)},Mt=function(){var t=E(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ft=function(){var t=E(this).query;return t?"?"+t:""},Bt=function(){return E(this).searchParams},Vt=function(){var t=E(this).fragment;return t?"#"+t:""},Gt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&u(kt,{href:Gt(Ct,(function(t){var e=E(this),r=String(t),n=jt(e,r);if(n)throw TypeError(n);_(e.searchParams).updateSearchParams(e.query)})),origin:Gt(Tt),protocol:Gt(Dt,(function(t){var e=E(this);jt(e,String(t)+":",at)})),username:Gt(At,(function(t){var e=E(this),r=d(String(t));if(!tt(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=Y(r[n],W)}})),password:Gt(Pt,(function(t){var e=E(this),r=d(String(t));if(!tt(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=Y(r[n],W)}})),host:Gt(Lt,(function(t){var e=E(this);e.cannotBeABaseURL||jt(e,String(t),yt)})),hostname:Gt(Nt,(function(t){var e=E(this);e.cannotBeABaseURL||jt(e,String(t),gt)})),port:Gt(Ut,(function(t){var e=E(this);tt(e)||(t=String(t),""==t?e.port=null:jt(e,t,bt))})),pathname:Gt(Mt,(function(t){var e=E(this);e.cannotBeABaseURL||(e.path=[],jt(e,t+"",xt))})),search:Gt(Ft,(function(t){var e=E(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",jt(e,t,St)),_(e.searchParams).updateSearchParams(e.query)})),searchParams:Gt(Bt),hash:Gt(Vt,(function(t){var e=E(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",jt(e,t,Rt)):e.fragment=null}))}),c(kt,"toJSON",(function(){return Ct.call(this)}),{enumerable:!0}),c(kt,"toString",(function(){return Ct.call(this)}),{enumerable:!0}),m){var $t=m.createObjectURL,qt=m.revokeObjectURL;$t&&c(It,"createObjectURL",(function(t){return $t.apply(m,arguments)})),qt&&c(It,"revokeObjectURL",(function(t){return qt.apply(m,arguments)}))}y(It,"URL"),i({global:!0,forced:!a,sham:!o},{URL:It})},"2c4c":function(t,e,r){"use strict";function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.d(e,"a",(function(){return n}))},"2c63":function(t,e,r){t.exports=r("dc14")},"2ca0":function(t,e,r){"use strict";var n=r("23e7"),i=r("06cf").f,o=r("50c4"),a=r("5a34"),s=r("1d80"),u=r("ab13"),c=r("c430"),l="".startsWith,f=Math.min,h=u("startsWith"),d=!c&&!h&&!!function(){var t=i(String.prototype,"startsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!d&&!h},{startsWith:function(t){var e=String(s(this));a(t);var r=o(f(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return l?l.call(e,n,r):e.slice(r,r+n.length)===n}})},"2cf4":function(t,e,r){var n,i,o,a=r("da84"),s=r("d039"),u=r("c6b6"),c=r("0366"),l=r("1be4"),f=r("cc12"),h=r("1cdc"),d=a.location,p=a.setImmediate,v=a.clearImmediate,y=a.process,g=a.MessageChannel,b=a.Dispatch,m=0,w={},_="onreadystatechange",x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},E=function(t){return function(){x(t)}},O=function(t){x(t.data)},S=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){var e=[],r=1;while(arguments.length>r)e.push(arguments[r++]);return w[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(m),m},v=function(t){delete w[t]},"process"==u(y)?n=function(t){y.nextTick(E(t))}:b&&b.now?n=function(t){b.now(E(t))}:g&&!h?(i=new g,o=i.port2,i.port1.onmessage=O,n=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(S)?n=_ in f("script")?function(t){l.appendChild(f("script"))[_]=function(){l.removeChild(this),x(t)}}:function(t){setTimeout(E(t),0)}:(n=S,a.addEventListener("message",O,!1))),t.exports={set:p,clear:v}},"2d00":function(t,e,r){var n,i,o=r("da84"),a=r("342f"),s=o.process,u=s&&s.versions,c=u&&u.v8;c?(n=c.split("."),i=n[0]+n[1]):a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(i=n[1]))),t.exports=i&&+i},3349:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return u}));var n=r("276c"),i=r("92a6"),o=r("920b"),a=r("ddbf"),s=r("dfab"),u=function(t){Object(o["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(n["a"])(this,r),e.apply(this,arguments)}return r}(s["SolidModel"]);u.ldpResource=!1,u.rdfContexts={solid:"http://www.w3.org/ns/solid/terms#"},u.rdfsClasses=["solid:TypeRegistration"],u.timestamps=!1,u.fields={forClass:{type:a["FieldType"].Key,rdfProperty:"solid:forClass",required:!0},instanceContainer:{type:a["FieldType"].Key,rdfProperty:"solid:instanceContainer",required:!0}}},"335a":function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));r("b0c0"),r("131a");var n=r("276c"),i=r("2c4c"),o=r("92a6"),a=r("920b"),s=(r("e260"),r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("f20d")),u=r("0de3");r("c975"),r("25f0");function c(t){return-1!==Function.toString.call(t).indexOf("[native code]")}r("4ae1");var l=r("8151");function f(t,e,r){return f=Object(l["a"])()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=Function.bind.apply(t,n),o=new i;return r&&Object(u["a"])(o,r.prototype),o},f.apply(null,arguments)}function h(t){var e="function"===typeof Map?new Map:void 0;return h=function(t){if(null===t||!c(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,Object(s["a"])(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(u["a"])(r,t)},h(t)}var d=function(t){Object(a["a"])(r,t);var e=Object(o["a"])(r);function r(t){var o;return Object(n["a"])(this,r),o=e.call(this,t),o.name=(this instanceof r?this.constructor:void 0).name,Object.setPrototypeOf(Object(i["a"])(o),(this instanceof r?this.constructor:void 0).prototype),o}return r}(h(Error))},3410:function(t,e,r){var n=r("23e7"),i=r("d039"),o=r("7b0b"),a=r("e163"),s=r("e177"),u=i((function(){a(1)}));n({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},"342f":function(t,e,r){var n=r("d066");t.exports=n("navigator","userAgent")||""},"34b3":function(t,e,r){"use strict";r("d3b7"),r("ac1f"),r("25f0"),r("5319");var n=r("276c"),i=r("e954"),o=function(){function t(){Object(n["a"])(this,t)}return Object(i["a"])(t,[{key:"generate",value:function(t){return t?(t^16*Math.random()>>t/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,this.generate)}}]),t}();e["a"]=new o},"35a1":function(t,e,r){var n=r("f5df"),i=r("3f8c"),o=r("b622"),a=o("iterator");t.exports=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[n(t)]}},"37e8":function(t,e,r){var n=r("83ab"),i=r("9bf2"),o=r("825a"),a=r("df75");t.exports=n?Object.defineProperties:function(t,e){o(t);var r,n=a(e),s=n.length,u=0;while(s>u)i.f(t,r=n[u++],e[r]);return t}},"3a7c":function(t,e,r){(function(t){function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===y(t)}function n(t){return"boolean"===typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"===typeof t}function s(t){return"string"===typeof t}function u(t){return"symbol"===typeof t}function c(t){return void 0===t}function l(t){return"[object RegExp]"===y(t)}function f(t){return"object"===typeof t&&null!==t}function h(t){return"[object Date]"===y(t)}function d(t){return"[object Error]"===y(t)||t instanceof Error}function p(t){return"function"===typeof t}function v(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function y(t){return Object.prototype.toString.call(t)}e.isArray=r,e.isBoolean=n,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=u,e.isUndefined=c,e.isRegExp=l,e.isObject=f,e.isDate=h,e.isError=d,e.isFunction=p,e.isPrimitive=v,e.isBuffer=t.isBuffer}).call(this,r("b639").Buffer)},"3bbe":function(t,e,r){var n=r("861d");t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,r){"use strict";var n=r("6547").charAt,i=r("69f3"),o=r("7dd0"),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=u(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},"3e6b":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&"DefaultGraph"===t.termType}}e.DefaultGraph=n,n.INSTANCE=new n},"3f8c":function(t,e){t.exports={}},"3fb5":function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},4160:function(t,e,r){"use strict";var n=r("23e7"),i=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"424d":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdContextNormalized=void 0;const n=r("e43f"),i=r("4f5c"),o=r("56af"),a=r("5bc9");class s{constructor(t){this.contextRaw=t}getContextRaw(){return this.contextRaw}expandTerm(t,e,r=i.defaultExpandOptions){const s=this.contextRaw[t];if(null===s||s&&null===s["@id"])return null;let u=!0;if(s&&e){const e=a.Util.getContextValueId(s);if(e&&e!==t){if("string"===typeof e&&(a.Util.isValidIri(e)||a.Util.isValidKeyword(e)))return e;a.Util.isPotentialKeyword(e)||(u=!1)}}const c=a.Util.getPrefix(t,this.contextRaw),l=this.contextRaw["@vocab"],f=(!!l||""===l)&&l.indexOf(":")<0,h=this.contextRaw["@base"],d=a.Util.isPotentialKeyword(t);if(c){const e=this.contextRaw[c],n=a.Util.getContextValueId(e);if(n){if("string"!==typeof e&&r.allowPrefixForcing){if("_"!==n[0]&&!d&&!e["@prefix"]&&!(t in this.contextRaw))return t}else if(!a.Util.isSimpleTermDefinitionPrefix(n,r))return t;return n+t.substr(c.length+1)}}else{if(e&&(l||""===l||r.allowVocabRelativeToBase&&h&&f)&&!d&&!a.Util.isCompactIri(t)){if(f){if(r.allowVocabRelativeToBase)return n.resolve(l,h)+t;throw new o.ErrorCoded(`Relative vocab expansion for term '${t}' with vocab '${l}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}return l+t}if(!e&&h&&!d&&!a.Util.isCompactIri(t))return n.resolve(t,h)}if(u)return t;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${t}': '${JSON.stringify(s)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(t,e){if(e&&this.contextRaw["@vocab"]&&t.startsWith(this.contextRaw["@vocab"]))return t.substr(this.contextRaw["@vocab"].length);if(!e&&this.contextRaw["@base"]&&t.startsWith(this.contextRaw["@base"]))return t.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:t};for(const n in this.contextRaw){const i=this.contextRaw[n];if(i&&!a.Util.isPotentialKeyword(n)){const o=a.Util.getContextValueId(i);if(t.startsWith(o)){const i=t.substr(o.length);if(i)i.length<r.suffix.length&&(r.prefix=n,r.suffix=i);else if(e)return n}}}return r.prefix?r.prefix+":"+r.suffix:t}}e.JsonLdContextNormalized=s},"428f":function(t,e,r){var n=r("da84");t.exports=n},"429b":function(t,e,r){t.exports=r("faa1").EventEmitter},4362:function(t,e,r){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";e.cwd=function(){return n},e.chdir=function(e){t||(t=r("df7c")),n=t.resolve(e,n)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43e4":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeparatorType=void 0;class n{constructor(t){this.label=t}}e.SeparatorType=n,n.COMMA=new n(","),n.OBJECT_START=new n("{"),n.OBJECT_END=new n("}"),n.OBJECT_END_COMMA=new n("},"),n.ARRAY_START=new n("["),n.ARRAY_END=new n("]"),n.ARRAY_END_COMMA=new n("],"),n.GRAPH_FIELD_NONCOMPACT=new n('"@graph": ['),n.GRAPH_FIELD_COMPACT=new n('"@graph":['),n.CONTEXT_FIELD=new n('"@context":')},"44ad":function(t,e,r){var n=r("d039"),i=r("c6b6"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"44d2":function(t,e,r){var n=r("b622"),i=r("7c73"),o=r("9bf2"),a=n("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},"44de":function(t,e,r){var n=r("da84");t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},"44e7":function(t,e,r){var n=r("861d"),i=r("c6b6"),o=r("b622"),a=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},"45fc":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").some,o=r("a640"),a=r("ae40"),s=o("some"),u=a("some");n({target:"Array",proto:!0,forced:!s||!u},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"466d":function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),o=r("50c4"),a=r("1d80"),s=r("8aa5"),u=r("14c3");n("match",1,(function(t,e,r){return[function(e){var r=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var a=i(t),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;var f,h=[],d=0;while(null!==(f=u(a,c))){var p=String(f[0]);h[d]=p,""===p&&(a.lastIndex=s(c,o(a.lastIndex),l)),d++}return 0===d?null:h}]}))},4681:function(t,e,r){"use strict";var n=r("966d");function i(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(n.nextTick(a,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(t,e){t.emit("error",e)}t.exports={destroy:i,undestroy:o}},4840:function(t,e,r){var n=r("825a"),i=r("1c0b"),o=r("b622"),a=o("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||void 0==(r=n(o)[a])?e:i(r)}},4930:function(t,e,r){var n=r("d039");t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"498a":function(t,e,r){"use strict";var n=r("23e7"),i=r("58a8").trim,o=r("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"4ae1":function(t,e,r){var n=r("23e7"),i=r("d066"),o=r("1c0b"),a=r("825a"),s=r("861d"),u=r("7c73"),c=r("0538"),l=r("d039"),f=i("Reflect","construct"),h=l((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),d=!l((function(){f((function(){}))})),p=h||d;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var r=arguments.length<3?t:o(arguments[2]);if(d&&!h)return f(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var i=r.prototype,l=u(s(i)?i:Object.prototype),p=Function.apply.call(t,l,e);return s(p)?p:l}})},"4d63":function(t,e,r){var n=r("83ab"),i=r("da84"),o=r("94ca"),a=r("7156"),s=r("9bf2").f,u=r("241c").f,c=r("44e7"),l=r("ad6d"),f=r("9f7f"),h=r("6eeb"),d=r("d039"),p=r("69f3").set,v=r("2626"),y=r("b622"),g=y("match"),b=i.RegExp,m=b.prototype,w=/a/g,_=/a/g,x=new b(w)!==w,E=f.UNSUPPORTED_Y,O=n&&o("RegExp",!x||E||d((function(){return _[g]=!1,b(w)!=w||b(_)==_||"/a/i"!=b(w,"i")})));if(O){var S=function(t,e){var r,n=this instanceof S,i=c(t),o=void 0===e;if(!n&&i&&t.constructor===S&&o)return t;x?i&&!o&&(t=t.source):t instanceof S&&(o&&(e=l.call(t)),t=t.source),E&&(r=!!e&&e.indexOf("y")>-1,r&&(e=e.replace(/y/g,"")));var s=a(x?new b(t,e):b(t,e),n?this:m,S);return E&&r&&p(s,{sticky:r}),s},R=function(t){t in S||s(S,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},j=u(b),I=0;while(j.length>I)R(j[I++]);m.constructor=S,S.prototype=m,h(i,"RegExp",S)}v("RegExp")},"4d64":function(t,e,r){var n=r("fc6a"),i=r("50c4"),o=r("23cb"),a=function(t){return function(e,r,a){var s,u=n(e),c=i(u.length),l=o(a,c);if(t&&r!=r){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4d90":function(t,e,r){"use strict";var n=r("23e7"),i=r("0ccb").start,o=r("9a0c");n({target:"String",proto:!0,forced:o},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").filter,o=r("1dde"),a=r("ae40"),s=o("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,r){"use strict";var n=r("0366"),i=r("7b0b"),o=r("9bdd"),a=r("e95a"),s=r("50c4"),u=r("8418"),c=r("35a1");t.exports=function(t){var e,r,l,f,h,d,p=i(t),v="function"==typeof this?this:Array,y=arguments.length,g=y>1?arguments[1]:void 0,b=void 0!==g,m=c(p),w=0;if(b&&(g=n(g,y>2?arguments[2]:void 0,2)),void 0==m||v==Array&&a(m))for(e=s(p.length),r=new v(e);e>w;w++)d=b?g(p[w],w):p[w],u(r,w,d);else for(f=m.call(p),h=f.next,r=new v;!(l=h.call(f)).done;w++)d=b?o(f,g,[l.value,w],!0):l.value,u(r,w,d);return r.length=w,r}},"4e8b":function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("f3bd"),i=r("9793"),o=r("ff5e");let a=0;class s{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&c(this,t.factory);var e="string"===typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",r="turtle"===e,i="trig"===e,o=/triple/.test(e),a=/quad/.test(e),s=this._n3Mode=/n3/.test(e),u=o||a;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||o||s),u&&(this._resolveRelativeIRI=function(t){return null}),this._blankNodePrefix="string"!==typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new n["a"]({lineMode:u,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){a=0}_setBase(t){if(t){var e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}_saveContext(t,e,r,n,i){var o=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:e,type:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){var t=this._contextStack.pop(),e=this._n3Mode;this._subject=t.subject,this._predicate=t.predicate,this._object=t.object,this._graph=t.graph,e&&(this._inversePredicate=t.inverse,this._prefixes._=t.blankPrefix,this._quantified=t.quantified)}_readInTopContext(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,e){var r;switch(t.type){case"IRI":case"typeIRI":var n=this._resolveIRI(t.value);if(null===n)return this._error("Invalid IRI",t);r=this._namedNode(n);break;case"type":case"prefixed":var i=this._prefixes[t.prefix];if(void 0===i)return this._error('Undefined prefix "'+t.prefix+':"',t);r=this._namedNode(i+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error("Expected entity but got "+t.type,t)}return!e&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(0===t.prefix.length)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){var e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+e,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return"{"!==t.type?this._error("Expected graph but got "+t.type,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var e=null===this._predicate;return this._restoreContext(),null===this._object?e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){var e=null,r=null,n=this._subject,i=this._contextStack,o=i[i.length-1],a=this._readListItem;switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=e=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;r=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,a=this._readListItemDataTypeOrLang):(e=this._literal(t.value,this._namedNode(t.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(e=this._readEntity(t)))return}if(null===r&&(this._subject=r=this._blankNode()),null===n?null===o.predicate?o.subject=r:o.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,e,this._graph)}return a}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let e=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":var r=this._readEntity(t);if(void 0===r)return;e=this._literal(this._literalValue,r),t=null;break;case"langcode":e=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:e}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,e){const r=this._completeLiteral(t);if(r)return this._object=r.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){var e,r=this._subject,n=this._graph,i=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',t)}if(null!==r){var o=this._predicate,a=this._object;i?this._emit(a,o,r,n):this._emit(r,o,a,n)}return e}_readBlankNodePunctuation(t){var e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if("IRI"!==t.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',t);var e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(t){var e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){var e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error("Unexpected "+t.type,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var e=this._contextStack,r=e.length&&e[e.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(t)}}_readForwardPath(t){var e,r,n=this._blankNode();if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=n):(e=this._object,this._object=n),this._emit(e,r,n,this._graph),this._readPath}_readBackwardPath(t){var e,r,n=this._blankNode();if(void 0!==(e=this._readEntity(t)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,e,r,this._graph),this._readPath}_getContextEndReader(){var t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}}_emit(t,e,r,n){this._callback(null,this._quad(t,e,r,n||this.DEFAULTGRAPH))}_error(t,e){var r=new Error(t+" on line "+e.line+".");r.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=u}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;var e="",r=t.length,n=-1,i=-1,o=0,a="/";while(n<r){switch(a){case":":if(i<0&&"/"===t[++n]&&"/"===t[++n])while((i=n+1)<r&&"/"!==t[i])n=i;break;case"?":case"#":n=r;break;case"/":if("."===t[n+1])switch(a=t[++n+1],a){case"/":e+=t.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return e+t.substring(o,n)+t.substr(n+1);case".":if(a=t[++n+1],void 0===a||"/"===a||"?"===a||"#"===a){if(e+=t.substring(o,n-2),(o=e.lastIndexOf("/"))>=i&&(e=e.substr(0,o)),"/"!==a)return e+"/"+t.substr(n+1);o=n+1}}}a=t[++n]}return e+t.substring(o)}parse(t,e,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+a+++"_",this._prefixCallback=r||u,this._inversePredicate=!1,this._quantified=Object.create(null),!e){var i,o=[];if(this._callback=function(t,e){t?i=t:e&&o.push(e)},this._lexer.tokenize(t).every((function(t){return n._readCallback=n._readCallback(t)})),i)throw i;return o}this._callback=e,this._lexer.tokenize(t,(function(t,e){null!==t?(n._callback(t),n._callback=u):n._readCallback&&(n._readCallback=n._readCallback(e))}))}}function u(){}function c(t,e){var r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(o["a"].rdf.first),t.RDF_REST=r(o["a"].rdf.rest),t.RDF_NIL=r(o["a"].rdf.nil),t.N3_FORALL=r(o["a"].r.forAll),t.N3_FORSOME=r(o["a"].r.forSome),t.ABBREVIATIONS={a:r(o["a"].rdf.type),"=":r(o["a"].owl.sameAs),">":r(o["a"].log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}c(s.prototype,i["a"])},"4ec9":function(t,e,r){"use strict";var n=r("6d61"),i=r("6566");t.exports=n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"4f5c":function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(a,s)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.ContextParser=void 0,r("7274");const i=r("e43f"),o=r("56af"),a=r("fb42"),s=r("424d"),u=r("5bc9"),c=r("5727");class l{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new a.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in t)||!!t.redirectSchemaOrgHttps}static validateLanguage(t,e,r){if("string"!==typeof t)throw new o.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,r);if(!u.Util.REGEX_LANGUAGE_TAG.test(t)){if(e)throw new o.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,r);return!1}return!0}static validateDirection(t,e){if("string"!==typeof t)throw new o.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,o.ERROR_CODES.INVALID_BASE_DIRECTION);if(!u.Util.REGEX_DIRECTION_TAG.test(t)){if(e)throw new o.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,o.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(const e of Object.keys(t)){const r=t[e];if(r&&"object"===typeof r&&r["@reverse"]&&!r["@id"]){if("string"!==typeof r["@reverse"]||u.Util.isValidKeyword(r["@reverse"]))throw new o.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);r["@id"]=r["@reverse"],u.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return t}expandPrefixedTerms(t,e){const r=t.getContextRaw();for(const n of Object.keys(r))if(u.Util.EXPAND_KEYS_BLACKLIST.indexOf(n)<0&&!u.Util.isReservedInternalKeyword(n)){const i=r[n];if(u.Util.isPotentialKeyword(n)&&u.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(n)>=0&&("@type"!==n||"object"===typeof r[n]&&!r[n]["@protected"]&&"@set"!==r[n]["@container"]))throw new o.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${n} to ${JSON.stringify(i)}`,o.ERROR_CODES.KEYWORD_REDEFINITION);if(u.Util.ALIAS_RANGE_BLACKLIST.indexOf(u.Util.getContextValueId(i))>=0)throw new o.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${n} to ${JSON.stringify(i)}`,o.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(i&&u.Util.isPotentialKeyword(u.Util.getContextValueId(i))&&!0===i["@prefix"])throw new o.ErrorCoded(`Tried to use keyword aliases as prefix: '${n}': '${JSON.stringify(i)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);while(u.Util.isPrefixValue(r[n])){const i=r[n];let o=!1;if("string"===typeof i)r[n]=t.expandTerm(i,!0),o=o||i!==r[n];else{const a=i["@id"],s=i["@type"],c=!("@prefix"in i)||u.Util.isValidIri(n);if("@id"in i)void 0!==a&&null!==a&&"string"===typeof a&&(r[n]["@id"]=t.expandTerm(a,!0),o=o||a!==r[n]["@id"]);else if(!u.Util.isPotentialKeyword(n)&&c){const e=t.expandTerm(n,!0);e!==n&&(r[n]["@id"]=e,o=!0)}!s||"string"!==typeof s||"@vocab"===s||i["@container"]&&i["@container"]["@type"]||!c||(r[n]["@type"]=t.expandTerm(s,!0),e&&s===r[n]["@type"]&&(r[n]["@type"]=t.expandTerm(s,!1)),o=o||s!==r[n]["@type"])}if(!o)break}}}normalize(t,{processingMode:e,normalizeLanguageTags:r}){if(r||1===e)for(const n of Object.keys(t))if("@language"===n&&"string"===typeof t[n])t[n]=t[n].toLowerCase();else{const e=t[n];e&&"object"===typeof e&&"string"===typeof e["@language"]&&(e["@language"]=e["@language"].toLowerCase())}}containersToHash(t){for(const e of Object.keys(t)){const r=t[e];if(r&&"object"===typeof r)if("string"===typeof r["@container"])r["@container"]={[r["@container"]]:!0};else if(Array.isArray(r["@container"])){const t={};for(const e of r["@container"])t[e]=!0;r["@container"]=t}}}applyScopedProtected(t,{processingMode:e}){if(e&&e>=1.1&&t["@protected"]){for(const e of Object.keys(t))if(!u.Util.isReservedInternalKeyword(e)&&!u.Util.isPotentialKeyword(e)&&!u.Util.isTermProtected(t,e)){const r=t[e];r&&"object"===typeof r?"@protected"in t[e]||(t[e]["@protected"]=!0):t[e]={"@id":r,"@protected":!0}}delete t["@protected"]}}validateKeywordRedefinitions(t,e,r){for(const n of Object.keys(e))if(u.Util.isTermProtected(t,n)){if("string"===typeof e[n]){const i=u.Util.isSimpleTermDefinitionPrefix(e[n],r);e[n]={"@id":e[n]},i&&(e[n]["@prefix"]=!0,t[n]["@prefix"]=!0)}const i=c(t[n]);e[n]["@protected"]=!0;const a=c(e[n]);if(i!==a)throw new o.ErrorCoded(`Attempted to override the protected keyword ${n} from ${JSON.stringify(u.Util.getContextValueId(t[n]))} to ${JSON.stringify(u.Util.getContextValueId(e[n]))}`,o.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(t,{processingMode:e}){for(const r of Object.keys(t)){if(u.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new o.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(t[r])}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);const n=t[r],i=typeof n;if(u.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==n&&"string"!==i)throw new o.ErrorCoded(`Found an invalid @vocab IRI: ${n}`,o.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==n&&"string"!==i)throw new o.ErrorCoded(`Found an invalid @base IRI: ${t[r]}`,o.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==n&&l.validateLanguage(n,!0,o.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==n&&"number"!==i)throw new o.ErrorCoded(`Found an invalid @version number: ${n}`,o.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==n&&l.validateDirection(n,!0);break;case"propagate":if(1===e)throw new o.ErrorCoded(`Found an illegal @propagate keyword: ${n}`,o.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==n&&"boolean"!==i)throw new o.ErrorCoded(`Found an invalid @propagate value: ${n}`,o.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(u.Util.isValidKeyword(r)&&u.Util.isValidKeyword(u.Util.getContextValueId(n)))throw new o.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${u.Util.getContextValueId(n)}'`,o.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==n)switch(i){case"string":if(u.Util.getPrefix(n,t)===r)throw new o.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.CYCLIC_IRI_MAPPING);if(u.Util.isValidIriWeak(r)){if("@type"===n)throw new o.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${n}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIri(n)&&n!==new s.JsonLdContextNormalized(t).expandTerm(r))throw new o.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${n}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!u.Util.isCompactIri(r)&&!("@id"in n)&&("@id"===n["@type"]?!t["@base"]:!t["@vocab"]))throw new o.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);for(const a of Object.keys(n)){const c=n[a];if(c)switch(a){case"@id":if(u.Util.isValidKeyword(c)&&"@type"!==c&&"@id"!==c&&"@graph"!==c)throw new o.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIriWeak(r)){if("@type"===c)throw new o.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIri(c)&&c!==new s.JsonLdContextNormalized(t).expandTerm(r))throw new o.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!==typeof c)throw new o.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.getPrefix(c,t)===r)throw new o.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===n["@container"]&&"@id"!==c&&"@vocab"!==c)throw new o.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${c}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!==typeof c)throw new o.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(i)}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==c&&"@vocab"!==c&&(1===e||"@json"!==c)&&(1===e||"@none"!==c)&&("_"===c[0]||!u.Util.isValidIri(c)))throw new o.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${c}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"===typeof c&&n["@id"]&&n["@id"]!==c)throw new o.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${c}' and '${n["@id"]}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in n)throw new o.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===e&&(Object.keys(c).length>1||u.Util.CONTAINERS_1_0.indexOf(Object.keys(c)[0])<0))throw new o.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(c)}') in 1.0, must be only one of ${u.Util.CONTAINERS_1_0.join(", ")}`,o.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const t of Object.keys(c)){if("@list"===t&&n["@reverse"])throw new o.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(u.Util.CONTAINERS.indexOf(t)<0)throw new o.ErrorCoded(`Invalid term @container for '${r}' ('${t}'), must be one of ${u.Util.CONTAINERS.join(", ")}`,o.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":l.validateLanguage(c,!0,o.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":l.validateDirection(c,!0);break;case"@prefix":if(null!==c&&"boolean"!==typeof c)throw new o.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in n)&&!u.Util.isValidIri(r))throw new o.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===e||!n["@container"]||!n["@container"]["@index"])throw new o.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(u.Util.isPotentialKeyword(c)&&"@nest"!==c)throw new o.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new o.ErrorCoded(`Found an invalid term value: '${r}': '${n}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,e,r){return"string"===typeof t?t:(r&&!("@base"in t)&&e.parentContext&&"@base"in e.parentContext&&(t["@base"]=e.parentContext["@base"],e.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),e.baseIRI&&!e.external&&("@base"in t?null===t["@base"]||"string"!==typeof t["@base"]||u.Util.isValidIri(t["@base"])||(t["@base"]=i.resolve(t["@base"],e.parentContext&&e.parentContext["@base"]||e.baseIRI)):(t["@base"]=e.baseIRI,t["@__baseDocument"]=!0)),t)}normalizeContextIri(t,e){if(!u.Util.isValidIri(t)&&(t=i.resolve(t,e),!u.Util.isValidIri(t)))throw new Error(`Invalid context IRI: ${t}`);return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}parseInnerContexts(t,e){return n(this,void 0,void 0,(function*(){for(const n of Object.keys(t)){const i=t[n];if(i&&"object"===typeof i&&"@context"in i&&null!==i["@context"]){if(this.validateContext)try{const r=Object.assign({},t);r[n]=Object.assign({},r[n]),delete r[n]["@context"],yield this.parse(i["@context"],Object.assign(Object.assign({},e),{parentContext:r,ignoreProtection:!0,ignoreRemoteScopedContexts:!0}))}catch(r){throw new o.ErrorCoded(r.message,o.ERROR_CODES.INVALID_SCOPED_CONTEXT)}i["@context"]=(yield this.parse(i["@context"],Object.assign(Object.assign({},e),{minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()}}return t}))}parse(t,r={processingMode:l.DEFAULT_PROCESSING_MODE}){return n(this,void 0,void 0,(function*(){const{baseIRI:n,parentContext:i,external:a,processingMode:c,normalizeLanguageTags:f,ignoreProtection:h,minimalProcessing:d}=r;let p=i;const v=r.remoteContexts||{};if(Object.keys(v).length>=this.remoteContextsDepthLimit)throw new o.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(v),o.ERROR_CODES.CONTEXT_OVERFLOW);if(null===t||void 0===t){if(!h&&p&&u.Util.hasProtectedTerms(p))throw new o.ErrorCoded("Illegal context nullification when terms are protected",o.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new s.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}if("string"===typeof t){const e=this.normalizeContextIri(t,n),i=this.getOverriddenLoad(e,r);if(i)return new s.JsonLdContextNormalized(i);const o=yield this.parse(yield this.load(e),Object.assign(Object.assign({},r),{baseIRI:e,external:!0,remoteContexts:Object.assign(Object.assign({},v),{[e]:!0})}));return this.applyBaseEntry(o.getContextRaw(),r,!0),o}if(Array.isArray(t)){const e=[],i=yield Promise.all(t.map((t,i)=>{if("string"===typeof t){const o=this.normalizeContextIri(t,n);e[i]=o;const a=this.getOverriddenLoad(o,r);return a||this.load(o)}return t}));if(d)return new s.JsonLdContextNormalized(i);const o=yield i.reduce((t,n,i)=>t.then(t=>this.parse(n,Object.assign(Object.assign({},r),{baseIRI:e[i]||r.baseIRI,external:!!e[i]||r.external,parentContext:t.getContextRaw(),remoteContexts:e[i]?Object.assign(Object.assign({},v),{[e[i]]:!0}):v}))),Promise.resolve(new s.JsonLdContextNormalized(p||{})));return this.applyBaseEntry(o.getContextRaw(),r,!0),o}if("object"===typeof t){if("@context"in t)return yield this.parse(t["@context"],r);t=JSON.parse(JSON.stringify(t)),p&&(p=JSON.parse(JSON.stringify(p)));let i={};if(a&&delete t["@base"],this.applyBaseEntry(t,r,!0),this.containersToHash(t),d)return new s.JsonLdContextNormalized(t);let u={};if("@import"in t){if(!(c&&c>=1.1))throw new o.ErrorCoded("Context importing is not supported in JSON-LD 1.0",o.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!==typeof t["@import"])throw new o.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],o.ERROR_CODES.INVALID_IMPORT_VALUE);u=yield this.loadImportContext(this.normalizeContextIri(t["@import"],n)),delete t["@import"]}i=Object.assign(Object.assign(Object.assign(Object.assign({},i),p),u),t);const v=new s.JsonLdContextNormalized(i);return yield this.parseInnerContexts(i,r),!h&&p&&c&&c>=1.1&&this.validateKeywordRedefinitions(p,i,e.defaultExpandOptions),(i&&i["@version"]||c||l.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&"string"===typeof t["@vocab"]||""===t["@vocab"])&&t["@vocab"].indexOf(":")<0&&p&&"@vocab"in p&&(i["@vocab"]=p["@vocab"]+t["@vocab"]),this.idifyReverseTerms(i),this.expandPrefixedTerms(v,this.expandContentTypeToBase),this.normalize(i,{processingMode:c,normalizeLanguageTags:f}),this.applyScopedProtected(i,{processingMode:c}),this.validateContext&&this.validate(i,{processingMode:c}),v}throw new o.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,o.ERROR_CODES.INVALID_LOCAL_CONTEXT)}))}load(t){return n(this,void 0,void 0,(function*(){const e=this.documentCache[t];if(e)return"string"===typeof e?e:Array.isArray(e)?e.slice():Object.assign({},e);let r;try{r=yield this.documentLoader.load(t)}catch(n){throw new o.ErrorCoded(`Failed to load remote context ${t}: ${n.message}`,o.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new o.ErrorCoded(`Missing @context in remote context at ${t}`,o.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=r["@context"]}))}getOverriddenLoad(t,e){if(t in(e.remoteContexts||{})){if(e.ignoreRemoteScopedContexts)return t;throw new o.ErrorCoded("Detected a cyclic context inclusion of "+t,o.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}loadImportContext(t){return n(this,void 0,void 0,(function*(){const e=yield this.load(t);if("object"!==typeof e||Array.isArray(e))throw new o.ErrorCoded("An imported context must be a single object: "+t,o.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in e)throw new o.ErrorCoded("An imported context can not import another context: "+t,o.ERROR_CODES.INVALID_CONTEXT_ENTRY);return e}))}}e.ContextParser=l,l.DEFAULT_PROCESSING_MODE=1.1,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},"4fad":function(t,e,r){var n=r("23e7"),i=r("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"50c4":function(t,e,r){var n=r("a691"),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},"50cc":function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r("1065"),e)},5135:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},5319:function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),o=r("7b0b"),a=r("50c4"),s=r("a691"),u=r("1d80"),c=r("8aa5"),l=r("14c3"),f=Math.max,h=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,y=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,m=g?"$":"$0";return[function(r,n){var i=u(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!g&&b||"string"===typeof n&&-1===n.indexOf(m)){var o=r(e,t,this,n);if(o.done)return o.value}var u=i(t),d=String(this),p="function"===typeof n;p||(n=String(n));var v=u.global;if(v){var _=u.unicode;u.lastIndex=0}var x=[];while(1){var E=l(u,d);if(null===E)break;if(x.push(E),!v)break;var O=String(E[0]);""===O&&(u.lastIndex=c(d,a(u.lastIndex),_))}for(var S="",R=0,j=0;j<x.length;j++){E=x[j];for(var I=String(E[0]),k=f(h(s(E.index),d.length),0),C=[],T=1;T<E.length;T++)C.push(y(E[T]));var D=E.groups;if(p){var A=[I].concat(C,k,d);void 0!==D&&A.push(D);var P=String(n.apply(void 0,A))}else P=w(I,d,k,C,D,n);k>=R&&(S+=d.slice(R,k)+P,R=k+I.length)}return S+d.slice(R)}];function w(t,r,n,i,a,s){var u=n+t.length,c=i.length,l=v;return void 0!==a&&(a=o(a),l=p),e.call(s,l,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>c){var f=d(l/10);return 0===f?e:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):e}s=i[l-1]}return void 0===s?"":s}))}}))},5692:function(t,e,r){var n=r("c430"),i=r("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56af":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class n extends Error{constructor(t,e){super(t),this.code=e}}e.ErrorCoded=n,function(t){t["COLLIDING_KEYWORDS"]="colliding keywords",t["CONFLICTING_INDEXES"]="conflicting indexes",t["CYCLIC_IRI_MAPPING"]="cyclic IRI mapping",t["INVALID_ID_VALUE"]="invalid @id value",t["INVALID_INDEX_VALUE"]="invalid @index value",t["INVALID_NEST_VALUE"]="invalid @nest value",t["INVALID_PREFIX_VALUE"]="invalid @prefix value",t["INVALID_PROPAGATE_VALUE"]="invalid @propagate value",t["INVALID_REVERSE_VALUE"]="invalid @reverse value",t["INVALID_IMPORT_VALUE"]="invalid @import value",t["INVALID_VERSION_VALUE"]="invalid @version value",t["INVALID_BASE_IRI"]="invalid base IRI",t["INVALID_CONTAINER_MAPPING"]="invalid container mapping",t["INVALID_CONTEXT_ENTRY"]="invalid context entry",t["INVALID_CONTEXT_NULLIFICATION"]="invalid context nullification",t["INVALID_DEFAULT_LANGUAGE"]="invalid default language",t["INVALID_INCLUDED_VALUE"]="invalid @included value",t["INVALID_IRI_MAPPING"]="invalid IRI mapping",t["INVALID_JSON_LITERAL"]="invalid JSON literal",t["INVALID_KEYWORD_ALIAS"]="invalid keyword alias",t["INVALID_LANGUAGE_MAP_VALUE"]="invalid language map value",t["INVALID_LANGUAGE_MAPPING"]="invalid language mapping",t["INVALID_LANGUAGE_TAGGED_STRING"]="invalid language-tagged string",t["INVALID_LANGUAGE_TAGGED_VALUE"]="invalid language-tagged value",t["INVALID_LOCAL_CONTEXT"]="invalid local context",t["INVALID_REMOTE_CONTEXT"]="invalid remote context",t["INVALID_REVERSE_PROPERTY"]="invalid reverse property",t["INVALID_REVERSE_PROPERTY_MAP"]="invalid reverse property map",t["INVALID_REVERSE_PROPERTY_VALUE"]="invalid reverse property value",t["INVALID_SCOPED_CONTEXT"]="invalid scoped context",t["INVALID_SCRIPT_ELEMENT"]="invalid script element",t["INVALID_SET_OR_LIST_OBJECT"]="invalid set or list object",t["INVALID_TERM_DEFINITION"]="invalid term definition",t["INVALID_TYPE_MAPPING"]="invalid type mapping",t["INVALID_TYPE_VALUE"]="invalid type value",t["INVALID_TYPED_VALUE"]="invalid typed value",t["INVALID_VALUE_OBJECT"]="invalid value object",t["INVALID_VALUE_OBJECT_VALUE"]="invalid value object value",t["INVALID_VOCAB_MAPPING"]="invalid vocab mapping",t["IRI_CONFUSED_WITH_PREFIX"]="IRI confused with prefix",t["KEYWORD_REDEFINITION"]="keyword redefinition",t["LOADING_DOCUMENT_FAILED"]="loading document failed",t["LOADING_REMOTE_CONTEXT_FAILED"]="loading remote context failed",t["MULTIPLE_CONTEXT_LINK_HEADERS"]="multiple context link headers",t["PROCESSING_MODE_CONFLICT"]="processing mode conflict",t["PROTECTED_TERM_REDEFINITION"]="protected term redefinition",t["CONTEXT_OVERFLOW"]="context overflow",t["INVALID_BASE_DIRECTION"]="invalid base direction",t["RECURSIVE_CONTEXT_INCLUSION"]="recursive context inclusion",t["INVALID_STREAMING_KEY_ORDER"]="invalid streaming key order"}(e.ERROR_CODES||(e.ERROR_CODES={}))},"56ef":function(t,e,r){var n=r("d066"),i=r("241c"),o=r("7418"),a=r("825a");t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},"56f4":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerArrayValue=void 0;const n=r("882b");class i{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,i){return this.test(t,e,null,r,n)}async test(t,e,r,n,i){return"number"===typeof n[i]}async handle(t,e,r,i,o,a){let s=await e.unaliasKeywordParent(i,a);if("@list"===s){let r=null,n=0;for(let t=a-2;t>0;t--){const e=i[t];if("string"===typeof e||"number"===typeof e){n=t,r=e;break}}if(null!==r){const s=await e.valueToTerm(await t.getContext(i),r,o,a,i);for(const r of s)await this.handleListElement(t,e,r,o,a,i.slice(0,n),n);0===s.length&&await this.handleListElement(t,e,null,o,a,i.slice(0,n),n)}}else if("@set"===s)await t.newOnValueJob(i.slice(0,-2),o,a-2,!1);else if(void 0!==s&&"@type"!==s){for(let t=a-1;t>0;t--)if("number"!==typeof i[t]){s=await e.unaliasKeyword(i[t],i,t);break}const r=await t.getContext(i.slice(0,-1));if("@list"in n.Util.getContextValueContainer(r,s)){t.emittedStack[a+1]=!0;const r=await e.valueToTerm(await t.getContext(i),s,o,a,i);for(const n of r)await this.handleListElement(t,e,n,o,a,i.slice(0,-1),a-1);0===r.length&&await this.handleListElement(t,e,null,o,a,i.slice(0,-1),a-1)}else t.shiftStack(a,1),await t.newOnValueJob(i.slice(0,-1),o,a-1,!1),t.contextTree.removeContext(i.slice(0,-1))}}async handleListElement(t,e,r,n,i,o,a){let s=t.listPointerStack[i];if(null!==n&&null!==(await e.unaliasKeywords(n,o,i))["@value"]){if(s&&s.value){const r=e.dataFactory.blankNode();t.emitQuad(i,e.dataFactory.quad(s.value,e.rdfRest,r,e.getDefaultGraph())),s.value=r}else{const t=e.dataFactory.blankNode();s={value:t,listRootDepth:a,listId:t}}r&&t.emitQuad(i,e.dataFactory.quad(s.value,e.rdfFirst,r,e.getDefaultGraph()))}else s||(s={listRootDepth:a,listId:e.rdfNil});t.listPointerStack[i]=s}}e.EntryHandlerArrayValue=i},5727:function(t,e,r){"use strict";t.exports=function t(e){return null===e||"object"!==typeof e||null!=e.toJSON?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((e,r,n)=>{const i=0===n?"":",",o=void 0===r||"symbol"===typeof r?null:r;return e+i+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,i)=>{if(void 0===e[n]||"symbol"===typeof e[n])return r;const o=0===r.length?"":",";return r+o+t(n)+":"+t(e[n])},"")+"}"}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),i=r("5899"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(a,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},"5a34":function(t,e,r){var n=r("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5bc9":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class n{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&"#"===t[0])}static getPrefix(t,e){if(t&&"#"===t[0])return null;const r=t.indexOf(":");if(r>=0){if(t.length>r+1&&"/"===t.charAt(r+1)&&"/"===t.charAt(r+2))return null;const n=t.substr(0,r);if("_"===n)return null;if(e[n])return n}return null}static getContextValueId(t){if(null===t||"string"===typeof t)return t;const e=t["@id"];return e||null}static isSimpleTermDefinitionPrefix(t,e){return!n.isPotentialKeyword(t)&&("_"===t[0]||e.allowPrefixNonGenDelims||n.isPrefixIriEndingWithGenDelim(t))}static isPotentialKeyword(t){return"string"===typeof t&&n.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return n.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&("string"===typeof t||t&&"object"===typeof t)}static isValidIri(t){return n.IRI_REGEX.test(t)}static isValidIriWeak(t){return!!t&&":"!==t[0]&&n.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return n.VALID_KEYWORDS[t]}static isTermProtected(t,e){const r=t[e];return!("string"===typeof r)&&r&&r["@protected"]}static hasProtectedTerms(t){for(const e of Object.keys(t))if(n.isTermProtected(t,e))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}}e.Util=n,n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"]},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5d41":function(t,e,r){var n=r("23e7"),i=r("861d"),o=r("825a"),a=r("5135"),s=r("06cf"),u=r("e163");function c(t,e){var r,n,l=arguments.length<3?t:arguments[2];return o(t)===l?t[e]:(r=s.f(t,e))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(l):i(n=u(t))?c(n,e,l):void 0}n({target:"Reflect",stat:!0},{get:c})},"5e1a":function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=r("8707").Buffer,o=r(1);function a(t,e,r){t.copy(e,r)}t.exports=function(){function t(){n(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";var e=this.head,r=""+e.data;while(e=e.next)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;var e=i.allocUnsafe(t>>>0),r=this.head,n=0;while(r)a(r.data,e,n),n+=r.data.length,r=r.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},"5e9c":function(t,e,r){"use strict";r("caad"),r("d81d"),r("13d5"),r("b0c0"),r("4fad"),r("b64b"),r("07ac"),r("2532");var n=r("d0af"),i=(r("96cf"),r("c964")),o=r("276c"),a=r("e954"),s=r("ddbf"),u=r.n(s);const c=(t,e)=>e.some(e=>t instanceof e);let l,f;function h(){return l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d(){return f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap;function m(t){const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(S(t.result)),n()},o=()=>{r(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(e=>{e instanceof IDBCursor&&p.set(e,t)}).catch(()=>{}),b.set(e,t),e}function w(t){if(v.has(t))return;const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),n()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});v.set(t,e)}let _={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return v.get(t);if("objectStoreNames"===e)return t.objectStoreNames||y.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return S(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function x(t){_=t(_)}function E(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?d().includes(t)?function(...e){return t.apply(R(this),e),S(p.get(this))}:function(...e){return S(t.apply(R(this),e))}:function(e,...r){const n=t.call(R(this),e,...r);return y.set(n,e.sort?e.sort():[e]),S(n)}}function O(t){return"function"===typeof t?E(t):(t instanceof IDBTransaction&&w(t),c(t,h())?new Proxy(t,_):t)}function S(t){if(t instanceof IDBRequest)return m(t);if(g.has(t))return g.get(t);const e=O(t);return e!==t&&(g.set(t,e),b.set(e,t)),e}const R=t=>b.get(t);function j(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=S(a);return n&&a.addEventListener("upgradeneeded",t=>{n(S(a.result),t.oldVersion,t.newVersion,S(a.transaction))}),r&&a.addEventListener("blocked",()=>r()),s.then(t=>{o&&t.addEventListener("close",()=>o()),i&&t.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}function I(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",()=>e()),S(r).then(()=>{})}const k=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],T=new Map;function D(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(T.get(e))return T.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=C.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!k.includes(r))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;n&&(a=a.index(e.shift()));const s=await a[r](...e);return i&&await o.done,s};return T.set(e,o),o}x(t=>({...t,get:(e,r,n)=>D(e,r)||t.get(e,r,n),has:(e,r)=>!!D(e,r)||t.has(e,r)}));var A=function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"getFromDocument",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:0,e.updatedAt){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,this.getDocumentData(e.url);case 5:if(n=t.sent,n&&!(Math.abs(e.updatedAt.getTime()-n.updatedAt.getTime())>r)){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",this.deserializeModels(n));case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"rememberDocument",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.setDocumentData(e,{models:{},updatedAt:r});case 4:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"remember",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},n=e.getDocumentUrl(),n){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.getDocumentData(n);case 6:if(i=t.sent,i){t.next=9;break}return t.abrupt("return");case 9:return i.models[e.url]=this.serializeModel(e,r),t.next=12,this.setDocumentData(n,i);case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"forgetDocument",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.deleteDocumentData(e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"clear",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.connection&&(this.connection.close(),delete this.connection),t.next=3,I("media-kraken");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getDocumentData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getConnection();case 3:return r=t.sent,t.next=6,this.retryingOnTransactionInactive((function(){var t=r.transaction("models-cache","readonly");return t.store.get(e)}));case 6:return n=t.sent,t.abrupt("return",n||null);case 10:return t.prev=10,t.t0=t["catch"](0),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"setDocumentData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getConnection();case 2:return n=t.sent,t.next=5,this.retryingOnTransactionInactive((function(){var t=n.transaction("models-cache","readwrite");return t.store.put(r,e),t.done}));case 5:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"deleteDocumentData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getConnection();case 2:return r=t.sent,t.next=5,this.retryingOnTransactionInactive((function(){var t=r.transaction("models-cache","readwrite");return t.store.delete(e),t.done}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"serializeModel",value:function(t,e){return{modelName:t.modelClass.modelName,attributes:t.getAttributes(),relationModelNames:Object.keys(e).reduce((function(e,r){return e[r]=t.getRelation(r).relatedClass.modelName,e}),{}),relationAttributes:Object.entries(e).reduce((function(t,e){var r=Object(n["a"])(e,2),i=r[0],o=r[1];return t[i]=o.map((function(t){return t.getAttributes()})),t}),{})}}},{key:"deserializeModels",value:function(t){var e=this;return Object.values(t.models).map((function(t){return e.deserializeModel(t)}))}},{key:"deserializeModel",value:function(t){for(var e=u.a.model(t.modelName),r=e.newInstance(t.attributes,!0),i=function(){var e=Object(n["a"])(a[o],2),i=e[0],s=e[1];r.setRelationModels(i,s.map((function(e){var r=u.a.model(t.relationModelNames[i]);return r.newInstance(e,!0)})))},o=0,a=Object.entries(t.relationAttributes);o<a.length;o++)i();return r}},{key:"getConnection",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.connection){t.next=4;break}return t.next=3,j("media-kraken",1,{upgrade:function(t){t.createObjectStore("models-cache")}});case 3:this.connection=t.sent;case 4:return t.abrupt("return",this.connection);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"retryingOnTransactionInactive",value:function(t){try{return t()}catch(e){if(!(e instanceof Error)||!e.name.toLowerCase().includes("inactive")&&!e.message.toLowerCase().includes("inactive"))throw e;return t()}}}]),t}();e["a"]=new A},"5fb2":function(t,e,r){"use strict";var n=2147483647,i=36,o=1,a=26,s=38,u=700,c=72,l=128,f="-",h=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",v=i-o,y=Math.floor,g=String.fromCharCode,b=function(t){var e=[],r=0,n=t.length;while(r<n){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=t.charCodeAt(r++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--)}else e.push(i)}return e},m=function(t){return t+22+75*(t<26)},w=function(t,e,r){var n=0;for(t=r?y(t/u):t>>1,t+=y(t/e);t>v*a>>1;n+=i)t=y(t/v);return y(n+(v+1)*t/(t+s))},_=function(t){var e=[];t=b(t);var r,s,u=t.length,h=l,d=0,v=c;for(r=0;r<t.length;r++)s=t[r],s<128&&e.push(g(s));var _=e.length,x=_;_&&e.push(f);while(x<u){var E=n;for(r=0;r<t.length;r++)s=t[r],s>=h&&s<E&&(E=s);var O=x+1;if(E-h>y((n-d)/O))throw RangeError(p);for(d+=(E-h)*O,h=E,r=0;r<t.length;r++){if(s=t[r],s<h&&++d>n)throw RangeError(p);if(s==h){for(var S=d,R=i;;R+=i){var j=R<=v?o:R>=v+a?a:R-v;if(S<j)break;var I=S-j,k=i-j;e.push(g(m(j+I%k))),S=y(I/k)}e.push(g(m(S))),v=w(d,O,x==_),d=0,++x}}++d,++h}return e.join("")};t.exports=function(t){var e,r,n=[],i=t.toLowerCase().replace(d,".").split(".");for(e=0;e<i.length;e++)r=i[e],n.push(h.test(r)?"xn--"+_(r):r);return n.join(".")}},"60da":function(t,e,r){"use strict";var n=r("83ab"),i=r("d039"),o=r("df75"),a=r("7418"),s=r("d1e7"),u=r("7b0b"),c=r("44ad"),l=Object.assign,f=Object.defineProperty;t.exports=!l||i((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||o(l({},e)).join("")!=i}))?function(t,e){var r=u(t),i=arguments.length,l=1,f=a.f,h=s.f;while(i>l){var d,p=c(arguments[l++]),v=f?o(p).concat(f(p)):o(p),y=v.length,g=0;while(y>g)d=v[g++],n&&!h.call(p,d)||(r[d]=p[d])}return r}:l},6547:function(t,e,r){var n=r("a691"),i=r("1d80"),o=function(t){return function(e,r){var o,a,s=String(i(e)),u=n(r),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},6566:function(t,e,r){"use strict";var n=r("9bf2").f,i=r("7c73"),o=r("e2cc"),a=r("0366"),s=r("19aa"),u=r("2266"),c=r("7dd0"),l=r("2626"),f=r("83ab"),h=r("f183").fastKey,d=r("69f3"),p=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,r,c){var l=t((function(t,n){s(t,l,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=n&&u(n,t[c],t,r)})),d=v(e),y=function(t,e,r){var n,i,o=d(t),a=g(t,e);return a?a.value=r:(o.last=a={index:i=h(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),f?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},g=function(t,e){var r,n=d(t),i=h(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return o(l.prototype,{clear:function(){var t=this,e=d(t),r=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,r=d(e),n=g(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),f?r.size--:e.size--}return!!n},forEach:function(t){var e,r=d(this),n=a(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:r.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),o(l.prototype,r?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),f&&n(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(t,e,r){var n=e+" Iterator",i=v(e),o=v(n);c(t,e,(function(t,e){p(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,r=t.last;while(r&&r.removed)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(e)}}},"65f0":function(t,e,r){var n=r("861d"),i=r("e8b5"),o=r("b622"),a=o("species");t.exports=function(t,e){var r;return i(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"69f3":function(t,e,r){var n,i,o,a=r("7f9a"),s=r("da84"),u=r("861d"),c=r("9112"),l=r("5135"),f=r("f772"),h=r("d012"),d=s.WeakMap,p=function(t){return o(t)?i(t):n(t,{})},v=function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}};if(a){var y=new d,g=y.get,b=y.has,m=y.set;n=function(t,e){return m.call(y,t,e),e},i=function(t){return g.call(y,t)||{}},o=function(t){return b.call(y,t)}}else{var w=f("state");h[w]=!0,n=function(t,e){return c(t,w,e),e},i=function(t){return l(t,w)?t[w]:{}},o=function(t){return l(t,w)}}t.exports={set:n,get:i,has:o,enforce:p,getterFor:v}},"6d61":function(t,e,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("94ca"),a=r("6eeb"),s=r("f183"),u=r("2266"),c=r("19aa"),l=r("861d"),f=r("d039"),h=r("1c7e"),d=r("d44e"),p=r("7156");t.exports=function(t,e,r){var v=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),g=v?"set":"add",b=i[t],m=b&&b.prototype,w=b,_={},x=function(t){var e=m[t];a(m,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(o(t,"function"!=typeof b||!(y||m.forEach&&!f((function(){(new b).entries().next()})))))w=r.getConstructor(e,t,v,g),s.REQUIRED=!0;else if(o(t,!0)){var E=new w,O=E[g](y?{}:-0,1)!=E,S=f((function(){E.has(1)})),R=h((function(t){new b(t)})),j=!y&&f((function(){var t=new b,e=5;while(e--)t[g](e,e);return!t.has(-0)}));R||(w=e((function(e,r){c(e,w,t);var n=p(new b,e,w);return void 0!=r&&u(r,n[g],n,v),n})),w.prototype=m,m.constructor=w),(S||j)&&(x("delete"),x("has"),v&&x("get")),(j||O)&&x(g),y&&m.clear&&delete m.clear}return _[t]=w,n({global:!0,forced:w!=b},_),d(w,t),y||r.setStrong(w,t,v),w}},"6ea5":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return R}));r("99af"),r("4de4"),r("7db0"),r("4160"),r("d81d"),r("13d5"),r("ac1f"),r("466d"),r("2ca0"),r("159b");var n=r("d0ff"),i=(r("96cf"),r("c964")),o=r("276c"),a=r("e954"),s=r("92a6"),u=r("920b"),c=r("dfab"),l=r("ddbf"),f=r.n(l),h=r("b6cd"),d=(r("c975"),r("a15b"),r("4d63"),r("25f0"),r("5319"),r("1276"),r("498a"),function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"capitalize",value:function(t){return t.substr(0,1).toUpperCase()+t.substr(1)}},{key:"camel",value:function(t){return t.split(/_|-|\s|(?=[A-Z])/).map((function(t,e){return 0===t.length?t:0===e?t.toLowerCase():t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()})).join("")}},{key:"parseVersion",value:function(t){var e=t.match(/(\d+)\.(\d+)\.(\d+)(-(.*))?/);return e?e[5]?[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),e[5]]:[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]:null}},{key:"slug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t=t.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\d\w\s]/g,"").toLowerCase().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp("".concat(e,"+"),"g"),e)),t}},{key:"contains",value:function(t,e){return-1!==t.indexOf(e)}},{key:"studly",value:function(t){return t.split(/_|-|\s/).map((function(t){return t.length>0?t.substr(0,1).toUpperCase()+t.substr(1):t})).join("")}}]),t}()),p=new d,v=(r("a4d3"),r("e01a"),function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"validate",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:throw new Error("TMDB movies validation is not implemented");case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"parse",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new R({title:e.title,externalUrls:["https://www.themoviedb.org/movie/".concat(e.id)]}),e.overview&&(r.description=e.overview),e.release_date&&(r.releaseDate=new Date(e.release_date)),e.poster_path&&(r.posterUrl="https://image.tmdb.org/t/p/w500".concat(e.poster_path)),e.imdb_id&&r.externalUrls.push("https://www.imdb.com/title/".concat(e.imdb_id)),r.setRelationModels("actions",[]),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}()),y=new v,g=(r("4fad"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("d0af")),b=r("f3f3"),m=function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"getMovie",value:function(t){return this.request("movie/".concat(t))}},{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("find/".concat(t),e)}},{key:"searchMovies",value:function(t){return this.request("search/movie",{query:t})}},{key:"isMovie",value:function(t){return"release_date"in t}},{key:"request",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n=new URL("https://api.themoviedb.org/3/"+e),Object.entries(Object(b["a"])({},r,{api_key:"f7105a03bb0a59160d88c3d60fbc2ff1"})).forEach((function(t){var e=Object(g["a"])(t,2),r=e[0],i=e[1];return n.searchParams.append(r,i)})),t.next=5,fetch(n.href);case 5:return t.abrupt("return",t.sent.json());case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),w=new m,_=function(){function t(){Object(o["a"])(this,t),this.cache={}}return Object(a["a"])(t,[{key:"resolveImdbId",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.fromCache("imdb-".concat(e),Object(i["a"])(regeneratorRuntime.mark((function t(){var r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.find(e,{external_source:"imdb_id"});case 2:return i=t.sent,o=[].concat(Object(n["a"])(i.movie_results),Object(n["a"])(i.person_results),Object(n["a"])(i.tv_results)),t.abrupt("return",null!==(r=o[0])&&void 0!==r?r:null);case 5:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"fromCache",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e in this.cache){t.next=4;break}return t.next=3,r();case 3:this.cache[e]=t.sent;case 4:return t.abrupt("return",this.cache[e]);case 5:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()}]),t}(),x=new _,E=r("bef6"),O=r("34b3"),S=r("e423"),R=function(t){Object(u["a"])(r,t);var e=Object(s["a"])(r);function r(){return Object(o["a"])(this,r),e.apply(this,arguments)}return Object(a["a"])(r,[{key:"is",value:function(t){return this.slug===t.slug||!!this.externalUrls.find((function(e){return h["a"].contains(e,t.externalUrls)}))}},{key:"actionsRelationship",value:function(){return this.hasMany(S["default"],"object").usingSameDocument().onDelete("cascade")}},{key:"fetchMissingAttributes",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.imdbId||!this.tmdbId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.resolveTMDBMovie();case 4:if(e=t.sent,e){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,y.parse(e);case 9:r=t.sent,this.setAttributes(r.getAttributes()),this.regenerateUrls();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"watch",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||new Date,t.abrupt("return",this.relatedActions.create({startTime:e,endTime:e}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"hasLegacySchema",value:function(){if(!this.exists()||this.wasRecentlyCreated())return!1;var t=this.getDocumentUrl(),e=this.getSourceDocumentUrl();return null!==t&&null!==e&&t!==e||!p.contains(this.url,"#")}},{key:"migrateSchema",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.exists()&&!this.wasRecentlyCreated()){t.next=2;break}return t.abrupt("return");case 2:return i=this.getSourceDocumentUrl(),o=null!==(e=null===(r=E["a"].parse(this.url))||void 0===r?void 0:r.fragment)&&void 0!==e?e:this.modelClass.defaultResourceHash,a="".concat(i,"#").concat(o),s=this.relatedActions.getLoadedModels().filter((function(t){return t.getSourceDocumentUrl()===i})),u=s.reduce((function(t,e){var r,n,o=null!==(r=null===(n=E["a"].parse(e.url))||void 0===n?void 0:n.fragment)&&void 0!==r?r:O["a"].generate();return t[e.url]="".concat(i,"#").concat(o),t}),{}),t.next=9,f.a.requireEngine().update(this.getSourceContainerUrl(),this.getSourceDocumentUrl(),{"@graph":{$updateItems:[{$where:{"@id":this.url},$update:{"@id":a}}].concat(Object(n["a"])(s.map((function(t){return{$where:{"@id":t.url},$update:{"@id":u[t.url],"https://schema.org/object":{"@id":a}}}}))))}});case 9:this.fixLegacyAttributes(a),s.forEach((function(t){return t.fixLegacyAttributes(u[t.url],a)}));case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"newUrl",value:function(t,e){var r,n;return t=null!==(r=t)&&void 0!==r?r:E["a"].resolve(this.modelClass.collection,this.slug),e=null!==(n=e)&&void 0!==n?n:this.modelClass.defaultResourceHash,"".concat(t,"#").concat(e)}},{key:"resolveTMDBMovie",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.tmdbId){t.next=2;break}return t.abrupt("return",w.getMovie(this.tmdbId));case 2:if(!this.imdbId){t.next=10;break}return t.next=5,x.resolveImdbId(this.imdbId);case 5:if(e=t.sent,null!==e&&w.isMovie(e)){t.next=8;break}return t.abrupt("return",null);case 8:return e.imdb_id=this.imdbId,t.abrupt("return",e);case 10:return t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"regenerateUrls",value:function(){var t=this;if(this.url&&!this.exists()&&this.isDocumentRoot()){var e=(this.actions||[]).filter((function(e){return e.url&&e.url.startsWith(t.url)}));this.mintUrl(),e.forEach((function(e){return e.mintUrl(t.url)}))}}},{key:"fixLegacyAttributes",value:function(t){this._attributes.url=t}},{key:"watched",get:function(){return!!this.actions&&this.actions.length>0}},{key:"pending",get:function(){return!this.watched}},{key:"watchedAt",get:function(){return this.watched?this.actions[0].createdAt:null}},{key:"uuid",get:function(){var t;return this.url&&null!==(t=this.url.match(/([^/#]+)(#.*)?$/)[1])&&void 0!==t?t:null}},{key:"slug",get:function(){var t,e=p.slug(this.title);return(null===(t=this.releaseDate)||void 0===t?void 0:t.getFullYear())&&(e+="-"+this.releaseDate.getFullYear()),e}},{key:"imdbUrl",get:function(){return this.externalUrls.find((function(t){return p.contains(t,"imdb.com")}))||null}},{key:"tmdbUrl",get:function(){return this.externalUrls.find((function(t){return p.contains(t,"themoviedb.org")}))||null}},{key:"imdbId",get:function(){if(!this.imdbUrl)return null;var t=this.imdbUrl.match(/https:\/\/www\.imdb\.com\/title\/([^/]+)/);return t?t[1]:null}},{key:"tmdbId",get:function(){if(!this.tmdbUrl)return null;var t=this.tmdbUrl.match(/https:\/\/www\.themoviedb\.org\/movie\/(\d+)/);return t?parseInt(t[1]):null}}]),r}(c["SolidModel"]);R.rdfContexts={schema:"https://schema.org/"},R.rdfsClasses=["schema:Movie"],R.fields={title:{type:l["FieldType"].String,rdfProperty:"schema:name",required:!0},description:{type:l["FieldType"].String,rdfProperty:"schema:description"},releaseDate:{type:l["FieldType"].Date,rdfProperty:"schema:datePublished"},posterUrl:{type:l["FieldType"].String,rdfProperty:"schema:image"},externalUrls:{type:l["FieldType"].Array,rdfProperty:"schema:sameAs",items:{type:l["FieldType"].String}}}},"6eeb":function(t,e,r){var n=r("da84"),i=r("9112"),o=r("5135"),a=r("ce4e"),s=r("8925"),u=r("69f3"),c=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,r,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||i(r,"name",e),l(r).source=f.join("string"==typeof e?e:"")),t!==n?(u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=r:i(t,e,r)):c?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},"6f53":function(t,e,r){var n=r("83ab"),i=r("df75"),o=r("fc6a"),a=r("d1e7").f,s=function(t){return function(e){var r,s=o(e),u=i(s),c=u.length,l=0,f=[];while(c>l)r=u[l++],n&&!a.call(s,r)||f.push(t?[r,s[r]]:s[r]);return f}};t.exports={entries:s(!0),values:s(!1)}},7096:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0;class n{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&"BlankNode"===t.termType&&t.value===this.value}}e.BlankNode=n},7156:function(t,e,r){var n=r("861d"),i=r("d2bb");t.exports=function(t,e,r){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(t,a),t}},7274:function(t,e){(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(t){return t&&DataView.prototype.isPrototypeOf(t)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!==typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function h(t){var e=new FileReader,r=f(e);return e.readAsArrayBuffer(t),r}function d(t){var e=new FileReader,r=f(e);return e.readAsText(t),r}function p(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&n(t)?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=a(t),e=s(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},c.prototype["delete"]=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=s(e)},c.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),u(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),u(t)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}function m(t,e){e=e||{};var r=e.body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=b(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t){var e=new c,r=t.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e}function x(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];x.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new x(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(S){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function O(t,n){return new Promise((function(i,o){var a=new m(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:_(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;i(new x(e,t))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}O.polyfill=!0,t.fetch||(t.fetch=O,t.Headers=c,t.Request=m,t.Response=x),e.Headers=c,e.Request=m,e.Response=x,e.fetch=O})({})})("undefined"!==typeof self?self:this)},"72a3":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerInvalidFallback=void 0;class n{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,i){return!1}async test(t,e,r,n,i){return!0}async handle(t,e,r,n,i,o){t.emittedStack[o]=!1}}e.EntryHandlerInvalidFallback=n},"72aa":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdSerializer=void 0;const n=r("e6e5"),i=r("d485"),o=r("43e4"),a=r("c3f4");class s extends i.Transform{constructor(t={}){super({objectMode:!0}),this.indentation=0,this.options=t,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=(new n.ContextParser).parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new n.JsonLdContextNormalized({}))}import(t){const e=new i.PassThrough({objectMode:!0});t.on("error",t=>r.emit("error",t)),t.on("data",t=>e.push(t)),t.on("end",()=>e.push(null));const r=e.pipe(new s(this.options));return r}_transform(t,e,r){this.context.then(e=>{this.transformQuad(t,e),r()}).catch(r)}async list(t){const e=await this.context;return{"@list":t.map(t=>a.Util.termToValue(t,e,this.options))}}_flush(t){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&"DefaultGraph"!==this.lastGraph.termType&&this.endGraph(),this.endDocument(),t(null,null)}transformQuad(t,e){this.opened||this.pushDocumentStart();const r=this.lastGraph&&"DefaultGraph"!==this.lastGraph.termType&&this.lastGraph.equals(t.subject);if(!r&&(!this.lastGraph||!t.graph.equals(this.lastGraph))){let r="DefaultGraph"!==t.graph.termType&&this.lastSubject&&this.lastSubject.equals(t.graph);this.lastGraph&&("DefaultGraph"!==this.lastGraph.termType?(this.endPredicate(),this.endSubject(),this.endGraph(!0),r=!1):r?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),"DefaultGraph"!==t.graph.termType&&(r||this.pushId(t.graph,e),this.pushSeparator(this.options.space?o.SeparatorType.GRAPH_FIELD_NONCOMPACT:o.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=t.graph}this.lastSubject&&t.subject.equals(this.lastSubject)||(r?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END_COMMA),this.lastGraph=t.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(t.subject,e)),this.lastSubject=t.subject),this.lastPredicate&&t.predicate.equals(this.lastPredicate)||(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(t.predicate,e)),this.pushObject(t.object,e)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(o.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(o.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?o.SeparatorType.GRAPH_FIELD_NONCOMPACT:o.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(o.SeparatorType.ARRAY_START),this.indentation++)}pushId(t,e){const r="BlankNode"===t.termType?"_:"+t.value:e.compactIri(t.value,!1);this.pushSeparator(o.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?`"@id": "${r}",`:`"@id":"${r}",`)}pushPredicate(t,e){let r=t.value;this.options.useRdfType||r!==a.Util.RDF_TYPE||(r="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const n=e.compactIri(r,!0);this.pushIndented(this.options.space?`"${n}": [`:`"${n}":[`),this.indentation++,this.lastPredicate=t}pushObject(t,e){let r;this.hadObjectForPredicate?this.pushSeparator(o.SeparatorType.COMMA):this.hadObjectForPredicate=!0;try{r=t["@list"]?t:a.Util.termToValue(t,e,this.objectOptions||this.options)}catch(n){return this.emit("error",n)}this.pushIndented(JSON.stringify(r,null,this.options.space))}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(o.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END))}endPredicate(t){this.indentation--,this.pushSeparator(t?o.SeparatorType.ARRAY_END_COMMA:o.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(t){this.indentation--,this.pushSeparator(t?o.SeparatorType.OBJECT_END_COMMA:o.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(t){this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(t?o.SeparatorType.OBJECT_END_COMMA:o.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(t){this.pushIndented(t.label)}pushIndented(t){const e=this.getIndentPrefix(),r=t.split("\n").map(t=>e+t).join("\n");this.push(r),this.options.space&&this.push("\n")}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}}e.JsonLdSerializer=s},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,r){var n=r("428f"),i=r("5135"),o=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},"780f":function(t,e,r){"use strict";t.exports=o;var n=r("27bf"),i=Object.create(r("3a7c"));function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r("3fb5"),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"786d":function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));r("4de4"),r("7db0"),r("caad"),r("d3b7"),r("ac1f"),r("1276"),r("2ca0"),r("96cf");var n=r("c964"),i=r("d0af"),o=r("276c"),a=r("e954"),s=r("dfab"),u=r("4e8b"),c=r("92a6"),l=r("920b"),f=r("335a"),h=function(t){Object(l["a"])(r,t);var e=Object(c["a"])(r);function r(t){var n;return Object(o["a"])(this,r),n=e.call(this,"Request failed trying to fetch ".concat(t)),n.url=t,n}return r}(f["a"]),d=r("bab3"),p={foaf:"http://xmlns.com/foaf/0.1/",pim:"http://www.w3.org/ns/pim/space#",purl:"http://purl.org/dc/terms/",rdfs:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",vcard:"http://www.w3.org/2006/vcard/ns#"},v=function(){function t(e){Object(o["a"])(this,t),this._statements=e}return Object(a["a"])(t,[{key:"statements",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._statements.filter((function(i){return(null===e||i.subject.value===t.resolveIRI(e))&&(null===r||i.predicate.value===t.resolveIRI(r))&&(null===n||i.object.value===t.resolveIRI(n))}))}},{key:"statement",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._statements.find((function(i){return(null===e||i.subject.value===t.resolveIRI(e))&&(null===r||i.predicate.value===t.resolveIRI(r))&&(null===n||i.object.value===t.resolveIRI(n))}))||null}},{key:"contains",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!==this.statement(t,e,r)}},{key:"resolveIRI",value:function(t){if("string"!==typeof t||t.startsWith("http"))return t;var e=t.split(":"),r=Object(i["a"])(e,2),n=r[0],o=r[1];return o&&n in p?p[n]+o:t}}],[{key:"fromUrl",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData(e,r);case 2:return n=t.sent,t.abrupt("return",this.parse(r,n));case 4:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"fetchData",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={headers:{Accept:"text/turtle"}},t.prev=1,t.next=4,e(r,n);case 4:if(i=t.sent,![401,403].includes(i.status)){t.next=7;break}throw new d["a"](403===i.status,r);case 7:return t.abrupt("return",i.text());case 10:if(t.prev=10,t.t0=t["catch"](1),!(t.t0 instanceof d["a"])){t.next=14;break}throw t.t0;case 14:throw new h(r);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"parse",value:function(e,r){var n=[],i=new u["a"]({baseIRI:e,format:"text/turtle"});return new Promise((function(o,a){i.parse(r,(function(r,i){r?a(new s["MalformedDocumentError"](e,s["DocumentFormat"].RDF,r.message)):i?n.push(i):o(new t(n))}))}))}}]),t}()},"7b0b":function(t,e,r){var n=r("1d80");t.exports=function(t){return Object(n(t))}},"7c73":function(t,e,r){var n,i=r("825a"),o=r("37e8"),a=r("7839"),s=r("d012"),u=r("1be4"),c=r("cc12"),l=r("f772"),f=">",h="<",d="prototype",p="script",v=l("IE_PROTO"),y=function(){},g=function(t){return h+p+f+t+h+"/"+p+f},b=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=c("iframe"),r="java"+p+":";return e.style.display="none",u.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},w=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}w=n?b(n):m();var t=a.length;while(t--)delete w[d][a[t]];return w()};s[v]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(y[d]=i(t),r=new y,y[d]=null,r[v]=t):r=w(),void 0===e?r:o(r,e)}},"7d72":function(t,e,r){"use strict";var n=r("8707").Buffer,i=n.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){if(!t)return"utf8";var e;while(1)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function a(t){var e=o(t);if("string"!==typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=a(t),this.encoding){case"utf16le":this.text=p,this.end=v,e=4;break;case"utf8":this.fillLast=f,e=4;break;case"base64":this.text=y,this.end=g,e=3;break;default:return this.write=b,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function u(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function c(t,e,r){var n=e.length-1;if(n<r)return 0;var i=u(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=u(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=u(e[n]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function l(t,e,r){if(128!==(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"�"}}function f(t){var e=this.lastTotal-this.lastNeed,r=l(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function h(t,e){var r=c(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function p(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function v(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function y(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function b(t){return t.toString(this.encoding)}function m(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=d,s.prototype.text=h,s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},"7db0":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").find,o=r("44d2"),a=r("ae40"),s="find",u=!0,c=a(s);s in[]&&Array(1)[s]((function(){u=!1})),n({target:"Array",proto:!0,forced:u||!c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},"7dd0":function(t,e,r){"use strict";var n=r("23e7"),i=r("9ed3"),o=r("e163"),a=r("d2bb"),s=r("d44e"),u=r("9112"),c=r("6eeb"),l=r("b622"),f=r("c430"),h=r("3f8c"),d=r("ae93"),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,y=l("iterator"),g="keys",b="values",m="entries",w=function(){return this};t.exports=function(t,e,r,l,d,_,x){i(r,e,l);var E,O,S,R=function(t){if(t===d&&T)return T;if(!v&&t in k)return k[t];switch(t){case g:return function(){return new r(this,t)};case b:return function(){return new r(this,t)};case m:return function(){return new r(this,t)}}return function(){return new r(this)}},j=e+" Iterator",I=!1,k=t.prototype,C=k[y]||k["@@iterator"]||d&&k[d],T=!v&&C||R(d),D="Array"==e&&k.entries||C;if(D&&(E=o(D.call(new t)),p!==Object.prototype&&E.next&&(f||o(E)===p||(a?a(E,p):"function"!=typeof E[y]&&u(E,y,w)),s(E,j,!0,!0),f&&(h[j]=w))),d==b&&C&&C.name!==b&&(I=!0,T=function(){return C.call(this)}),f&&!x||k[y]===T||u(k,y,T),h[e]=T,d)if(O={values:R(b),keys:_?T:R(g),entries:R(m)},x)for(S in O)!v&&!I&&S in k||c(k,S,O[S]);else n({target:e,proto:!0,forced:v||I},O);return O}},"7f9a":function(t,e,r){var n=r("da84"),i=r("8925"),o=n.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},8026:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0;class n{constructor(t,e,r,n){this.termType="Quad",this.value="",this.subject=t,this.predicate=e,this.object=r,this.graph=n}equals(t){return!!t&&("Quad"===t.termType||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}e.Quad=n},8151:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("d3b7"),r("4ae1"),r("25f0");function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},"825a":function(t,e,r){var n=r("861d");t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,r){var n=r("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,r){"use strict";var n=r("c04e"),i=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var a=n(e);a in t?i.f(t,a,o(0,r)):t[a]=r}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8707:function(t,e,r){var n=r("b639"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),o(i,a),a.from=function(t,e,r){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!==typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"===typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},"882b":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const n=r("e6e5"),i=r("c513"),o=r("af6b"),a=r("5727");class s{constructor(t){this.parsingContext=t.parsingContext,this.dataFactory=t.dataFactory||new i.DataFactory,this.rdfFirst=this.dataFactory.namedNode(s.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(s.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(s.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(s.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(s.RDF+"JSON")}static getContextValue(t,e,r,n){const i=t.getContextRaw()[r];if(!i)return n;const o=i[e];return void 0===o?n:o}static getContextValueContainer(t,e){return s.getContextValue(t,"@container",e,{"@set":!0})}static getContextValueType(t,e){const r=s.getContextValue(t,"@type",e,null);return"@none"===r?null:r}static getContextValueLanguage(t,e){return s.getContextValue(t,"@language",e,t.getContextRaw()["@language"]||null)}static getContextValueDirection(t,e){return s.getContextValue(t,"@direction",e,t.getContextRaw()["@direction"]||null)}static isContextValueReverse(t,e){return!!s.getContextValue(t,"@reverse",e,null)}static getContextValueIndex(t,e){return s.getContextValue(t,"@index",e,t.getContextRaw()["@index"]||null)}static isPropertyReverse(t,e,r){return"@reverse"===r!==s.isContextValueReverse(t,e)}static isValidIri(t){return null!==t&&n.Util.isValidIri(t)}static isPrefixArray(t,e){if(t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}async validateValueIndexes(t){if(this.parsingContext.validateValueIndexes){const e={};for(const r of t)if(r&&"object"===typeof r){const t=r["@id"],i=r["@index"];if(t&&i){const r=e[t];if(r&&r!==i)throw new n.ErrorCoded(`Conflicting @index value for ${t}`,n.ERROR_CODES.CONFLICTING_INDEXES);e[t]=i}}}}async valueToTerm(t,e,r,i,o){if("@json"===s.getContextValueType(t,e))return[this.dataFactory.literal(this.valueToJsonString(r),this.rdfJson)];const a=typeof r;switch(a){case"object":if(null===r||void 0===r)return[];if(Array.isArray(r))return"@list"in s.getContextValueContainer(t,e)?0===r.length?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:(await this.validateValueIndexes(r),[]);if(t=await this.getContextSelfOrPropertyScoped(t,e),"@context"in r&&(t=await this.parsingContext.parseContext(r["@context"],(await this.parsingContext.getContext(o,0)).getContextRaw())),r=await this.unaliasKeywords(r,o,i,t),"@value"in r){let a,s,u,c,l;for(e in r){const t=r[e];switch(e){case"@value":a=t;break;case"@language":s=t;break;case"@direction":u=t;break;case"@type":c=t;break;case"@index":l=t;break;default:throw new n.ErrorCoded(`Unknown value entry '${e}' in @value: ${JSON.stringify(r)}`,n.ERROR_CODES.INVALID_VALUE_OBJECT)}}if("@json"===await this.unaliasKeyword(c,o,i,!0,t))return[this.dataFactory.literal(this.valueToJsonString(a),this.rdfJson)];if(null===a)return[];if("object"===typeof a)throw new n.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(a)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&l&&"string"!==typeof l)throw new n.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_INDEX_VALUE);if(s){if("string"!==typeof a)throw new n.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(a)}'`,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!n.ContextParser.validateLanguage(s,this.parsingContext.strictValues,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||1===this.parsingContext.activeProcessingMode)&&(s=s.toLowerCase())}if(u){if("string"!==typeof a)throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(a)}'`);if(!n.ContextParser.validateDirection(u,this.parsingContext.strictValues))return[]}if(s&&u&&this.parsingContext.rdfDirection){if(c)throw new n.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,a,s,u))}if(s){if(c)throw new n.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(a,s)]}if(u&&this.parsingContext.rdfDirection){if(c)throw new n.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,a,s,u))}if(c){if("string"!==typeof c)throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(c)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);const e=this.createVocabOrBaseTerm(t,c);if(!e)throw new n.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(c)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);if("NamedNode"!==e.termType)throw new n.ErrorCoded(`Illegal value type (${e.termType}): ${c}`,n.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(a,e)]}return await this.valueToTerm(new n.JsonLdContextNormalized({}),e,a,i,o)}if("@set"in r){if(Object.keys(r).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${e}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in r){if(Object.keys(r).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${e}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const t=r["@list"];return Array.isArray(t)?0===t.length?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(o),e,t,i-1,o.slice(0,-1))}if("@reverse"in r)return[];if("@graph"in s.getContextValueContainer(await this.parsingContext.getContext(o),e)){const t=this.parsingContext.graphContainerTermStack[i+1];return t?Object.values(t):[this.dataFactory.blankNode()]}return"@id"in r?(Object.keys(r).length>1&&(t=await this.parsingContext.getContext(o,0)),"@context"in r&&(t=await this.parsingContext.parseContext(r["@context"],t.getContextRaw())),"@vocab"===r["@type"]?this.nullableTermToArray(this.createVocabOrBaseTerm(t,r["@id"])):this.nullableTermToArray(this.resourceToTerm(t,r["@id"]))):this.parsingContext.emittedStack[i+1]||r&&"object"===typeof r&&0===Object.keys(r).length?this.parsingContext.idStack[i+1]||(this.parsingContext.idStack[i+1]=[this.dataFactory.blankNode()]):[];case"string":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(t,e),e,r,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(t,e),e,Boolean(r).toString(),this.dataFactory.namedNode(s.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(t,e),e,r,this.dataFactory.namedNode(r%1===0&&r<1e21?s.XSD_INTEGER:s.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${a}`)),[]}}async getContextSelfOrPropertyScoped(t,e){const r=t.getContextRaw()[e];return r&&"object"===typeof r&&"@context"in r&&(t=await this.parsingContext.parseContext(r,t.getContextRaw(),!0)),t}nullableTermToArray(t){return t?[t]:[]}predicateToTerm(t,e){const r=t.expandTerm(e,!0,this.parsingContext.getExpandOptions());return r?"_"===r[0]&&":"===r[1]?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(r.substr(2)):null:s.isValidIri(r)?this.dataFactory.namedNode(r):r&&this.parsingContext.strictValues?(this.parsingContext.emitError(new n.ErrorCoded(`Invalid predicate IRI: ${r}`,n.ERROR_CODES.INVALID_IRI_MAPPING)),null):null:null}resourceToTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const r=t.expandTerm(e,!1,this.parsingContext.getExpandOptions());if(!s.isValidIri(r)){if(!r||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error(`Invalid resource IRI: ${r}`))}return this.dataFactory.namedNode(r)}createVocabOrBaseTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const r=this.parsingContext.getExpandOptions();let n=t.expandTerm(e,!0,r);if(n===e&&(n=t.expandTerm(e,!1,r)),!s.isValidIri(n)){if(!n||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error(`Invalid term IRI: ${n}`))}return this.dataFactory.namedNode(n)}intToString(t,e){if("number"===typeof t){if(Number.isFinite(t)){const r=t%1===0;return!r||e&&e.value===s.XSD_DOUBLE?t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):Number(t).toString()}return t>0?"INF":"-INF"}return t}stringValueToTerm(t,e,r,n,i){const o=s.getContextValueType(e,r);if(o)if("@id"===o){if(!i)return this.resourceToTerm(e,this.intToString(n,i))}else if("@vocab"===o){if(!i)return this.createVocabOrBaseTerm(e,this.intToString(n,i))}else i=this.dataFactory.namedNode(o);if(!i){const o=s.getContextValueLanguage(e,r),a=s.getContextValueDirection(e,r);return a&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(t,this.intToString(n,i),o,a):this.dataFactory.literal(this.intToString(n,i),o)}return this.dataFactory.literal(this.intToString(n,i),i)}createLanguageDirectionLiteral(t,e,r,n){if("i18n-datatype"===this.parsingContext.rdfDirection)return r||(r=""),this.dataFactory.literal(e,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${r}_${n}`));{const i=this.dataFactory.blankNode(),o=this.getDefaultGraph();return this.parsingContext.emitQuad(t,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"value"),this.dataFactory.literal(e),o)),r&&this.parsingContext.emitQuad(t,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"language"),this.dataFactory.literal(r),o)),this.parsingContext.emitQuad(t,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"direction"),this.dataFactory.literal(n),o)),i}}valueToJsonString(t){return a(t)}async unaliasKeyword(t,e,r,i,o){if(Number.isInteger(t))return t;if(!i){const t=this.parsingContext.unaliasedKeywordCacheStack[r];if(t)return t}if(!n.Util.isPotentialKeyword(t)){o=o||await this.parsingContext.getContext(e);let r=o.getContextRaw()[t];r&&"object"===typeof r&&(r=r["@id"]),n.Util.isValidKeyword(r)&&(t=r)}return i?t:this.parsingContext.unaliasedKeywordCacheStack[r]=t}async unaliasKeywordParent(t,e){return await this.unaliasKeyword(e>0&&t[e-1],t,e-1)}async unaliasKeywords(t,e,r,n){const i={};for(const o in t)i[await this.unaliasKeyword(o,e,r+1,!0,n)]=t[o];return i}isLiteral(t){for(let e=t;e>=0;e--)if(this.parsingContext.literalStack[e]||this.parsingContext.jsonLiteralStack[e])return!0;return!1}async getDepthOffsetGraph(t,e){for(let r=t-1;r>0;r--)if("@graph"===await this.unaliasKeyword(e[r],e,r)){const n=(await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,e,r)).containers;return o.EntryHandlerContainer.isComplexGraphContainer(n)?-1:t-r-1}return-1}validateReverseSubject(t){if("Literal"===t.termType)throw new n.ErrorCoded(`Found illegal literal in subject position: ${t.value}`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(t,e){let r=this.getDefaultGraph();const{containers:n,depth:i}=await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,t,e);if("@graph"in n){const e=o.EntryHandlerContainer.getContainerGraphIndex(n,i,t),a=this.parsingContext.graphContainerTermStack[i];if(r=a?a[e]:null,!r){let o=null;if("@id"in n){const e=await this.getContainerKey(t[i],t,i);null!==e&&(o=await this.resourceToTerm(await this.parsingContext.getContext(t),e))}o||(o=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[i]||(this.parsingContext.graphContainerTermStack[i]={}),r=this.parsingContext.graphContainerTermStack[i][e]=o}}return r}async getPropertiesDepth(t,e){let r=e;for(let n=e-1;n>0;n--)if("number"!==typeof t[n]){const e=await this.unaliasKeyword(t[n],t,n);if("@reverse"===e)return n;if("@nest"!==e)return r;r=n}return r}async getContainerKey(t,e,r){const n=await this.unaliasKeyword(t,e,r);return"@none"===n?null:n}}e.Util=s,s.XSD="http://www.w3.org/2001/XMLSchema#",s.XSD_BOOLEAN=s.XSD+"boolean",s.XSD_INTEGER=s.XSD+"integer",s.XSD_DOUBLE=s.XSD+"double",s.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#"},"88de":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordGraph=void 0;const n=r("f232");class i extends n.EntryHandlerKeyword{constructor(){super("@graph")}async handle(t,e,r,n,i,o){t.graphStack[o+1]=!0}}e.EntryHandlerKeywordGraph=i},8925:function(t,e,r){var n=r("c6cd"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},"8a79":function(t,e,r){"use strict";var n=r("23e7"),i=r("06cf").f,o=r("50c4"),a=r("5a34"),s=r("1d80"),u=r("ab13"),c=r("c430"),l="".endsWith,f=Math.min,h=u("endsWith"),d=!c&&!h&&!!function(){var t=i(String.prototype,"endsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!d&&!h},{endsWith:function(t){var e=String(s(this));a(t);var r=arguments.length>1?arguments[1]:void 0,n=o(e.length),i=void 0===r?n:f(o(r),n),u=String(t);return l?l.call(e,u,i):e.slice(i-u.length,i)===u}})},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},"8ccd":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIndex=void 0;const n=r("e6e5"),i=r("bfb1"),o=r("882b");class a{canCombineWithGraph(){return!0}async handle(t,e,r,a,s,u){if(!Array.isArray(s)){const c="@graph"in t,l=await e.getContext(a),f=a[u-1],h=o.Util.getContextValueIndex(l,f);if(h){if(n.Util.isPotentialKeyword(h))throw new n.ErrorCoded(`Keywords can not be used as @index value, got: ${h}`,n.ERROR_CODES.INVALID_TERM_DEFINITION);if("string"!==typeof h)throw new n.ErrorCoded(`@index values must be strings, got: ${h}`,n.ERROR_CODES.INVALID_TERM_DEFINITION);if("object"!==typeof s){if("@id"!==o.Util.getContextValueType(l,f))throw new n.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${s}`,n.ERROR_CODES.INVALID_VALUE_OBJECT);const t=r.resourceToTerm(l,s);t&&(e.idStack[u+1]=[t])}const t=r.createVocabOrBaseTerm(l,h);if(t){const n=await r.valueToTerm(l,h,await r.getContainerKey(a[u],a,u),u,a);if(c){const i=await r.getGraphContainerValue(a,u+1);for(const o of n)e.emitQuad(u,r.dataFactory.quad(i,t,o,r.getDefaultGraph()))}else for(const o of n)await i.EntryHandlerPredicate.handlePredicateObject(e,r,a,u+1,t,o,!1)}}const d=c?2:1;await e.newOnValueJob(a.slice(0,a.length-d),s,u-d,!0),await e.handlePendingContainerFlushBuffers()}e.emittedStack[u]=!1}}e.ContainerHandlerIndex=a},"8ce0":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const n=r("9935");class i{constructor(t,e){this.termType="Literal",this.value=t,"string"===typeof e?(this.language=e,this.datatype=i.RDF_LANGUAGE_STRING):e?(this.language="",this.datatype=e):(this.language="",this.datatype=i.XSD_STRING)}equals(t){return!!t&&"Literal"===t.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)}}e.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"90e3":function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},9112:function(t,e,r){var n=r("83ab"),i=r("9bf2"),o=r("5c6c");t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9152:function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*v}},"920b":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("0de3");function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(n["a"])(t,e)}},9263:function(t,e,r){"use strict";var n=r("ad6d"),i=r("9f7f"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,u=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=u||l||c;f&&(s=function(t){var e,r,i,s,f=this,h=c&&f.sticky,d=n.call(f),p=f.source,v=0,y=t;return h&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),y=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(p="(?: "+p+")",y=" "+y,v++),r=new RegExp("^(?:"+p+")",d)),l&&(r=new RegExp("^"+p+"$(?!\\s)",d)),u&&(e=f.lastIndex),i=o.call(h?r:f,y),h?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:u&&i&&(f.lastIndex=f.global?i.index+i[0].length:e),l&&i&&i.length>1&&a.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=s},"92a6":function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));r("4ae1");var n=r("f20d"),i=r("8151");r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var a=r("2c4c");function s(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(a["a"])(t):e}function u(t){return function(){var e,r=Object(n["a"])(t);if(Object(i["a"])()){var o=Object(n["a"])(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)}}},"94ca":function(t,e,r){var n=r("d039"),i=/#|\.prototype\./,o=function(t,e){var r=s[a(t)];return r==c||r!=u&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},"966d":function(t,e,r){"use strict";(function(e){function r(t,r,n,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:o=new Array(s-1),a=0;while(a<o.length)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:r}:t.exports=e}).call(this,r("4362"))},"96cf":function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new I(n||[]);return o._invoke=O(t,r,a),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function v(){}function y(){}function g(){}var b={};b[o]=function(){return this};var m=Object.getPrototypeOf,w=m&&m(m(k([])));w&&w!==r&&n.call(w,o)&&(b=w);var _=g.prototype=v.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){function e(r,i,o,a){var s=c(t[r],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(l).then((function(t){u.value=t,o(u)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}var r;function i(t,n){function i(){return new Promise((function(r,i){e(t,n,r,i)}))}return r=r?r.then(i,i):i()}this._invoke=i}function O(t,e,r){var n=l;return function(i,o){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return C()}r.method=i,r.arg=o;while(1){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=c(t,e,r);if("normal"===u.type){if(n=r.done?d:f,u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}function S(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator["return"]&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function k(t){if(t){var r=t[o];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){while(++i<t.length)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:C}}function C(){return{value:e,done:!0}}return y.prototype=_.constructor=g,g.constructor=y,g[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,r,n,i){var o=new E(u(e,r,n,i));return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},9793:function(t,e,r){"use strict";var n=r("ff5e");const{rdf:i,xsd:o}=n["a"];var a,s,u=0;class c{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof c?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}toJSON(){return{termType:this.termType,value:this.value}}}class l extends c{get termType(){return"NamedNode"}}class f extends c{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){var t=this.id,e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}get datatype(){return new l(this.datatypeString)}get datatypeString(){var t,e=this.id,r=e.lastIndexOf('"')+1;return r<e.length&&"^"===(t=e[r])?e.substr(r+2):"@"!==t?o.string:i.langString}equals(t){return t instanceof f?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class h extends c{constructor(t){super("_:"+t)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class d extends c{constructor(t){super("?"+t)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class p extends c{constructor(){return super(""),s||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}function v(t,e){if(e=e||a,!t)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":return e.variable(t.substr(1));case'"':if(e===a)return new f(t);if('"'===t[t.length-1])return e.literal(t.substr(1,t.length-2));var r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),"@"===t[r+1]?t.substr(r+2):e.namedNode(t.substr(r+3)));default:return e.namedNode(t)}}function y(t){if("string"===typeof t)return t;if(t instanceof c)return t.id;if(!t)return s.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Variable":return"?"+t.value;case"DefaultGraph":return"";case"Literal":return'"'+t.value+'"'+(t.language?"@"+t.language:t.datatype&&t.datatype.value!==o.string?"^^"+t.datatype.value:"");default:throw new Error("Unexpected termType: "+t.termType)}}s=new p;class g{constructor(t,e,r,n){this.subject=t,this.predicate=e,this.object=r,this.graph=n||s}toJSON(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}equals(t){return!!t&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}function b(t){return new l(t)}function m(t){return new h(t||`n3-${u++}`)}function w(t,e){if("string"===typeof e)return new f('"'+t+'"@'+e.toLowerCase());let r=e?e.value:"";return""===r&&("boolean"===typeof t?r=o.boolean:"number"===typeof t&&(Number.isFinite(t)?r=Number.isInteger(t)?o.integer:o.double:(r=o.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),""===r||r===o.string?new f('"'+t+'"'):new f('"'+t+'"^^'+r)}function _(t){return new d(t)}function x(){return s}function E(t,e,r,n){return new g(t,e,r,n)}a={namedNode:b,blankNode:m,variable:_,literal:w,defaultGraph:x,quad:E,triple:E,internal:{Term:c,NamedNode:l,BlankNode:h,Variable:d,Literal:f,DefaultGraph:p,Quad:g,Triple:g,fromId:v,toId:y}},e["a"]=a},9861:function(t,e,r){"use strict";r("e260");var n=r("23e7"),i=r("d066"),o=r("0d3b"),a=r("6eeb"),s=r("e2cc"),u=r("d44e"),c=r("9ed3"),l=r("69f3"),f=r("19aa"),h=r("5135"),d=r("0366"),p=r("f5df"),v=r("825a"),y=r("861d"),g=r("7c73"),b=r("5c6c"),m=r("9a1f"),w=r("35a1"),_=r("b622"),x=i("fetch"),E=i("Headers"),O=_("iterator"),S="URLSearchParams",R=S+"Iterator",j=l.set,I=l.getterFor(S),k=l.getterFor(R),C=/\+/g,T=Array(4),D=function(t){return T[t-1]||(T[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},A=function(t){try{return decodeURIComponent(t)}catch(e){return t}},P=function(t){var e=t.replace(C," "),r=4;try{return decodeURIComponent(e)}catch(n){while(r)e=e.replace(D(r--),A);return e}},L=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U=function(t){return N[t]},M=function(t){return encodeURIComponent(t).replace(L,U)},F=function(t,e){if(e){var r,n,i=e.split("&"),o=0;while(o<i.length)r=i[o++],r.length&&(n=r.split("="),t.push({key:P(n.shift()),value:P(n.join("="))}))}},B=function(t){this.entries.length=0,F(this.entries,t)},V=function(t,e){if(t<e)throw TypeError("Not enough arguments")},G=c((function(t,e){j(this,{type:R,iterator:m(I(t).entries),kind:e})}),"Iterator",(function(){var t=k(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),$=function(){f(this,$,S);var t,e,r,n,i,o,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(j(l,{type:S,entries:d,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(y(c))if(t=w(c),"function"===typeof t){e=t.call(c),r=e.next;while(!(n=r.call(e)).done){if(i=m(v(n.value)),o=i.next,(a=o.call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}}else for(u in c)h(c,u)&&d.push({key:u,value:c[u]+""});else F(d,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},q=$.prototype;s(q,{append:function(t,e){V(arguments.length,2);var r=I(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){V(arguments.length,1);var e=I(this),r=e.entries,n=t+"",i=0;while(i<r.length)r[i].key===n?r.splice(i,1):i++;e.updateURL()},get:function(t){V(arguments.length,1);for(var e=I(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){V(arguments.length,1);for(var e=I(this).entries,r=t+"",n=[],i=0;i<e.length;i++)e[i].key===r&&n.push(e[i].value);return n},has:function(t){V(arguments.length,1);var e=I(this).entries,r=t+"",n=0;while(n<e.length)if(e[n++].key===r)return!0;return!1},set:function(t,e){V(arguments.length,1);for(var r,n=I(this),i=n.entries,o=!1,a=t+"",s=e+"",u=0;u<i.length;u++)r=i[u],r.key===a&&(o?i.splice(u--,1):(o=!0,r.value=s));o||i.push({key:a,value:s}),n.updateURL()},sort:function(){var t,e,r,n=I(this),i=n.entries,o=i.slice();for(i.length=0,r=0;r<o.length;r++){for(t=o[r],e=0;e<r;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===r&&i.push(t)}n.updateURL()},forEach:function(t){var e,r=I(this).entries,n=d(t,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<r.length)e=r[i++],n(e.value,e.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),a(q,O,q.entries),a(q,"toString",(function(){var t,e=I(this).entries,r=[],n=0;while(n<e.length)t=e[n++],r.push(M(t.key)+"="+M(t.value));return r.join("&")}),{enumerable:!0}),u($,S),n({global:!0,forced:!o},{URLSearchParams:$}),o||"function"!=typeof x||"function"!=typeof E||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,i=[t];return arguments.length>1&&(e=arguments[1],y(e)&&(r=e.body,p(r)===S&&(n=e.headers?new E(e.headers):new E,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=g(e,{body:b(0,String(r)),headers:b(0,n)}))),i.push(e)),x.apply(this,i)}}),t.exports={URLSearchParams:$,getState:I}},9935:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0;class n{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&"NamedNode"===t.termType&&t.value===this.value}}e.NamedNode=n},"99af":function(t,e,r){"use strict";var n=r("23e7"),i=r("d039"),o=r("e8b5"),a=r("861d"),s=r("7b0b"),u=r("50c4"),c=r("8418"),l=r("65f0"),f=r("1dde"),h=r("b622"),d=r("2d00"),p=h("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",g=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=f("concat"),m=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},w=!g||!b;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,n,i,o,a=s(this),f=l(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?a:arguments[e],m(o)){if(i=u(o.length),h+i>v)throw TypeError(y);for(r=0;r<i;r++,h++)r in o&&c(f,h,o[r])}else{if(h>=v)throw TypeError(y);c(f,h++,o)}return f.length=h,f}})},"9a0c":function(t,e,r){var n=r("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"9a1f":function(t,e,r){var n=r("825a"),i=r("35a1");t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},"9ab4":function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"d",(function(){return a})),r.d(e,"f",(function(){return s})),r.d(e,"c",(function(){return u})),r.d(e,"e",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function s(t){var e="function"===typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function u(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{while((void 0===e||e-- >0)&&!(n=o.next()).done)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}},"9bdd":function(t,e,r){var n=r("825a");t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(a){var o=t["return"];throw void 0!==o&&n(o.call(t)),a}}},"9bf2":function(t,e,r){var n=r("83ab"),i=r("0cfb"),o=r("825a"),a=r("c04e"),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e,!0),o(r),i)try{return s(t,e,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},"9d5a":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordType=void 0;const n=r("e6e5"),i=r("882b"),o=r("bfb1"),a=r("f232");class s extends a.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(t,e,r,a,s,u){const c=a[u],l=await t.getContext(a),f=e.rdfType,h=i.Util.isPropertyReverse(l,c,await e.unaliasKeywordParent(a,u)),d=Array.isArray(s)?s:[s];for(const i of d){"string"!==typeof i&&t.emitError(new n.ErrorCoded(`Found illegal @type '${i}'`,n.ERROR_CODES.INVALID_TYPE_VALUE));const r=e.createVocabOrBaseTerm(l,i);r&&await o.EntryHandlerPredicate.handlePredicateObject(t,e,a,u,f,r,h)}let p=Promise.resolve(l),v=!1;for(const n of d.sort()){const e=i.Util.getContextValue(l,"@context",n,null);e&&(v=!0,p=p.then(r=>t.parseContext(e,r.getContextRaw())))}!t.streamingProfile||!v&&t.streamingProfileAllowOutOfOrderPlainType||!t.processingStack[u]&&!t.idStack[u]||t.emitError(new n.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),v&&(p=p.then(t=>("@propagate"in t.getContextRaw()||(t.getContextRaw()["@propagate"]=!1),!1===t.getContextRaw()["@propagate"]&&(t.getContextRaw()["@__propagateFallback"]=l.getContextRaw()),t)),t.contextTree.setContext(a.slice(0,a.length-1),p)),t.processingType[u]=!0}}e.EntryHandlerKeywordType=s},"9ed3":function(t,e,r){"use strict";var n=r("ae93").IteratorPrototype,i=r("7c73"),o=r("5c6c"),a=r("d44e"),s=r("3f8c"),u=function(){return this};t.exports=function(t,e,r){var c=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),a(t,c,!1,!0),s[c]=u,t}},"9f7f":function(t,e,r){"use strict";var n=r("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,r){"use strict";var n=r("23e7"),i=r("44ad"),o=r("fc6a"),a=r("a640"),s=[].join,u=i!=Object,c=a("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},a22a:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;class n{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&"Variable"===t.termType&&t.value===this.value}}e.Variable=n},a434:function(t,e,r){"use strict";var n=r("23e7"),i=r("23cb"),o=r("a691"),a=r("50c4"),s=r("7b0b"),u=r("65f0"),c=r("8418"),l=r("1dde"),f=r("ae40"),h=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,y=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var r,n,l,f,h,d,b=s(this),m=a(b.length),w=i(t,m),_=arguments.length;if(0===_?r=n=0:1===_?(r=0,n=m-w):(r=_-2,n=v(p(o(e),0),m-w)),m+r-n>y)throw TypeError(g);for(l=u(b,n),f=0;f<n;f++)h=w+f,h in b&&c(l,f,b[h]);if(l.length=n,r<n){for(f=w;f<m-n;f++)h=f+n,d=f+r,h in b?b[d]=b[h]:delete b[d];for(f=m;f>m-n+r;f--)delete b[f-1]}else if(r>n)for(f=m-n;f>w;f--)h=f+n-1,d=f+r-1,h in b?b[d]=b[h]:delete b[d];for(f=0;f<r;f++)b[f+w]=arguments[f+2];return b.length=m-n+r,l}})},a4d3:function(t,e,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("d066"),a=r("c430"),s=r("83ab"),u=r("4930"),c=r("fdbf"),l=r("d039"),f=r("5135"),h=r("e8b5"),d=r("861d"),p=r("825a"),v=r("7b0b"),y=r("fc6a"),g=r("c04e"),b=r("5c6c"),m=r("7c73"),w=r("df75"),_=r("241c"),x=r("057f"),E=r("7418"),O=r("06cf"),S=r("9bf2"),R=r("d1e7"),j=r("9112"),I=r("6eeb"),k=r("5692"),C=r("f772"),T=r("d012"),D=r("90e3"),A=r("b622"),P=r("e538"),L=r("746f"),N=r("d44e"),U=r("69f3"),M=r("b727").forEach,F=C("hidden"),B="Symbol",V="prototype",G=A("toPrimitive"),$=U.set,q=U.getterFor(B),J=Object[V],K=i.Symbol,z=o("JSON","stringify"),H=O.f,W=S.f,Y=x.f,X=R.f,Q=k("symbols"),Z=k("op-symbols"),tt=k("string-to-symbol-registry"),et=k("symbol-to-string-registry"),rt=k("wks"),nt=i.QObject,it=!nt||!nt[V]||!nt[V].findChild,ot=s&&l((function(){return 7!=m(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=H(J,e);n&&delete J[e],W(t,e,r),n&&t!==J&&W(J,e,n)}:W,at=function(t,e){var r=Q[t]=m(K[V]);return $(r,{type:B,tag:t,description:e}),s||(r.description=e),r},st=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof K},ut=function(t,e,r){t===J&&ut(Z,e,r),p(t);var n=g(e,!0);return p(r),f(Q,n)?(r.enumerable?(f(t,F)&&t[F][n]&&(t[F][n]=!1),r=m(r,{enumerable:b(0,!1)})):(f(t,F)||W(t,F,b(1,{})),t[F][n]=!0),ot(t,n,r)):W(t,n,r)},ct=function(t,e){p(t);var r=y(e),n=w(r).concat(pt(r));return M(n,(function(e){s&&!ft.call(r,e)||ut(t,e,r[e])})),t},lt=function(t,e){return void 0===e?m(t):ct(m(t),e)},ft=function(t){var e=g(t,!0),r=X.call(this,e);return!(this===J&&f(Q,e)&&!f(Z,e))&&(!(r||!f(this,e)||!f(Q,e)||f(this,F)&&this[F][e])||r)},ht=function(t,e){var r=y(t),n=g(e,!0);if(r!==J||!f(Q,n)||f(Z,n)){var i=H(r,n);return!i||!f(Q,n)||f(r,F)&&r[F][n]||(i.enumerable=!0),i}},dt=function(t){var e=Y(y(t)),r=[];return M(e,(function(t){f(Q,t)||f(T,t)||r.push(t)})),r},pt=function(t){var e=t===J,r=Y(e?Z:y(t)),n=[];return M(r,(function(t){!f(Q,t)||e&&!f(J,t)||n.push(Q[t])})),n};if(u||(K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=D(t),r=function(t){this===J&&r.call(Z,t),f(this,F)&&f(this[F],e)&&(this[F][e]=!1),ot(this,e,b(1,t))};return s&&it&&ot(J,e,{configurable:!0,set:r}),at(e,t)},I(K[V],"toString",(function(){return q(this).tag})),I(K,"withoutSetter",(function(t){return at(D(t),t)})),R.f=ft,S.f=ut,O.f=ht,_.f=x.f=dt,E.f=pt,P.f=function(t){return at(A(t),t)},s&&(W(K[V],"description",{configurable:!0,get:function(){return q(this).description}}),a||I(J,"propertyIsEnumerable",ft,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:K}),M(w(rt),(function(t){L(t)})),n({target:B,stat:!0,forced:!u},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var r=K(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:lt,defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:ht}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:dt,getOwnPropertySymbols:pt}),n({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(v(t))}}),z){var vt=!u||l((function(){var t=K();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))}));n({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,r){var n,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(n=e,(d(e)||void 0!==t)&&!st(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),i[1]=e,z.apply(null,i)}})}K[V][G]||j(K[V],G,K[V].valueOf),N(K,B),T[F]=!0},a630:function(t,e,r){var n=r("23e7"),i=r("4df4"),o=r("1c7e"),a=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:a},{from:i})},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},ab13:function(t,e,r){var n=r("b622"),i=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[i]=!1,"/./"[t](e)}catch(n){}}return!1}},ac1f:function(t,e,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ad71:function(t,e,r){"use strict";(function(e,n){var i=r("966d");t.exports=x;var o,a=r("e3db");x.ReadableState=_;r("faa1").EventEmitter;var s=function(t,e){return t.listeners(e).length},u=r("429b"),c=r("8707").Buffer,l=e.Uint8Array||function(){};function f(t){return c.from(t)}function h(t){return c.isBuffer(t)||t instanceof l}var d=Object.create(r("3a7c"));d.inherits=r("3fb5");var p=r(0),v=void 0;v=p&&p.debuglog?p.debuglog("stream"):function(){};var y,g=r("5e1a"),b=r("4681");d.inherits(x,u);var m=["error","close","destroy","pause","resume"];function w(t,e,r){if("function"===typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}function _(t,e){o=o||r("b19a"),t=t||{};var n=e instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(y||(y=r("7d72").StringDecoder),this.decoder=new y(t.encoding),this.encoding=t.encoding)}function x(t){if(o=o||r("b19a"),!(this instanceof x))return new x(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function E(t,e,r,n,i){var o,a=t._readableState;null===e?(a.reading=!1,C(t,a)):(i||(o=S(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=f(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):O(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?O(t,a,e,!1):A(t,a)):O(t,a,e,!1))):n||(a.reading=!1));return R(a)}function O(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&T(t)),A(t,e)}function S(t,e){var r;return h(e)||"string"===typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function R(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=b.destroy,x.prototype._undestroy=b.undestroy,x.prototype._destroy=function(t,e){this.push(null),e(t)},x.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof t&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=c.from(t,e),e=""),r=!0),E(this,t,e,!1,r)},x.prototype.unshift=function(t){return E(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){return y||(y=r("7d72").StringDecoder),this._readableState.decoder=new y(t),this._readableState.encoding=t,this};var j=8388608;function I(t){return t>=j?t=j:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=I(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,T(t)}}function T(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(v("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(D,t):D(t))}function D(t){v("emit readable"),t.emit("readable"),F(t)}function A(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(P,t,e))}function P(t,e){var r=e.length;while(!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark){if(v("maybeReadMore read 0"),t.read(0),r===e.length)break;r=e.length}e.readingMore=!1}function L(t){return function(){var e=t._readableState;v("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,F(t))}}function N(t){v("readable nexttick read 0"),t.read(0)}function U(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(M,t,e))}function M(t,e){e.reading||(v("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),F(t),e.flowing&&!e.reading&&t.read(0)}function F(t){var e=t._readableState;v("flow",e.flowing);while(e.flowing&&null!==t.read());}function B(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=V(t,e.buffer,e.decoder),r);var r}function V(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?G(t,e):$(t,e),n}function G(t,e){var r=e.head,n=1,i=r.data;t-=i.length;while(r=r.next){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),t-=a,0===t){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}function $(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;while(n=n.next){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),t-=a,0===t){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}function q(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(J,e,t))}function J(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function K(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}x.prototype.read=function(t){v("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return v("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?q(this):T(this),null;if(t=k(t,e),0===t&&e.ended)return 0===e.length&&q(this),null;var n,i=e.needReadable;return v("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,v("length less than watermark",i)),e.ended||e.reading?(i=!1,v("reading or ended",i)):i&&(v("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(r,e))),n=t>0?B(t,e):null,null===n?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&q(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},x.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t);break}o.pipesCount+=1,v("pipe count=%d opts=%j",o.pipesCount,e);var a=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr,u=a?l:_;function c(t,e){v("onunpipe"),t===r&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,d())}function l(){v("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",c);var f=L(r);t.on("drain",f);var h=!1;function d(){v("cleanup"),t.removeListener("close",b),t.removeListener("finish",m),t.removeListener("drain",f),t.removeListener("error",g),t.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",_),r.removeListener("data",y),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f()}var p=!1;function y(e){v("ondata"),p=!1;var n=t.write(e);!1!==n||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==K(o.pipes,t))&&!h&&(v("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(e){v("onerror",e),_(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function b(){t.removeListener("finish",m),_()}function m(){v("onfinish"),t.removeListener("close",b),_()}function _(){v("unpipe"),r.unpipe(t)}return r.on("data",y),w(t,"error",g),t.once("close",b),t.once("finish",m),t.emit("pipe",r),o.flowing||(v("pipe resume"),r.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=K(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},x.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&T(this):i.nextTick(N,this))}return r},x.prototype.addListener=x.prototype.on,x.prototype.resume=function(){var t=this._readableState;return t.flowing||(v("resume"),t.flowing=!0,U(this,t)),this},x.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this},x.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(v("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){if(v("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var o=e.push(i);o||(n=!0,t.pause())}})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){v("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),x._fromList=B}).call(this,r("c8ba"),r("4362"))},ae40:function(t,e,r){var n=r("83ab"),i=r("d039"),o=r("5135"),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var r=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:u,f=o(e,1)?e[1]:void 0;return s[t]=!!r&&!i((function(){if(c&&!n)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:u}):t[1]=1,r.call(t,l,f)}))}},ae93:function(t,e,r){"use strict";var n,i,o,a=r("e163"),s=r("9112"),u=r("5135"),c=r("b622"),l=r("c430"),f=c("iterator"),h=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(n=i)):h=!0),void 0==n&&(n={}),l||u(n,f)||s(n,f,d),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},af6b:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerContainer=void 0;const n=r("c9fc"),i=r("8ccd"),o=r("f071"),a=r("0aac"),s=r("882b");class u{static isSimpleGraphContainer(t){return"@graph"in t&&("@set"in t&&2===Object.keys(t).length||1===Object.keys(t).length)}static isComplexGraphContainer(t){return"@graph"in t&&("@set"in t&&Object.keys(t).length>2||!("@set"in t)&&Object.keys(t).length>1)}static getContainerGraphIndex(t,e,r){let n=u.isSimpleGraphContainer(t),i="";for(let o=e;o<r.length;o++)n&&"number"!==typeof r[o]||(i+=":"+r[o]),n||"number"===typeof r[o]||(n=!0);return i}static async getContainerHandler(t,e,r){const n={containers:{"@set":!0},depth:r,fallback:!0};let i=!1;const o=await t.getContext(e,2);for(let a=r-1;a>=0;a--)if("number"!==typeof e[a]){const t=s.Util.getContextValue(o,"@container",e[a],!1);if(t&&u.isSimpleGraphContainer(t))return{containers:t,depth:a+1,fallback:!1};const r=s.Util.getContextValue(o,"@container",e[a-1],!1);if(r){const t="@graph"in r;for(const e in u.CONTAINER_HANDLERS)if(r[e])return t?u.CONTAINER_HANDLERS[e].canCombineWithGraph()?{containers:r,depth:a,fallback:!1}:n:i?n:{containers:r,depth:a,fallback:!1};return n}if(i)return n;i=!0}return n}static async isBufferableContainerHandler(t,e,r){const n=await u.getContainerHandler(t,e,r);return!n.fallback&&!("@graph"in n.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,i){return!!await this.test(t,e,null,r,n)}async test(t,e,r,n,i){const o=s.Util.getContextValueContainer(await t.getContext(n,2),n[i-1]);for(const a in u.CONTAINER_HANDLERS)if(o[a])return{containers:o,handler:u.CONTAINER_HANDLERS[a]};return null}async handle(t,e,r,n,i,o,a){return a.handler.handle(a.containers,t,e,n,i,o)}}e.EntryHandlerContainer=u,u.CONTAINER_HANDLERS={"@id":new n.ContainerHandlerIdentifier,"@index":new i.ContainerHandlerIndex,"@language":new o.ContainerHandlerLanguage,"@type":new a.ContainerHandlerType}},b041:function(t,e,r){"use strict";var n=r("00ee"),i=r("f5df");t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(t,e,r){var n=r("83ab"),i=r("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,u="name";!n||u in o||i(o,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b0d7:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return g}));r("99af"),r("a15b"),r("d81d"),r("13d5"),r("fb6a"),r("45fc"),r("b0c0"),r("b64b"),r("d3b7"),r("25f0"),r("4d90"),r("96cf");var n=r("c964"),i=r("276c"),o=r("e954"),a=r("f20d");r("e439"),r("5d41");function s(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Object(a["a"])(t),null===t)break;return t}function u(t,e,r){return u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=s(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}},u(t,e,r||t)}var c=r("92a6"),l=r("920b"),f=r("ddbf"),h=r.n(f),d=r("dfab"),p=r("b6cd"),v=r("6ea5"),y=r("191b"),g=function(t){Object(l["a"])(r,t);var e=Object(c["a"])(r);function r(){var t;return Object(i["a"])(this,r),t=e.apply(this,arguments),t.fixedUpdatedAt=null,t}return Object(o["a"])(r,[{key:"moviesRelationship",value:function(){return this.contains(v["default"])}},{key:"hasLegacySchema",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.exists()&&!this.wasRecentlyCreated()&&!this.name);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"migrateSchema",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.exists()&&!this.wasRecentlyCreated()){t.next=2;break}return t.abrupt("return");case 2:return n=r||"".concat(this.url,".meta"),t.next=5,this.getCreatedAtFromMetaDocument(n);case 5:return i=t.sent,t.prev=6,t.next=9,y["a"].fetch(n,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:["@prefix movies: <./> .","@prefix purl: <http://purl.org/dc/terms/> .","@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .","","movies:","    purl:created ".concat(this.serializeTurtleDate(i)," ;"),'    rdfs:label "'.concat(e,'" .')].join("\n")});case 9:if(o=t.sent,201===o.status){t.next=12;break}throw new f["SoukaiError"]("Error migrating ".concat(this.url,", returned ").concat(o.status," status code"));case 12:this.fixLegacyAttributes(e,this.fixedUpdatedAt||this.updatedAt),t.next=18;break;case 15:throw t.prev=15,t.t0=t["catch"](6),new d["NetworkError"]("Error migrating ".concat(this.url),t.t0);case 18:case"end":return t.stop()}}),t,this,[[6,15]])})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"initializeAttributes",value:function(t,e){e&&"updatedAt"in t&&Array.isArray(t["updatedAt"])&&(this.fixedUpdatedAt=t["updatedAt"].slice(1).reduce((function(t,e){return t>e?t:e}),t["updatedAt"][0])),u(Object(a["a"])(r.prototype),"initializeAttributes",this).call(this,t,e)}},{key:"getCreatedAtFromMetaDocument",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.a.requireEngine().readOne(this.getContainerUrl(),e);case 2:if(r=t.sent,this.isLegacyMetaDocument(r)){t.next=5;break}throw new f["SoukaiError"]("The document at ".concat(e," was not created with Media Kraken so it isn't safe to migrate, ")+"you can migrate it yourself by adding rdfs:label property");case 5:return t.abrupt("return",new Date(r["@graph"][0]["http://purl.org/dc/terms/created"]["@value"]));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"isLegacyMetaDocument",value:function(t){if(t["@graph"].length>1)return!1;var e=t["@graph"][0],r=Object.keys(e),n=["@id","@type","http://purl.org/dc/terms/created","http://purl.org/dc/terms/modified","http://www.w3.org/2000/01/rdf-schema#label"];return r.length!==n.length||n.some((function(t){return!p["a"].contains(t,r)}))||p["a"].create(e["@type"]).some((function(t){return!p["a"].contains(t,["https://www.w3.org/ns/ldp#Resource","https://www.w3.org/ns/ldp#Container"])}))}},{key:"fixLegacyAttributes",value:function(t,e){this._attributes.name=t,this._attributes.updatedAt=e}},{key:"serializeTurtleDate",value:function(t){var e=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.map((function(t){return t.toString().padStart(2,"0")}))},r=e(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate()).join("-"),n=e(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()).join(":");return'"'.concat(r,"T").concat(n,'Z"^^<http://www.w3.org/2001/XMLSchema#dateTime>')}}]),r}(d["SolidContainerModel"]);g.fields={name:{type:f["FieldType"].String,rdfProperty:"rdfs:label",required:!0},description:{type:f["FieldType"].String,rdfProperty:"rdfs:comment"}}},b19a:function(t,e,r){"use strict";var n=r("966d"),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=f;var o=Object.create(r("3a7c"));o.inherits=r("3fb5");var a=r("ad71"),s=r("dc14");o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},b575:function(t,e,r){var n,i,o,a,s,u,c,l,f=r("da84"),h=r("06cf").f,d=r("c6b6"),p=r("2cf4").set,v=r("1cdc"),y=f.MutationObserver||f.WebKitMutationObserver,g=f.process,b=f.Promise,m="process"==d(g),w=h(f,"queueMicrotask"),_=w&&w.value;_||(n=function(){var t,e;m&&(t=g.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(r){throw i?a():o=void 0,r}}o=void 0,t&&t.enter()},m?a=function(){g.nextTick(n)}:y&&!v?(s=!0,u=document.createTextNode(""),new y(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):b&&b.resolve?(c=b.resolve(void 0),l=c.then,a=function(){l.call(c,n)}):a=function(){p.call(f,n)}),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},b622:function(t,e,r){var n=r("da84"),i=r("5692"),o=r("5135"),a=r("90e3"),s=r("4930"),u=r("fdbf"),c=i("wks"),l=n.Symbol,f=u?l:l&&l.withoutSetter||a;t.exports=function(t){return o(c,t)||(s&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},b639:function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r("1fb5"),i=r("9152"),o=r("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,r)}function l(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?y(t,e,r,n):"string"===typeof e?p(t,e,r):g(t,e)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,r,n){return f(e),e<=0?u(t,e):void 0!==r?"string"===typeof n?u(t,e).fill(r,n):u(t,e).fill(r):u(t,e)}function d(t,e){if(f(e),t=u(t,e<0?0:0|b(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function p(t,e,r){if("string"===typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|w(e,r);t=u(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function v(t,e){var r=e.length<0?0:0|b(e.length);t=u(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function y(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=v(t,e),t}function g(t,e){if(c.isBuffer(e)){var r=0|b(e.length);return t=u(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?u(t,0):v(t,e);if("Buffer"===e.type&&o(e.data))return v(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),c.alloc(+t)}function w(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(t).length;default:if(n)return Y(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return D(this,e,r);case"ascii":return L(this,e,r);case"latin1":case"binary":return N(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function x(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function E(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:O(t,e,r,n,i);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):O(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function O(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function S(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function R(t,e,r,n){return tt(Y(e,t.length-r),t,r,n)}function j(t,e,r,n){return tt(X(e),t,r,n)}function I(t,e,r,n){return j(t,e,r,n)}function k(t,e,r,n){return tt(Z(e),t,r,n)}function C(t,e,r,n){return tt(Q(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function D(t,e,r){r=Math.min(t.length,r);var n=[],i=e;while(i<r){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:o=t[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(l=u));break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return P(n)}e.Buffer=c,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return l(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return h(null,t,e,r)},c.allocUnsafe=function(t){return d(null,t)},c.allocUnsafeSlow=function(t){return d(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):_.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,a=r-e,s=Math.min(o,a),u=this.slice(n,i),l=t.slice(e,r),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return E(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return E(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return S(this,t,e,r);case"utf8":case"utf-8":return R(this,t,e,r);case"ascii":return j(this,t,e,r);case"latin1":case"binary":return I(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var r="",n=0;while(n<e)r+=String.fromCharCode.apply(String,t.slice(n,n+=A));return r}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function U(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=W(t[o]);return i}function M(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function F(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function V(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function G(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function $(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function q(t,e,r,n,o){return o||$(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function J(t,e,r,n,o){return o||$(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=c.prototype;else{var i=e-t;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);var n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);var n=this[t+--e],i=1;while(e>0&&(i*=256))n+=this[t+--e]*i;return n},c.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);var n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);var n=e,i=1,o=this[t+--n];while(n>0&&(i*=256))o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,t,e,r,i,0)}var o=1,a=0;this[e]=255&t;while(++a<r&&(o*=256))this[e+a]=t/o&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,t,e,r,i,0)}var o=r-1,a=1;this[e+o]=255&t;while(--o>=0&&(a*=256))this[e+o]=t/a&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):G(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;this[e]=255&t;while(++o<r&&(a*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;this[e+o]=255&t;while(--o>=0&&(a*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):G(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return q(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return q(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return J(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return J(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},c.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=c.isBuffer(t)?t:Y(new c(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function z(t){if(t=H(t).replace(K,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function X(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function Q(t,e){for(var r,n,i,o=[],a=0;a<t.length;++a){if((e-=2)<0)break;r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n)}return o}function Z(t){return n.toByteArray(z(t))}function tt(t,e,r,n){for(var i=0;i<n;++i){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}function et(t){return t!==t}}).call(this,r("c8ba"))},b64b:function(t,e,r){var n=r("23e7"),i=r("7b0b"),o=r("df75"),a=r("d039"),s=a((function(){o(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return o(i(t))}})},b680:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},b6cd:function(t,e,r){"use strict";r("99af"),r("4de4"),r("c975"),r("13d5"),r("fb6a"),r("a434");var n=r("d0ff"),i=r("276c"),o=r("e954"),a=function(){function t(){Object(i["a"])(this,t)}return Object(o["a"])(t,[{key:"chunk",value:function(t,e){for(var r=[],n=0;n<t.length;n+=e)r.push(t.slice(n,n+e));return r}},{key:"create",value:function(t){return Array.isArray(t)?t:[t]}},{key:"contains",value:function(t,e){return-1!==e.indexOf(t)}},{key:"flatten",value:function(t){return t.reduce((function(t,e){return[].concat(Object(n["a"])(t),Object(n["a"])(e))}),[])}},{key:"removeItem",value:function(t,e){var r=t.indexOf(e);return-1!==r&&t.splice(r,1),e}},{key:"unique",value:function(t){return t.filter((function(e,r){return t.indexOf(e)===r}))}},{key:"withoutItem",value:function(t,e){var r=t.indexOf(e);return-1!==r?this.withoutIndex(t,r):t}},{key:"withoutIndex",value:function(t,e){return[].concat(Object(n["a"])(t.slice(0,e)),Object(n["a"])(t.slice(e+1)))}}]),t}();e["a"]=new a},b727:function(t,e,r){var n=r("0366"),i=r("44ad"),o=r("7b0b"),a=r("50c4"),s=r("65f0"),u=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f;return function(d,p,v,y){for(var g,b,m=o(d),w=i(m),_=n(p,v,3),x=a(w.length),E=0,O=y||s,S=e?O(d,x):r?O(d,0):void 0;x>E;E++)if((h||E in w)&&(g=w[E],b=_(g,E,m),t))if(e)S[E]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return E;case 2:u.call(S,g)}else if(l)return!1;return f?-1:c||l?l:S}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},b7d1:function(t,e,r){(function(e){function r(t,e){if(n("noDeprecation"))return t;var r=!1;function i(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function n(t){try{if(!e.localStorage)return!1}catch(n){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=r}).call(this,r("c8ba"))},baa5:function(t,e,r){var n=r("23e7"),i=r("e58c");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bab3:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));r("99af");var n=r("276c"),i=r("92a6"),o=r("920b"),a=r("335a");function s(t,e){var r=t?" (Forbidden)":"";return"Unauthorized".concat(r,": ").concat(e)}var u=function(t){Object(o["a"])(r,t);var e=Object(i["a"])(r);function r(t,i){var o;return Object(n["a"])(this,r),o=e.call(this,s(t,i)),o.forbidden=t,o.url=i,o}return r}(a["a"])},bb2f:function(t,e,r){var n=r("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bd36:function(t,e,r){"use strict";function n(t,e){e=e||"";const r=e.indexOf("#");if(r>0&&(e=e.substr(0,r)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){const r=e.indexOf("?");return r>0&&(e=e.substr(0,r)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){const e=t.indexOf(":");if(e<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return o(t,e)}const n=t.indexOf(":");if(n>=0)return o(t,n);const a=e.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);const s=e.substr(0,a+1);if(0===t.indexOf("//"))return s+o(t,n);let u;if(e.indexOf("//",a)===a+1){if(u=e.indexOf("/",a+3),u<0)return e.length>a+3?e+"/"+o(t,n):s+o(t,n)}else if(u=e.indexOf("/",a+1),u<0)return s+o(t,n);if(0===t.indexOf("/"))return e.substr(0,u)+i(t);let c=e.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===t[0]&&"."!==t[1]&&"/"!==t[1]&&t[2]&&(t=t.substr(1))),t=c+t,t=i(t),e.substr(0,u)+t}function i(t){const e=[];let r=0;while(r<t.length)switch(t[r]){case"/":if("."===t[r+1])if("."===t[r+2]){if(!a(t[r+3])){e.push([]),r++;break}e.pop(),t[r+3]||e.push([]),r+=3}else{if(!a(t[r+2])){e.push([]),r++;break}t[r+2]||e.push([]),r+=2}else e.push([]),r++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(r)),r=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[r]),r++;break}return"/"+e.map(t=>t.join("")).join("/")}function o(t,e){let r=e+1;e>=0?"/"===t[e+1]&&"/"===t[e+2]&&(r=e+3):"/"===t[0]&&"/"===t[1]&&(r=2);const n=t.indexOf("/",r);if(n<0)return t;const o=t.substr(0,n),a=t.substr(n);return o+i(a)}function a(t){return!t||"#"===t||"?"===t||"/"===t}Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=n,e.removeDotSegments=i,e.removeDotSegmentsOfPath=o},bef6:function(t,e,r){"use strict";r("c975"),r("a15b"),r("baa5"),r("fb6a"),r("ac1f"),r("8a79"),r("466d"),r("1276"),r("2ca0"),r("498a");var n=r("d0af"),i=r("276c"),o=r("e954"),a=function(){function t(){Object(i["a"])(this,t)}return Object(o["a"])(t,[{key:"resolve",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.shift();while(e.length>0){var i=e.shift();i.startsWith("/")?n=this.base(n)+i:i.startsWith("http://")||i.startsWith("https://")?n=i:n.endsWith("/")?n+=i:n+="/"+i}return n}},{key:"resolveDirectory",value:function(){var t=this.resolve.apply(this,arguments);return t.endsWith("/")?t:t+"/"}},{key:"base",value:function(t){var e=t.indexOf("://"),r=t.substr(e+3).indexOf("/");return-1!==r?t.substring(0,e+3+r):t}},{key:"parentDirectory",value:function(t){t.endsWith("/")&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return-1!==e?t.substr(0,e+1):t}},{key:"filename",value:function(t){var e=t.lastIndexOf("/");return-1!==e?t.substr(e+1):""}},{key:"parseRootDomain",value:function(t){var e=this.parse(t);return e&&e.domain?e.domain.split(".").slice(-2).join("."):null}},{key:"parse",value:function(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",i=r.split(":"),o=Object(n["a"])(i,2),a=o[0],s=o[1];return{protocol:e[2]||void 0,domain:a||void 0,port:s||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}}}]),t}();e["a"]=new a},bfb1:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerPredicate=void 0;const n=r("e6e5"),i=r("882b");class o{static async handlePredicateObject(t,e,r,n,i,o,a){const s=await e.getPropertiesDepth(r,n),u=await e.getDepthOffsetGraph(n,r),c=n-u,l=t.idStack[s];if(l)for(const f of l){const l=u>=0;if(l){const r=t.idStack[c-1];if(r)for(const s of r)a?(e.validateReverseSubject(o),t.emitQuad(n,e.dataFactory.quad(o,i,f,s))):t.emitQuad(n,e.dataFactory.quad(f,i,o,s));else a?(e.validateReverseSubject(o),t.getUnidentifiedGraphBufferSafe(c-1).push({subject:o,predicate:i,object:f})):t.getUnidentifiedGraphBufferSafe(c-1).push({subject:f,predicate:i,object:o})}else{const u=await e.getGraphContainerValue(r,s);a?(e.validateReverseSubject(o),t.emitQuad(n,e.dataFactory.quad(o,i,f,u))):t.emitQuad(n,e.dataFactory.quad(f,i,o,u))}}else a&&e.validateReverseSubject(o),t.getUnidentifiedValueBufferSafe(s).push({predicate:i,object:o,reverse:a})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(t,e,r,n,o){const a=r[n];if(a){const o=await t.getContext(r);if(await e.predicateToTerm(o,r[n]))return"@json"===i.Util.getContextValueType(o,a)&&(t.jsonLiteralStack[n+1]=!0),!0}return!1}async test(t,e,r,n,i){return n[i]}async handle(t,e,r,a,s,u,c){const l=a[u],f=await t.getContext(a),h=await e.predicateToTerm(f,r);if(h){const c=await e.valueToTerm(f,r,s,u,a);if(c.length)for(let d of c){const c=i.Util.isPropertyReverse(f,l,await e.unaliasKeywordParent(a,u));if(s){const o="@list"in i.Util.getContextValueContainer(f,r);if(o||s["@list"]){if((o&&!Array.isArray(s)&&!s["@list"]||s["@list"]&&!Array.isArray(s["@list"]))&&d!==e.rdfNil){const r=e.dataFactory.blankNode();t.emitQuad(u,e.dataFactory.quad(r,e.rdfRest,e.rdfNil,e.getDefaultGraph())),t.emitQuad(u,e.dataFactory.quad(r,e.rdfFirst,d,e.getDefaultGraph())),d=r}if(c&&!t.allowSubjectList)throw new n.ErrorCoded(`Found illegal list value in subject position at ${r}`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await o.handlePredicateObject(t,e,a,u,h,d,c)}}}}e.EntryHandlerPredicate=o},c020:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(){function t(){this._hasWeakSet="function"===typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){var r=this._inner[e];if(r===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},c04e:function(t,e,r){var n=r("861d");t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c13b:function(t,e,r){(function(e){var r={},n=r.LEFT_BRACE=1,i=r.RIGHT_BRACE=2,o=r.LEFT_BRACKET=3,a=r.RIGHT_BRACKET=4,s=r.COLON=5,u=r.COMMA=6,c=r.TRUE=7,l=r.FALSE=8,f=r.NULL=9,h=r.STRING=10,d=r.NUMBER=11,p=r.START=17,v=r.STOP=18,y=r.TRUE1=33,g=r.TRUE2=34,b=r.TRUE3=35,m=r.FALSE1=49,w=r.FALSE2=50,_=r.FALSE3=51,x=r.FALSE4=52,E=r.NULL1=65,O=r.NULL2=66,S=r.NULL3=67,R=r.NUMBER1=81,j=r.NUMBER3=83,I=r.STRING1=97,k=r.STRING2=98,C=r.STRING3=99,T=r.STRING4=100,D=r.STRING5=101,A=r.STRING6=102,P=r.VALUE=113,L=r.KEY=114,N=r.OBJECT=129,U=r.ARRAY=130,M="\\".charCodeAt(0),F="/".charCodeAt(0),B="\b".charCodeAt(0),V="\f".charCodeAt(0),G="\n".charCodeAt(0),$="\r".charCodeAt(0),q="\t".charCodeAt(0),J=65536;function K(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=e.alloc?e.alloc(J):new e(J),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=P,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new e(2),3:new e(3),4:new e(4)},this.offset=-1}K.toknam=function(t){for(var e=Object.keys(r),n=0,i=e.length;n<i;n++){var o=e[n];if(r[o]===t)return o}return t&&"0x"+t.toString(16)};var z=K.prototype;z.onError=function(t){throw t},z.charError=function(t,e){this.tState=v,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+K.toknam(this.tState)))},z.appendStringChar=function(t){this.stringBufferOffset>=J&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t},z.appendStringBuf=function(t,e,r){var n=t.length;"number"===typeof e&&(n="number"===typeof r?r<0?t.length-e+r:r-e:t.length-e),n<0&&(n=0),this.stringBufferOffset+n>J&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=n},z.write=function(t){var r;"string"===typeof t&&(t=new e(t));for(var v=0,P=t.length;v<P;v++)if(this.tState===p){if(r=t[v],this.offset++,123===r)this.onToken(n,"{");else if(125===r)this.onToken(i,"}");else if(91===r)this.onToken(o,"[");else if(93===r)this.onToken(a,"]");else if(58===r)this.onToken(s,":");else if(44===r)this.onToken(u,",");else if(116===r)this.tState=y;else if(102===r)this.tState=m;else if(110===r)this.tState=E;else if(34===r)this.string="",this.stringBufferOffset=0,this.tState=I;else if(45===r)this.string="-",this.tState=R;else if(r>=48&&r<64)this.string=String.fromCharCode(r),this.tState=j;else if(32!==r&&9!==r&&10!==r&&13!==r)return this.charError(t,v)}else if(this.tState===I)if(r=t[v],this.bytes_remaining>0){for(var L=0;L<this.bytes_remaining;L++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+L]=t[L];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,v=v+L-1}else if(0===this.bytes_remaining&&r>=128){if(r<=193||r>244)return this.onError(new Error("Invalid UTF-8 character at position "+v+" in state "+K.toknam(this.tState)));if(r>=194&&r<=223&&(this.bytes_in_sequence=2),r>=224&&r<=239&&(this.bytes_in_sequence=3),r>=240&&r<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+v>t.length){for(var N=0;N<=t.length-1-v;N++)this.temp_buffs[this.bytes_in_sequence][N]=t[v+N];this.bytes_remaining=v+this.bytes_in_sequence-t.length,v=t.length-1}else this.appendStringBuf(t,v,v+this.bytes_in_sequence),v=v+this.bytes_in_sequence-1}else if(34===r)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(h,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===r)this.tState=k;else{if(!(r>=32))return this.charError(t,v);this.appendStringChar(r)}else if(this.tState===k)if(r=t[v],34===r)this.appendStringChar(r),this.tState=I;else if(92===r)this.appendStringChar(M),this.tState=I;else if(47===r)this.appendStringChar(F),this.tState=I;else if(98===r)this.appendStringChar(B),this.tState=I;else if(102===r)this.appendStringChar(V),this.tState=I;else if(110===r)this.appendStringChar(G),this.tState=I;else if(114===r)this.appendStringChar($),this.tState=I;else if(116===r)this.appendStringChar(q),this.tState=I;else{if(117!==r)return this.charError(t,v);this.unicode="",this.tState=C}else if(this.tState===C||this.tState===T||this.tState===D||this.tState===A){if(r=t[v],!(r>=48&&r<64||r>64&&r<=70||r>96&&r<=102))return this.charError(t,v);if(this.unicode+=String.fromCharCode(r),this.tState++===A){var U=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&U>=56320&&U<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,U))),this.highSurrogate=void 0):void 0===this.highSurrogate&&U>=55296&&U<56320?this.highSurrogate=U:(void 0!==this.highSurrogate&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(U)))),this.tState=I}}else if(this.tState===R||this.tState===j)switch(r=t[v],r){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(r),this.tState=j;break;default:this.tState=p;var J=Number(this.string);if(isNaN(J))return this.charError(t,v);this.string.match(/[0-9]+/)==this.string&&J.toString()!=this.string?this.onToken(h,this.string):this.onToken(d,J),this.offset+=this.string.length-1,this.string=void 0,v--;break}else if(this.tState===y){if(114!==t[v])return this.charError(t,v);this.tState=g}else if(this.tState===g){if(117!==t[v])return this.charError(t,v);this.tState=b}else if(this.tState===b){if(101!==t[v])return this.charError(t,v);this.tState=p,this.onToken(c,!0),this.offset+=3}else if(this.tState===m){if(97!==t[v])return this.charError(t,v);this.tState=w}else if(this.tState===w){if(108!==t[v])return this.charError(t,v);this.tState=_}else if(this.tState===_){if(115!==t[v])return this.charError(t,v);this.tState=x}else if(this.tState===x){if(101!==t[v])return this.charError(t,v);this.tState=p,this.onToken(l,!1),this.offset+=4}else if(this.tState===E){if(117!==t[v])return this.charError(t,v);this.tState=O}else if(this.tState===O){if(108!==t[v])return this.charError(t,v);this.tState=S}else if(this.tState===S){if(108!==t[v])return this.charError(t,v);this.tState=p,this.onToken(f,null),this.offset+=3}},z.onToken=function(t,e){},z.parseError=function(t,e){this.tState=v,this.onError(new Error("Unexpected "+K.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+K.toknam(this.state)))},z.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},z.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=P)},z.emit=function(t){this.mode&&(this.state=u),this.onValue(t)},z.onValue=function(t){},z.onToken=function(t,e){if(this.state===P)if(t===h||t===d||t===c||t===l||t===f)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===n)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=L,this.mode=N;else if(t===o)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=U,this.state=P;else if(t===i){if(this.mode!==N)return this.parseError(t,e);this.pop()}else{if(t!==a)return this.parseError(t,e);if(this.mode!==U)return this.parseError(t,e);this.pop()}else if(this.state===L)if(t===h)this.key=e,this.state=s;else{if(t!==i)return this.parseError(t,e);this.pop()}else if(this.state===s){if(t!==s)return this.parseError(t,e);this.state=P}else{if(this.state!==u)return this.parseError(t,e);if(t===u)this.mode===U?(this.key++,this.state=P):this.mode===N&&(this.state=L);else{if(!(t===a&&this.mode===U||t===i&&this.mode===N))return this.parseError(t,e);this.pop()}}},K.C=r,t.exports=K}).call(this,r("b639").Buffer)},c154:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordIncluded=void 0;const n=r("e6e5"),i=r("f232");class o extends i.EntryHandlerKeyword{constructor(){super("@included")}async handle(t,e,r,i,o,a){"object"!==typeof o&&t.emitError(new n.ErrorCoded(`Found illegal @included '${o}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE));const s=await e.unaliasKeywords(o,i,a,await t.getContext(i));"@value"in s&&t.emitError(new n.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in s&&t.emitError(new n.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),t.emittedStack[a]=!1}}e.EntryHandlerKeywordIncluded=o},c20d:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r("72aa"),e),i(r("c3f4"),e)},c28b:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordUnknownFallback=void 0;const n=r("e6e5");class i{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,i,o){const a=await e.unaliasKeyword(r[i],r,i);return!!n.Util.isPotentialKeyword(a)&&!(!o&&"@list"===a)}async test(t,e,r,i,o){return n.Util.isPotentialKeyword(r)}async handle(t,e,r,o,a,s){const u=i.VALID_KEYWORDS_TYPES[r];void 0!==u?u&&typeof a!==u.type&&t.emitError(new n.ErrorCoded(`Invalid value type for '${r}' with value '${a}'`,u.errorCode)):t.strictValues&&t.emitError(new Error(`Unknown keyword '${r}' with value '${a}'`)),t.emittedStack[s]=!1}}e.EntryHandlerKeywordUnknownFallback=i,i.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:n.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:n.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null}},c2ae:function(t,e,r){t.exports=r("e372").PassThrough},c317:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordId=void 0;const n=r("e6e5"),i=r("f232");class o extends i.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(t,e,r,i,o,a){"string"!==typeof o&&t.emitError(new n.ErrorCoded(`Found illegal @id '${o}'`,n.ERROR_CODES.INVALID_ID_VALUE));const s=await e.getPropertiesDepth(i,a);void 0!==t.idStack[s]&&(t.idStack[s][0].listHead?t.emitError(new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${i[a-1]}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):t.emitError(new n.ErrorCoded(`Found duplicate @ids '${t.idStack[s][0].value}' and '${o}'`,n.ERROR_CODES.COLLIDING_KEYWORDS))),t.idStack[s]=e.nullableTermToArray(await e.resourceToTerm(await t.getContext(i),o))}}e.EntryHandlerKeywordId=o},c3f4:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const n=r("e6e5");class i{static termToValue(t,e,r={compactIds:!1,useNativeTypes:!1}){switch(t.termType){case"NamedNode":const a=e.compactIri(t.value,r.vocab);return r.compactIds?a:{"@id":a};case"DefaultGraph":return r.compactIds?t.value:{"@id":t.value};case"BlankNode":const s=`_:${t.value}`;return r.compactIds?s:{"@id":s};case"Literal":if(t.datatype.value===i.RDF_JSON){let e;try{e=JSON.parse(t.value)}catch(o){throw new n.ErrorCoded("Invalid JSON literal: "+o.message,n.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":e,"@type":"@json"}}if("i18n-datatype"===r.rdfDirection&&t.datatype.value.startsWith(i.I18N)){const[e,r]=t.datatype.value.substr(i.I18N.length,t.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":t.value},e?{"@language":e}:{}),r?{"@direction":r}:{})}const u=t.datatype.value===i.XSD_STRING,c={"@value":!u&&r.useNativeTypes?i.stringToNativeType(t.value,t.datatype.value):t.value};return t.language?Object.assign(Object.assign({},c),{"@language":t.language}):u||"string"!==typeof c["@value"]?c:Object.assign(Object.assign({},c),{"@type":t.datatype.value})}}static stringToNativeType(t,e){if(e.startsWith(i.XSD)){const r=e.substr(i.XSD.length);switch(r){case"boolean":if("true"===t)return!0;if("false"===t)return!1;throw new Error(`Invalid xsd:boolean value '${t}'`);case"integer":case"number":case"int":case"byte":case"long":const e=parseInt(t,10);if(isNaN(e))throw new Error(`Invalid xsd:integer value '${t}'`);return e;case"float":case"double":const r=parseFloat(t);if(isNaN(r))throw new Error(`Invalid xsd:float value '${t}'`);return r}}return t}}e.Util=i,i.XSD="http://www.w3.org/2001/XMLSchema#",i.XSD_STRING=i.XSD+"string",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.RDF_TYPE=i.RDF+"type",i.RDF_JSON=i.RDF+"JSON",i.I18N="https://www.w3.org/ns/i18n#"},c430:function(t,e){t.exports=!1},c513:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r("7096"),e),i(r("13f1"),e),i(r("3e6b"),e),i(r("8ce0"),e),i(r("9935"),e),i(r("8026"),e),i(r("a22a"),e)},c64a:function(t,e,r){"use strict";function n(t){t.setImmediate=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return setTimeout((function(){return t.apply(void 0,r)}),0)},t.clearImmediate=function(){return clearTimeout.apply(void 0,arguments)}}r.d(e,"a",(function(){return n}))},c6b6:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},c6cd:function(t,e,r){var n=r("da84"),i=r("ce4e"),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},c7e2:function(t,e,r){"use strict";(function(e){var r=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i=/\s|\uFEFF|\xA0/,o=/\r?\n[\x20\x09]+/g,a=/[;,"]/,s=/[;,"]|\s/,u=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,c={IDLE:1,URI:2,ATTR:4};function l(t){return t.replace(n,"")}function f(t){return i.test(t)}function h(t,e){while(f(t[e]))e++;return e}function d(t){return s.test(t)||!u.test(t)}class p{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var e=[],r=t.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&e.push(this.refs[n]);return e}get(t,e){t=t.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][t]===e&&r.push(this.refs[n]);return r}set(t){return this.refs.push(t),this}has(t,e){t=t.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][t]===e)return!0;return!1}parse(t,e){e=e||0,t=e?t.slice(e):t,t=l(t).replace(o,"");var r=c.IDLE,n=t.length,i=(e=0,null);while(e<n)if(r===c.IDLE){if(f(t[e])){e++;continue}if("<"!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);null!=i&&(null!=i.rel?this.refs.push(...p.expandRelations(i)):this.refs.push(i));var s=t.indexOf(">",e);if(-1===s)throw new Error("Expected end of URI delimiter at offset "+e);i={uri:t.slice(e+1,s)},e=s,r=c.URI,e++}else if(r===c.URI){if(f(t[e])){e++;continue}if(";"===t[e])r=c.ATTR,e++;else{if(","!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);r=c.IDLE,e++}}else{if(r!==c.ATTR)throw new Error('Unknown parser state "'+r+'"');if(";"===t[e]||f(t[e])){e++;continue}s=t.indexOf("=",e);if(-1===s)throw new Error("Expected attribute delimiter at offset "+e);var u=l(t.slice(e,s)).toLowerCase(),d="";if(e=s+1,e=h(t,e),'"'===t[e]){e++;while(e<n){if('"'===t[e]){e++;break}"\\"===t[e]&&e++,d+=t[e],e++}}else{s=e+1;while(!a.test(t[s])&&s<n)s++;d=t.slice(e,s),e=s}switch(i[u]&&p.isSingleOccurenceAttr(u)||("*"===u[u.length-1]?i[u]=p.parseExtendedValue(d):(d="type"===u?d.toLowerCase():d,null!=i[u]?Array.isArray(i[u])?i[u].push(d):i[u]=[i[u],d]:i[u]=d)),t[e]){case",":r=c.IDLE;break;case";":r=c.ATTR;break}e++}return null!=i&&(null!=i.rel?this.refs.push(...p.expandRelations(i)):this.refs.push(i)),i=null,this}toString(){for(var t=[],e="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],e=Object.keys(this.refs[n]).reduce((function(t,e){return"uri"===e?t:t+"; "+p.formatAttribute(e,r[e])}),"<"+r.uri+">"),t.push(e);return t.join(", ")}}p.isCompatibleEncoding=function(t){return r.test(t)},p.parse=function(t,e){return(new p).parse(t,e)},p.isSingleOccurenceAttr=function(t){return"rel"===t||"type"===t||"media"===t||"title"===t||"title*"===t},p.isTokenAttr=function(t){return"rel"===t||"type"===t||"anchor"===t},p.escapeQuotes=function(t){return t.replace(/"/g,'\\"')},p.expandRelations=function(t){var e=t.rel.split(" ");return e.map((function(e){var r=Object.assign({},t);return r.rel=e,r}))},p.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']+)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:p.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:p.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}},p.formatExtendedAttribute=function(t,r){var n=(r.encoding||"utf-8").toUpperCase(),i=r.language||"en",o="";return o=e.isBuffer(r.value)&&p.isCompatibleEncoding(n)?r.value.toString(n):e.isBuffer(r.value)?r.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(r.value),t+"="+n+"'"+i+"'"+o},p.formatAttribute=function(t,e){return Array.isArray(e)?e.map(e=>p.formatAttribute(t,e)).join("; "):"*"===t[t.length-1]||"string"!==typeof e?p.formatExtendedAttribute(t,e):(p.isTokenAttr(t)?e=d(e)?'"'+p.escapeQuotes(e)+'"':p.escapeQuotes(e):d(e)&&(e=encodeURIComponent(e),e=e.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),e='"'+e+'"'),t+"="+e)},t.exports=p}).call(this,r("b639").Buffer)},c826:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextTree=void 0;class n{constructor(){this.subTrees={}}getContext(t){if(t.length>0){const[e,...r]=t,n=this.subTrees[e];if(n){const t=n.getContext(r);if(t)return t.then(({context:t,depth:e})=>({context:t,depth:e+1}))}}return this.context?this.context.then(t=>({context:t,depth:0})):null}setContext(t,e){if(0===t.length)this.context=e;else{const[r,...i]=t;let o=this.subTrees[r];o||(o=this.subTrees[r]=new n),o.setContext(i,e)}}removeContext(t){this.setContext(t,null)}}e.ContextTree=n},c8ba:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},c8d2:function(t,e,r){var n=r("d039"),i=r("5899"),o="​᠎";t.exports=function(t){return n((function(){return!!i[t]()||o[t]()!=o||i[t].name!==t}))}},c964:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("d3b7"),r("e6cf");function n(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)}))}}},c975:function(t,e,r){"use strict";var n=r("23e7"),i=r("4d64").indexOf,o=r("a640"),a=r("ae40"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(t){return u?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},c9fc:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIdentifier=void 0;class n{canCombineWithGraph(){return!0}async handle(t,e,r,n,i,o){let a;if(e.emittedStack[o+1]&&e.idStack[o+1])a=e.idStack[o+1][0];else{const t=await r.getContainerKey(n[o],n,o),i=null!==t?await r.resourceToTerm(await e.getContext(n),n[o]):r.dataFactory.blankNode();if(!i)return void(e.emittedStack[o]=!1);a=i,e.idStack[o+1]=[a]}let s=e.idStack[o];s||(s=e.idStack[o]=[]),s.some(t=>t.equals(a))||s.push(a),await e.handlePendingContainerFlushBuffers()||(e.emittedStack[o]=!1)}}e.ContainerHandlerIdentifier=n},ca84:function(t,e,r){var n=r("5135"),i=r("fc6a"),o=r("4d64").indexOf,a=r("d012");t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);while(e.length>u)n(s,r=e[u++])&&(~o(c,r)||c.push(r));return c}},caad:function(t,e,r){"use strict";var n=r("23e7"),i=r("4d64").includes,o=r("44d2"),a=r("ae40"),s=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!s},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cc12:function(t,e,r){var n=r("da84"),i=r("861d"),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},cd34:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("b0c0"),r("96cf");var n=r("c964"),i=r("276c"),o=r("e954"),a=function(){function t(e,r){Object(i["a"])(this,t),this.name=e,this.avatarUrl=r}return Object(o["a"])(t,[{key:"resolveMediaContainers",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getCachedMoviesContainer();case 2:if(e=t.sent,t.t0=e,t.t0){t.next=8;break}return t.next=7,this.initMoviesContainer();case 7:t.t0=t.sent;case 8:return t.t1=t.t0,t.abrupt("return",{movies:t.t1});case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),t}()},cdf9:function(t,e,r){var n=r("825a"),i=r("861d"),o=r("f069");t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t),a=r.resolve;return a(e),r.promise}},ce4e:function(t,e,r){var n=r("da84"),i=r("9112");t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,r){var n=r("428f"),i=r("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},d0af:function(t,e,r){"use strict";function n(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return s}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),e&&r.length===e)break}catch(u){i=!0,o=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw o}}return r}}var o=r("dde1");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return n(t)||i(t,e)||Object(o["a"])(t,e)||a()}},d0ff:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r("b680");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var a=r("dde1");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return i(t)||o(t)||Object(a["a"])(t)||s()}},d17b:function(t,e,r){t.exports=r("e372").Transform},d1e7:function(t,e,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},d28b:function(t,e,r){var n=r("746f");n("iterator")},d2bb:function(t,e,r){var n=r("825a"),i=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(r,[]),e=r instanceof Array}catch(o){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},d3b7:function(t,e,r){var n=r("00ee"),i=r("6eeb"),o=r("b041");n||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(t,e,r){var n=r("9bf2").f,i=r("5135"),o=r("b622"),a=o("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},d485:function(t,e,r){t.exports=o;var n=r("faa1").EventEmitter,i=r("3fb5");function o(){n.call(this)}i(o,n),o.Readable=r("e372"),o.Writable=r("2c63"),o.Duplex=r("0960"),o.Transform=r("d17b"),o.PassThrough=r("c2ae"),o.Stream=o,o.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"===typeof t.destroy&&t.destroy())}function c(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",c),t.on("error",c),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},d58f:function(t,e,r){var n=r("1c0b"),i=r("7b0b"),o=r("44ad"),a=r("50c4"),s=function(t){return function(e,r,s,u){n(r);var c=i(e),l=o(c),f=a(c.length),h=t?f-1:0,d=t?-1:1;if(s<2)while(1){if(h in l){u=l[h],h+=d;break}if(h+=d,t?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:f>h;h+=d)h in l&&(u=r(u,l[h],h,c));return u}};t.exports={left:s(!1),right:s(!0)}},d685:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"FunctionToString",(function(){return tt})),r.d(n,"InboundFilters",(function(){return nt}));r("e870"),r("99af"),r("4de4"),r("d81d"),r("d3b7"),r("3ca3"),r("ddb0");var i=r("d0ff"),o=r("f3f3"),a=(r("96cf"),r("c964")),s=r("276c"),u=r("e954"),c=r("92a6"),l=r("920b"),f=r("dfab"),h=r.n(f),d=r("ddbf"),p=r.n(d);p.a.loadModels(Object(d["definitionsFromContext"])(r("23ef"))),h.a.loadSolidModels();var v=r("5e9c"),y=r("6ea5"),g=r("fbd1"),b=r("191b"),m=r("b6cd"),w=(r("7db0"),function(){function t(){Object(s["a"])(this,t)}return Object(u["a"])(t,[{key:"set",value:function(t,e){"undefined"===typeof e&&(e="__undefined__"),localStorage.setItem(t,JSON.stringify(e))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=localStorage.getItem(t);return null===r?e:"__undefined__"!==r?JSON.parse(r):void 0}},{key:"has",value:function(t){return null!==localStorage.getItem(t)}},{key:"remove",value:function(t){localStorage.removeItem(t)}},{key:"pull",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.has(t))return e;var r=this.get(t);return this.remove(t),r}}]),t}()),_=new w,x=r("b0d7"),E=r("cd34"),O=function(t){Object(l["a"])(r,t);var e=Object(c["a"])(r);function r(){return Object(s["a"])(this,r),e.call(this,"Browser Storage",null)}return Object(u["a"])(r,null,[{key:"isLoggedIn",value:function(){return _.get("media-kraken-offline-user",!1)}},{key:"isOfflineUserJSON",value:function(t){return"offline"in t&&t.offline}}]),Object(u["a"])(r,[{key:"login",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:_.set("media-kraken-offline-user",!0);case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=p.a.engine,!p.a.engine){t.next=4;break}return t.next=4,e.purgeDatabase();case 4:_.remove("media-kraken-offline-user");case 5:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"initSoukaiEngine",value:function(){p.a.useEngine(new d["IndexedDBEngine"]("media-kraken"))}},{key:"toJSON",value:function(){return{offline:!0}}},{key:"getCachedMoviesContainer",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"initMoviesContainer",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["default"].find("browser-storage://movies/");case 2:return e=t.sent,t.abrupt("return",e||x["default"].at("browser-storage://").create({name:"Movies"}));case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),r}(E["a"]),S=function(){function t(){Object(s["a"])(this,t)}return Object(u["a"])(t,[{key:"parse",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!g["a"].isSolidUserJSON(e)){t.next=2;break}return t.abrupt("return",g["a"].fromJSON(e));case 2:if(!O.isOfflineUserJSON(e)){t.next=4;break}return t.abrupt("return",new O);case 4:throw new Error("Invalid User JSON");case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),R=new S,j=(r("b0c0"),r("25f0"),r("4160"),r("159b"),r("2b3d"),r("9ab4")),I=r("f7f6"),k=Object(I["f"])(),C="Sentry Logger ",T=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(I["c"])((function(){k.console.log(C+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(I["c"])((function(){k.console.warn(C+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(I["c"])((function(){k.console.error(C+"[Error]: "+t.join(" "))}))},t}();k.__SENTRY__=k.__SENTRY__||{};var D,A=k.__SENTRY__.logger||(k.__SENTRY__.logger=new T),P=r("f404");(function(t){t["PENDING"]="PENDING",t["RESOLVED"]="RESOLVED",t["REJECTED"]="REJECTED"})(D||(D={}));var L=function(){function t(t){var e=this;this._state=D.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(D.RESOLVED,t)},this._reject=function(t){e._setResult(D.REJECTED,t)},this._setResult=function(t,r){e._state===D.PENDING&&(Object(P["m"])(r)?r.then(e._resolve,e._reject):(e._state=t,e._value=r,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==D.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===D.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===D.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}return t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,r){r(e)}))},t.all=function(e){return new t((function(r,n){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach((function(e,a){t.resolve(e).then((function(t){o[a]=t,i-=1,0===i&&r(o)})).then(null,n)}))}else r([]);else n(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,r){var n=this;return new t((function(t,i){n._attachHandler({done:!1,onfulfilled:function(r){if(e)try{return void t(e(r))}catch(n){return void i(n)}else t(r)},onrejected:function(e){if(r)try{return void t(r(e))}catch(n){return void i(n)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var r=this;return new t((function(t,n){var i,o;return r.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?n(i):t(i)}))}))},t}(),N=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},t.prototype._notifyEventProcessors=function(t,e,r,n){var i=this;return void 0===n&&(n=0),new L((function(o,a){var s=t[n];if(null===e||"function"!==typeof s)o(e);else{var u=s(j["a"]({},e),r);Object(P["m"])(u)?u.then((function(e){return i._notifyEventProcessors(t,e,r,n+1).then(o)})).then(null,a):i._notifyEventProcessors(t,u,r,n+1).then(o).then(null,a)}}))},t.prototype.setUser=function(t){return this._user=t||{},this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=j["a"]({},this._tags,t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var r;return this._tags=j["a"]({},this._tags,(r={},r[t]=e,r)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=j["a"]({},this._extra,t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var r;return this._extra=j["a"]({},this._extra,(r={},r[t]=e,r)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var r;return this._contexts=j["a"]({},this._contexts,(r={},r[t]=e,r)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();if(t&&t.spanRecorder&&t.spanRecorder.spans[0])return t.spanRecorder.spans[0]},t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=j["e"](e._breadcrumbs),r._tags=j["a"]({},e._tags),r._extra=j["a"]({},e._extra),r._contexts=j["a"]({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=j["e"](e._eventProcessors)),r},t.prototype.update=function(e){if(!e)return this;if("function"===typeof e){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=j["a"]({},this._tags,e._tags),this._extra=j["a"]({},this._extra,e._extra),this._contexts=j["a"]({},this._contexts,e._contexts),e._user&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(P["h"])(e)&&(e=e,this._tags=j["a"]({},this._tags,e.tags),this._extra=j["a"]({},this._extra,e.extra),this._contexts=j["a"]({},this._contexts,e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var r=j["a"]({timestamp:Object(I["l"])()},t);return this._breadcrumbs=void 0!==e&&e>=0?j["e"](this._breadcrumbs,[r]).slice(-e):j["e"](this._breadcrumbs,[r]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=j["a"]({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=j["a"]({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=j["a"]({},this._user,t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=j["a"]({},this._contexts,t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span&&(t.contexts=j["a"]({trace:this._span.getTraceContext()},t.contexts)),this._applyFingerprint(t),t.breadcrumbs=j["e"](t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(j["e"](U(),this._eventProcessors),t,e)},t}();function U(){var t=Object(I["f"])();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function M(t){U().push(t)}var F,B=3,V=100,G=100,$=function(){function t(t,e,r){void 0===e&&(e=new N),void 0===r&&(r=B),this._version=r,this._stack=[],this._stack.push({client:t,scope:e}),this.bindClient(t)}return t.prototype._invokeClient=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getStackTop();i&&i.client&&i.client[t]&&(e=i.client)[t].apply(e,j["e"](r,[i.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){var e=this.getStackTop();e.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,r=N.clone(e);return this.getStack().push({client:this.getClient(),scope:r}),r},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var r=this._lastEventId=Object(I["m"])(),n=e;if(!e){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}n={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,j["a"]({},n,{event_id:r})),r},t.prototype.captureMessage=function(t,e,r){var n=this._lastEventId=Object(I["m"])(),i=r;if(!r){var o=void 0;try{throw new Error(t)}catch(a){o=a}i={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,j["a"]({},i,{event_id:n})),n},t.prototype.captureEvent=function(t,e){var r=this._lastEventId=Object(I["m"])();return this._invokeClient("captureEvent",t,j["a"]({},e,{event_id:r})),r},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var r=this.getStackTop();if(r.scope&&r.client){var n=r.client.getOptions&&r.client.getOptions()||{},i=n.beforeBreadcrumb,o=void 0===i?null:i,a=n.maxBreadcrumbs,s=void 0===a?V:a;if(!(s<=0)){var u=Object(I["l"])(),c=j["a"]({timestamp:u},t),l=o?Object(I["c"])((function(){return o(c,e)})):c;null!==l&&r.scope.addBreadcrumb(l,Math.min(s,G))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var r=this.getStackTop();r.scope&&r.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var r=this.getStackTop();r.scope&&r.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var r=this.getStackTop();r.scope&&r.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=J(this);try{t(this)}finally{J(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(r){return A.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t){return this._callExtensionMethod("startTransaction",t)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype._callExtensionMethod=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=q(),i=n.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[t])return i.extensions[t].apply(this,e);A.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function q(){var t=Object(I["f"])();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function J(t){var e=q(),r=W(e);return Y(e,t),r}function K(){var t=q();return H(t)&&!W(t).isOlderThan(B)||Y(t,new $),Object(I["i"])()?z(t):W(t)}function z(t){try{var e="domain",r=q(),n=r.__SENTRY__;if(!n||!n.extensions||!n.extensions[e])return W(t);var i=n.extensions[e],o=i.active;if(!o)return W(t);if(!H(o)||W(o).isOlderThan(B)){var a=W(t).getStackTop();Y(o,new $(a.client,N.clone(a.scope)))}return W(o)}catch(s){return W(t)}}function H(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function W(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new $,t.__SENTRY__.hub)}function Y(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function X(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=K();if(n&&n[t])return n[t].apply(n,j["e"](e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Q(t,e){var r;try{throw new Error("Sentry syntheticException")}catch(t){r=t}return X("captureException",t,{captureContext:e,originalException:t,syntheticException:r})}function Z(t){X("withScope",t)}var tt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){F=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.__sentry_original__||this;return F.apply(r,t)}},t.id="FunctionToString",t}(),et=r("fbdd"),rt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],nt=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){M((function(e){var r=K();if(!r)return e;var n=r.getIntegration(t);if(n){var i=r.getClient(),o=i?i.getOptions():{},a=n._mergeOptions(o);if(n._shouldDropEvent(e,a))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(A.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(I["d"])(t)),!0):this._isIgnoredError(t,e)?(A.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(I["d"])(t)),!0):this._isDeniedUrl(t,e)?(A.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(I["d"])(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(A.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(I["d"])(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(r){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Object(et["a"])(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var r=this._getEventFilterUrl(t);return!!r&&e.denyUrls.some((function(t){return Object(et["a"])(r,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var r=this._getEventFilterUrl(t);return!r||e.allowUrls.some((function(t){return Object(et["a"])(r,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:j["e"](this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:j["e"](this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:j["e"](this._options.ignoreErrors||[],t.ignoreErrors||[],rt),ignoreInternal:"undefined"===typeof this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},r=e.type,n=void 0===r?"":r,i=e.value,o=void 0===i?"":i;return[""+o,n+": "+o]}catch(a){return A.error("Cannot extract message for event "+Object(I["d"])(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var r=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return r&&r[r.length-1].filename||null}return null}catch(n){return A.error("Cannot extract url for event "+Object(I["d"])(t)),null}},t.id="InboundFilters",t}();function it(t,e){!0===e.debug&&A.enable();var r=K(),n=new t(e);r.bindClient(n)}var ot=Object.setPrototypeOf||({__proto__:[]}instanceof Array?at:st);function at(t,e){return t.__proto__=e,t}function st(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}var ut=function(t){function e(e){var r=this.constructor,n=t.call(this,e)||this;return n.message=e,n.name=r.prototype.constructor.name,ot(n,r.prototype),n}return j["b"](e,t),e}(Error),ct=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,lt="Invalid Dsn",ft=function(){function t(t){"string"===typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,r=e.host,n=e.path,i=e.pass,o=e.port,a=e.projectId,s=e.protocol,u=e.user;return s+"://"+u+(t&&i?":"+i:"")+"@"+r+(o?":"+o:"")+"/"+(n?n+"/":n)+a},t.prototype._fromString=function(t){var e=ct.exec(t);if(!e)throw new ut(lt);var r=j["c"](e.slice(1),6),n=r[0],i=r[1],o=r[2],a=void 0===o?"":o,s=r[3],u=r[4],c=void 0===u?"":u,l=r[5],f="",h=l,d=h.split("/");if(d.length>1&&(f=d.slice(0,-1).join("/"),h=d.pop()),h){var p=h.match(/^\d+/);p&&(h=p[0])}this._fromComponents({host:s,pass:a,path:f,projectId:h,port:c,protocol:n,user:i})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new ut(lt+": "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new ut(lt+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new ut(lt+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new ut(lt+": Invalid port "+this.port)},t}(),ht=r("e8f5"),dt=[];function pt(t){var e=t.defaultIntegrations&&j["e"](t.defaultIntegrations)||[],r=t.integrations,n=[];if(Array.isArray(r)){var i=r.map((function(t){return t.name})),o=[];e.forEach((function(t){-1===i.indexOf(t.name)&&-1===o.indexOf(t.name)&&(n.push(t),o.push(t.name))})),r.forEach((function(t){-1===o.indexOf(t.name)&&(n.push(t),o.push(t.name))}))}else"function"===typeof r?(n=r(e),n=Array.isArray(n)?n:[n]):n=j["e"](e);var a=n.map((function(t){return t.name})),s="Debug";return-1!==a.indexOf(s)&&n.push.apply(n,j["e"](n.splice(a.indexOf(s),1))),n}function vt(t){-1===dt.indexOf(t.name)&&(t.setupOnce(M,K),dt.push(t.name),A.log("Integration installed: "+t.name))}function yt(t){var e={};return pt(t).forEach((function(t){e[t.name]=t,vt(t)})),e}var gt,bt=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new ft(e.dsn))}return t.prototype.captureException=function(t,e,r){var n=this,i=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){i=n.captureEvent(t,e,r)})),i},t.prototype.captureMessage=function(t,e,r,n){var i=this,o=r&&r.event_id;this._processing=!0;var a=Object(P["i"])(t)?this._getBackend().eventFromMessage(""+t,e,r):this._getBackend().eventFromException(t,r);return a.then((function(t){o=i.captureEvent(t,r,n)})),o},t.prototype.captureEvent=function(t,e,r){var n=this,i=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,r).then((function(t){i=t&&t.event_id,n._processing=!1})).then(null,(function(t){A.error(t),n._processing=!1})),i},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(r){return clearInterval(r.interval),e._getBackend().getTransport().close(t).then((function(t){return r.ready&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=yt(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return A.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new L((function(r){var n=0,i=1,o=0;clearInterval(o),o=setInterval((function(){e._processing?(n+=i,t&&n>=t&&r({interval:o,ready:!1})):r({interval:o,ready:!0})}),i)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,r){var n=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=j["a"]({},t,{event_id:t.event_id||(r&&r.event_id?r.event_id:Object(I["m"])()),timestamp:t.timestamp||Object(I["l"])()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=e;r&&r.captureContext&&(s=N.clone(s).update(r.captureContext));var u=L.resolve(a);return s&&(u=s.applyToEvent(a,r)),u.then((function(t){return"number"===typeof o&&o>0?n._normalizeEvent(t,o):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var r=j["a"]({},t,t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return j["a"]({},t,t.data&&{data:Object(ht["c"])(t.data,e)})}))},t.user&&{user:Object(ht["c"])(t.user,e)},t.contexts&&{contexts:Object(ht["c"])(t.contexts,e)},t.extra&&{extra:Object(ht["c"])(t.extra,e)});return t.contexts&&t.contexts.trace&&(r.contexts.trace=t.contexts.trace),r},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),r=e.environment,n=e.release,i=e.dist,o=e.maxValueLength,a=void 0===o?250:o;void 0===t.environment&&void 0!==r&&(t.environment=r),void 0===t.release&&void 0!==n&&(t.release=n),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=Object(et["d"])(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Object(et["d"])(s.value,a));var u=t.request;u&&u.url&&(u.url=Object(et["d"])(u.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,r=Object.keys(this._integrations);e&&r.length>0&&(e.integrations=r)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._processEvent=function(t,e,r){var n=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return L.reject("SDK not enabled, will not send event.");var s="transaction"===t.type;return!s&&"number"===typeof a&&Math.random()>a?L.reject("This event has been sampled, will not send event."):new L((function(i,a){n._prepareEvent(t,r,e).then((function(t){if(null!==t){var r=t,u=e&&e.data&&!0===e.data.__sentry__;if(u||!o||s)return n._sendEvent(r),void i(r);var c=o(t,e);if("undefined"===typeof c)A.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(P["m"])(c))n._handleAsyncBeforeSend(c,i,a);else{if(r=c,null===r)return A.log("`beforeSend` returned `null`, will not send event."),void i(null);n._sendEvent(r),i(r)}}else a("An event processor returned null, will not send event.")})).then(null,(function(t){n.captureException(t,{data:{__sentry__:!0},originalException:t}),a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))}))},t.prototype._handleAsyncBeforeSend=function(t,e,r){var n=this;t.then((function(t){null!==t?(n._sendEvent(t),e(t)):r("`beforeSend` returned `null`, will not send event.")})).then(null,(function(t){r("beforeSend rejected with "+t)}))},t}();(function(t){t["Unknown"]="unknown",t["Skipped"]="skipped",t["Success"]="success",t["RateLimit"]="rate_limit",t["Invalid"]="invalid",t["Failed"]="failed"})(gt||(gt={})),function(t){function e(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}t.fromHttpCode=e}(gt||(gt={}));var mt,wt=function(){function t(){}return t.prototype.sendEvent=function(t){return L.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:gt.Skipped})},t.prototype.close=function(t){return L.resolve(!0)},t}(),_t=function(){function t(t){this._options=t,this._options.dsn||A.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new wt},t.prototype.eventFromException=function(t,e){throw new ut("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,r){throw new ut("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){A.error("Error while sending event: "+t)}))},t.prototype.getTransport=function(){return this._transport},t}();function xt(){if(!("fetch"in Object(I["f"])()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function Et(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Ot(){if(!xt())return!1;var t=Object(I["f"])();if(Et(t.fetch))return!0;var e=!1,r=t.document;if(r&&"function"===typeof r.createElement)try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Et(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){A.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function St(){if(!xt())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function Rt(){var t=Object(I["f"])(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}(function(t){t["Fatal"]="fatal",t["Error"]="error",t["Warning"]="warning",t["Log"]="log",t["Info"]="info",t["Debug"]="debug",t["Critical"]="critical"})(mt||(mt={})),function(t){function e(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}t.fromString=e}(mt||(mt={}));var jt="?",It=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,kt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Ct=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Tt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Dt=/\((\S*)(?::(\d+))(?::(\d+))\)/,At=/Minified React error #\d+;/i;function Pt(t){var e=null,r=0;t&&("number"===typeof t.framesToPop?r=t.framesToPop:At.test(t.message)&&(r=1));try{if(e=Nt(t),e)return Ut(e,r)}catch(n){}try{if(e=Lt(t),e)return Ut(e,r)}catch(n){}return{message:Mt(t),name:t&&t.name,stack:[],failed:!0}}function Lt(t){if(!t||!t.stack)return null;for(var e,r,n,i,o=[],a=t.stack.split("\n"),s=0;s<a.length;++s){if(n=It.exec(a[s])){var u=n[2]&&0===n[2].indexOf("native");e=n[2]&&0===n[2].indexOf("eval"),e&&(r=Dt.exec(n[2]))&&(n[2]=r[1],n[3]=r[2],n[4]=r[3]),i={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||jt,args:u?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Ct.exec(a[s]))i={url:n[2],func:n[1]||jt,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=kt.exec(a[s])))continue;e=n[3]&&n[3].indexOf(" > eval")>-1,e&&(r=Tt.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||jt,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=jt),o.push(i)}return o.length?{message:Mt(t),name:t.name,stack:o}:null}function Nt(t){if(!t||!t.stacktrace)return null;for(var e,r=t.stacktrace,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=r.split("\n"),a=[],s=0;s<o.length;s+=2){var u=null;(e=n.exec(o[s]))?u={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=i.exec(o[s]))&&(u={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),u&&(!u.func&&u.line&&(u.func=jt),a.push(u))}return a.length?{message:Mt(t),name:t.name,stack:a}:null}function Ut(t,e){try{return j["a"]({},t,{stack:t.stack.slice(e)})}catch(r){return t}}function Mt(t){var e=t&&t.message;return e?e.error&&"string"===typeof e.error.message?e.error.message:e:"No error message"}var Ft=50;function Bt(t){var e=$t(t.stack),r={type:t.name,value:t.message};return e&&e.length&&(r.stacktrace={frames:e}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Vt(t,e,r){var n={exception:{values:[{type:Object(P["f"])(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+Object(ht["a"])(t)}]},extra:{__serialized__:Object(ht["d"])(t)}};if(e){var i=Pt(e),o=$t(i.stack);n.stacktrace={frames:o}}return n}function Gt(t){var e=Bt(t);return{exception:{values:[e]}}}function $t(t){if(!t||!t.length)return[];var e=t,r=e[0].func||"",n=e[e.length-1].func||"";return-1===r.indexOf("captureMessage")&&-1===r.indexOf("captureException")||(e=e.slice(1)),-1!==n.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,Ft).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function qt(t,e,r){var n=r&&r.syntheticException||void 0,i=Kt(e,n,{attachStacktrace:t.attachStacktrace});return Object(I["a"])(i,{handled:!0,type:"generic"}),i.level=mt.Error,r&&r.event_id&&(i.event_id=r.event_id),L.resolve(i)}function Jt(t,e,r,n){void 0===r&&(r=mt.Info);var i=n&&n.syntheticException||void 0,o=zt(e,i,{attachStacktrace:t.attachStacktrace});return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),L.resolve(o)}function Kt(t,e,r){var n;if(void 0===r&&(r={}),Object(P["e"])(t)&&t.error){var i=t;return t=i.error,n=Gt(Pt(t)),n}if(Object(P["a"])(t)||Object(P["b"])(t)){var o=t,a=o.name||(Object(P["a"])(o)?"DOMError":"DOMException"),s=o.message?a+": "+o.message:a;return n=zt(s,e,r),Object(I["b"])(n,s),n}if(Object(P["d"])(t))return n=Gt(Pt(t)),n;if(Object(P["h"])(t)||Object(P["f"])(t)){var u=t;return n=Vt(u,e,r.rejection),Object(I["a"])(n,{synthetic:!0}),n}return n=zt(t,e,r),Object(I["b"])(n,""+t,void 0),Object(I["a"])(n,{synthetic:!0}),n}function zt(t,e,r){void 0===r&&(r={});var n={message:t};if(r.attachStacktrace&&e){var i=Pt(e),o=$t(i.stack);n.stacktrace={frames:o}}return n}function Ht(t,e){var r="transaction"===t.type,n={body:JSON.stringify(t),url:r?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(r){var i=JSON.stringify({event_id:t.event_id,sent_at:new Date(1e3*Object(I["l"])()).toISOString()}),o=JSON.stringify({type:t.type}),a=i+"\n"+o+"\n"+n.body;n.body=a}return n}var Wt="7",Yt=function(){function t(t){this.dsn=t,this._dsnObject=new ft(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",r=t.port?":"+t.port:"";return e+"//"+t.host+r+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){var e=this.getBaseApiEndpoint(),r=this._dsnObject;return""+e+r.projectId+"/"+t+"/"},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype._encodedAuth=function(){var t=this._dsnObject,e={sentry_key:t.user,sentry_version:Wt};return Object(ht["e"])(e)},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var r=this._dsnObject,n=["Sentry sentry_version="+Wt];return n.push("sentry_client="+t+"/"+e),n.push("sentry_key="+r.user),r.pass&&n.push("sentry_secret="+r.pass),{"Content-Type":"application/json","X-Sentry-Auth":n.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,r=this.getBaseApiEndpoint()+"embed/error-page/",n=[];for(var i in n.push("dsn="+e.toString()),t)if("user"===i){if(!t.user)continue;t.user.name&&n.push("name="+encodeURIComponent(t.user.name)),t.user.email&&n.push("email="+encodeURIComponent(t.user.email))}else n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n.length?r+"?"+n.join("&"):r},t}(),Xt=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):L.reject(new ut("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){var e=this._buffer.splice(this._buffer.indexOf(t),1)[0];return e},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new L((function(r){var n=setTimeout((function(){t&&t>0&&r(!1)}),t);L.all(e._buffer).then((function(){clearTimeout(n),r(!0)})).then(null,(function(){r(!0)}))}))},t}(),Qt=function(){function t(t){this.options=t,this._buffer=new Xt(30),this._api=new Yt(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new ut("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),Zt=Object(I["f"])(),te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return j["b"](e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var r=Ht(t,this._api),n={body:r.body,method:"POST",referrerPolicy:St()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(n,this.options.fetchParameters),void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(new L((function(t,i){Zt.fetch(r.url,n).then((function(r){var n=gt.fromHttpCode(r.status);if(n!==gt.Success){if(n===gt.RateLimit){var o=Date.now();e._disabledUntil=new Date(o+Object(I["j"])(o,r.headers.get("Retry-After"))),A.warn("Too many requests, backing off till: "+e._disabledUntil)}i(r)}else t({status:n})})).catch(i)})))},e}(Qt),ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return j["b"](e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var r=Ht(t,this._api);return this._buffer.add(new L((function(t,n){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var r=gt.fromHttpCode(i.status);if(r!==gt.Success){if(r===gt.RateLimit){var o=Date.now();e._disabledUntil=new Date(o+Object(I["j"])(o,i.getResponseHeader("Retry-After"))),A.warn("Too many requests, backing off till: "+e._disabledUntil)}n(i)}else t({status:r})}},i.open("POST",r.url),e.options.headers)e.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,e.options.headers[o]);i.send(r.body)})))},e}(Qt),re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j["b"](e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=j["a"]({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):xt()?new te(e):new ee(e)},e.prototype.eventFromException=function(t,e){return qt(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,r){return void 0===e&&(e=mt.Info),Jt(this._options,t,e,r)},e}(_t),ne=0;function ie(){return ne>0}function oe(){ne+=1,setTimeout((function(){ne-=1}))}function ae(t,e,r){if(void 0===e&&(e={}),"function"!==typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(a){return t}var n=function(){var n=Array.prototype.slice.call(arguments);try{r&&"function"===typeof r&&r.apply(this,arguments);var i=n.map((function(t){return ae(t,e)}));return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(o){throw oe(),Z((function(t){t.addEventProcessor((function(t){var r=j["a"]({},t);return e.mechanism&&(Object(I["b"])(r,void 0,void 0),Object(I["a"])(r,e.mechanism)),r.extra=j["a"]({},r.extra,{arguments:n}),r})),Q(o)})),o}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch(s){}t.prototype=t.prototype||{},n.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{var o=Object.getOwnPropertyDescriptor(n,"name");o.configurable&&Object.defineProperty(n,"name",{get:function(){return t.name}})}catch(s){}return n}function se(t){void 0===t&&(t={});var e=document.createElement("script");e.async=!0,e.src=new Yt(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}var ue,ce=Object(I["f"])(),le={},fe={};function he(t){if(!fe[t])switch(fe[t]=!0,t){case"console":ve();break;case"dom":_e();break;case"xhr":me();break;case"fetch":ye();break;case"history":we();break;case"error":ke();break;case"unhandledrejection":Te();break;default:A.warn("unknown instrumentation type:",t)}}function de(t){t&&"string"===typeof t.type&&"function"===typeof t.callback&&(le[t.type]=le[t.type]||[],le[t.type].push(t.callback),he(t.type))}function pe(t,e){var r,n;if(t&&le[t])try{for(var i=j["f"](le[t]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e)}catch(s){A.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(I["e"])(a)+"\nError: "+s)}}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function ve(){"console"in ce&&["debug","info","warn","error","log","assert"].forEach((function(t){t in ce.console&&Object(ht["b"])(ce.console,t,(function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];pe("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,ce.console,r)}}))}))}function ye(){Ot()&&Object(ht["b"])(ce,"fetch",(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:ge(e),url:be(e)},startTimestamp:Date.now()};return pe("fetch",j["a"]({},n)),t.apply(ce,e).then((function(t){return pe("fetch",j["a"]({},n,{endTimestamp:Date.now(),response:t})),t}),(function(t){throw pe("fetch",j["a"]({},n,{endTimestamp:Date.now(),error:t})),t}))}}))}function ge(t){return void 0===t&&(t=[]),"Request"in ce&&Object(P["g"])(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function be(t){return void 0===t&&(t=[]),"string"===typeof t[0]?t[0]:"Request"in ce&&Object(P["g"])(t[0],Request)?t[0].url:String(t[0])}function me(){if("XMLHttpRequest"in ce){var t=XMLHttpRequest.prototype;Object(ht["b"])(t,"open",(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this,i=e[1];n.__sentry_xhr__={method:Object(P["k"])(e[0])?e[0].toUpperCase():e[0],url:e[1]},Object(P["k"])(i)&&"POST"===n.__sentry_xhr__.method&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);var o=function(){if(4===n.readyState){try{n.__sentry_xhr__&&(n.__sentry_xhr__.status_code=n.status)}catch(t){}pe("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"===typeof n.onreadystatechange?Object(ht["b"])(n,"onreadystatechange",(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return o(),t.apply(n,e)}})):n.addEventListener("readystatechange",o),t.apply(n,e)}})),Object(ht["b"])(t,"send",(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return pe("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}}function we(){if(Rt()){var t=ce.onpopstate;ce.onpopstate=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=ce.location.href,i=ue;if(ue=n,pe("history",{from:i,to:n}),t)return t.apply(this,e)},Object(ht["b"])(ce.history,"pushState",e),Object(ht["b"])(ce.history,"replaceState",e)}function e(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.length>2?e[2]:void 0;if(n){var i=ue,o=String(n);ue=o,pe("history",{from:i,to:o})}return t.apply(this,e)}}}function _e(){"document"in ce&&(ce.document.addEventListener("click",Re("click",pe.bind(null,"dom")),!1),ce.document.addEventListener("keypress",je(pe.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(t){var e=ce[t]&&ce[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(ht["b"])(e,"addEventListener",(function(t){return function(e,r,n){return r&&r.handleEvent?("click"===e&&Object(ht["b"])(r,"handleEvent",(function(t){return function(e){return Re("click",pe.bind(null,"dom"))(e),t.call(this,e)}})),"keypress"===e&&Object(ht["b"])(r,"handleEvent",(function(t){return function(e){return je(pe.bind(null,"dom"))(e),t.call(this,e)}}))):("click"===e&&Re("click",pe.bind(null,"dom"),!0)(this),"keypress"===e&&je(pe.bind(null,"dom"))(this)),t.call(this,e,r,n)}})),Object(ht["b"])(e,"removeEventListener",(function(t){return function(e,r,n){try{t.call(this,e,r.__sentry_wrapped__,n)}catch(i){}return t.call(this,e,r,n)}})))})))}var xe,Ee,Oe=1e3,Se=0;function Re(t,e,r){return void 0===r&&(r=!1),function(n){xe=void 0,n&&Ee!==n&&(Ee=n,Se&&clearTimeout(Se),r?Se=setTimeout((function(){e({event:n,name:t})})):e({event:n,name:t}))}}function je(t){return function(e){var r;try{r=e.target}catch(i){return}var n=r&&r.tagName;n&&("INPUT"===n||"TEXTAREA"===n||r.isContentEditable)&&(xe||Re("input",t)(e),clearTimeout(xe),xe=setTimeout((function(){xe=void 0}),Oe))}}var Ie=null;function ke(){Ie=ce.onerror,ce.onerror=function(t,e,r,n,i){return pe("error",{column:n,error:i,line:r,msg:t,url:e}),!!Ie&&Ie.apply(this,arguments)}}var Ce=null;function Te(){Ce=ce.onunhandledrejection,ce.onunhandledrejection=function(t){return pe("unhandledrejection",t),!Ce||Ce.apply(this,arguments)}}var De=function(){function t(e){this.name=t.id,this._options=j["a"]({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&K().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Object(I["d"])(t)},{event:t})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:mt.fromString(t.level),message:Object(et["b"])(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(et["b"])(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}K().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(I["h"])(t.event.target):Object(I["h"])(t.event)}catch(r){e="<unknown>"}0!==e.length&&K().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;K().addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"},{xhr:t.xhr})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?K().addBreadcrumb({category:"fetch",data:t.fetchData,level:mt.Error,type:"http"},{data:t.error,input:t.args}):K().addBreadcrumb({category:"fetch",data:j["a"]({},t.fetchData,{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Object(I["f"])(),r=t.from,n=t.to,i=Object(I["k"])(e.location.href),o=Object(I["k"])(r),a=Object(I["k"])(n);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),K().addBreadcrumb({category:"navigation",data:{from:r,to:n}})},t.prototype.setupOnce=function(){var t=this;this._options.console&&de({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._consoleBreadcrumb.apply(t,j["e"](e))},type:"console"}),this._options.dom&&de({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._domBreadcrumb.apply(t,j["e"](e))},type:"dom"}),this._options.xhr&&de({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._xhrBreadcrumb.apply(t,j["e"](e))},type:"xhr"}),this._options.fetch&&de({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._fetchBreadcrumb.apply(t,j["e"](e))},type:"fetch"}),this._options.history&&de({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._historyBreadcrumb.apply(t,j["e"](e))},type:"history"})},t.id="Breadcrumbs",t}(),Ae="sentry.javascript.browser",Pe="5.20.0",Le=function(t){function e(e){return void 0===e&&(e={}),t.call(this,re,e)||this}return j["b"](e,t),e.prototype._prepareEvent=function(e,r,n){return e.platform=e.platform||"javascript",e.sdk=j["a"]({},e.sdk,{name:Ae,packages:j["e"](e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:Pe}]),version:Pe}),t.prototype._prepareEvent.call(this,e,r,n)},e.prototype._sendEvent=function(e){var r=this.getIntegration(De);r&&r.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=Object(I["f"])().document;if(e)if(this._isEnabled()){var r=t.dsn||this.getDsn();t.eventId?r?se(t):A.error("Missing `Dsn` option in showReportDialog call"):A.error("Missing `eventId` option in showReportDialog call")}else A.error("Trying to call showReportDialog with Sentry Client is disabled")},e}(bt),Ne=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ue=function(){function t(e){this.name=t.id,this._options=j["a"]({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0];return e[0]=ae(n,{mechanism:{data:{function:Object(I["e"])(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,ae(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(I["e"])(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(I["f"])(),r=e[t]&&e[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Object(ht["b"])(r,"addEventListener",(function(e){return function(r,n,i){try{"function"===typeof n.handleEvent&&(n.handleEvent=ae(n.handleEvent.bind(n),{mechanism:{data:{function:"handleEvent",handler:Object(I["e"])(n),target:t},handled:!0,type:"instrument"}}))}catch(o){}return e.call(this,r,ae(n,{mechanism:{data:{function:"addEventListener",handler:Object(I["e"])(n),target:t},handled:!0,type:"instrument"}}),i)}})),Object(ht["b"])(r,"removeEventListener",(function(t){return function(e,r,n){try{t.call(this,e,r.__sentry_wrapped__,n)}catch(i){}return t.call(this,e,r,n)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in n&&"function"===typeof n[t]&&Object(ht["b"])(n,t,(function(e){var r={mechanism:{data:{function:t,handler:Object(I["e"])(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(r.mechanism.data.handler=Object(I["e"])(e.__sentry_original__)),ae(e,r)}))})),t.apply(this,e)}},t.prototype.setupOnce=function(){var t=Object(I["f"])();if(this._options.setTimeout&&Object(ht["b"])(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(ht["b"])(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(ht["b"])(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Object(ht["b"])(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var e=Array.isArray(this._options.eventTarget)?this._options.eventTarget:Ne;e.forEach(this._wrapEventTarget.bind(this))}},t.id="TryCatch",t}(),Me=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=j["a"]({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(A.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(A.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(de({callback:function(r){var n=r.error,i=K(),o=i.getIntegration(t),a=n&&!0===n.__sentry_own_request__;if(o&&!ie()&&!a){var s=i.getClient(),u=Object(P["i"])(n)?e._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):e._enhanceEventWithInitialFrame(Kt(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);Object(I["a"])(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(de({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(c){}var i=K(),o=i.getIntegration(t),a=n&&!0===n.__sentry_own_request__;if(!o||ie()||a)return!0;var s=i.getClient(),u=Object(P["i"])(n)?e._eventFromIncompleteRejection(n):Kt(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=mt.Error,Object(I["a"])(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,r,n){var i,o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,a=Object(P["e"])(t)?t.message:t;if(Object(P["k"])(a)){var s=a.match(o);s&&(i=s[1],a=s[2])}var u={exception:{values:[{type:i||"Error",value:a}]}};return this._enhanceEventWithInitialFrame(u,e,r,n)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,r,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(n,10))?void 0:n,o=isNaN(parseInt(r,10))?void 0:r,a=Object(P["k"])(e)&&e.length>0?e:Object(I["g"])();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),Fe="cause",Be=5,Ve=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||Fe,this._limit=e.limit||Be}return t.prototype.setupOnce=function(){M((function(e,r){var n=K().getIntegration(t);return n?n._handler(e,r):e}))},t.prototype._handler=function(t,e){if(!t.exception||!t.exception.values||!e||!Object(P["g"])(e.originalException,Error))return t;var r=this._walkErrorTree(e.originalException,this._key);return t.exception.values=j["e"](r,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,r){if(void 0===r&&(r=[]),!Object(P["g"])(t[e],Error)||r.length+1>=this._limit)return r;var n=Pt(t[e]),i=Bt(n);return this._walkErrorTree(t[e],e,j["e"]([i],r))},t.id="LinkedErrors",t}(),Ge=Object(I["f"])(),$e=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){M((function(e){if(K().getIntegration(t)){if(!Ge.navigator||!Ge.location)return e;var r=e.request||{};return r.url=r.url||Ge.location.href,r.headers=r.headers||{},r.headers["User-Agent"]=Ge.navigator.userAgent,j["a"]({},e,{request:r})}return e}))},t.id="UserAgent",t}(),qe=[new n.InboundFilters,new n.FunctionToString,new Ue,new De,new Me,new Ve,new $e];function Je(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=qe),void 0===t.release){var e=Object(I["f"])();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}it(Le,t)}var Ke=r("bab3"),ze="media-kraken-error-reporting",He=function(){function t(){Object(s["a"])(this,t),this.sentryInitialized=!1,this.reportingEnabled=!1,this.listeners=[]}return Object(u["a"])(t,[{key:"init",value:function(){this.userWantsReportingEnabled()&&(this.initializeSentry(),this.reportingEnabled=!0)}},{key:"setReportingEnabled",value:function(t){this.reportingEnabled!==t&&(this.reportingEnabled=t,_.set(ze,t),t&&!this.sentryInitialized&&this.initializeSentry(),this.listeners.forEach((function(e){e.onReportingEnabled&&t&&e.onReportingEnabled(),e.onReportingDisabled&&!t&&e.onReportingDisabled()})))}},{key:"handle",value:function(t){this.reportingEnabled&&this.sentryInitialized?this.report(t):console.error(t)}},{key:"report",value:function(t){try{t.sentryId=Q(t),console.error("Error reported to Sentry",t)}catch(e){console.error("Failed reporting an error to Sentry",t,e)}}},{key:"registerListener",value:function(t){this.listeners.push(t)}},{key:"serialize",value:function(t){var e={name:t.name,message:t.message,stack:t.stack};if(t instanceof Ke["a"]){var r={forbidden:t.forbidden,url:t.url};e.errorClass="unauthorized",e.errorData=r}else if(t instanceof f["MalformedDocumentError"]){var n={documentUrl:t.documentUrl,documentFormat:t.documentFormat,malformationDetails:t.malformationDetails};e.errorClass="malformed-document",e.errorData=n}return e}},{key:"parse",value:function(t){var e=function(){switch(t.errorClass){case"unauthorized":var e=t.errorData;return new Ke["a"](e.forbidden,e.url);case"malformed-document":var r=t.errorData;return new f["MalformedDocumentError"](r.documentUrl,r.documentFormat,r.malformationDetails);default:return new Error(t.message)}},r=e();return r.name=t.name,r.stack=t.stack,r}},{key:"userWantsReportingEnabled",value:function(){if(_.get(ze,!1))return!0;var t=new URL(location.href);return m["a"].contains(t.searchParams.get("error_reporting"),["1","true","on","yes"])}},{key:"initializeSentry",value:function(){if(!this.sentryInitialized&&this.isReportingAvailable)try{Je({dsn:"https://130a9bb837a24e77bfcc0743fbd382de@o424851.ingest.sentry.io/5357200"}),this.sentryInitialized=!0}catch(t){console.error("Failed initializing Sentry",t)}}},{key:"isReportingEnabled",get:function(){return this.reportingEnabled}},{key:"isReportingAvailable",get:function(){return!0}}]),t}(),We=new He,Ye=function(){function t(){Object(s["a"])(this,t)}return Object(u["a"])(t,[{key:"serializeResponse",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e.status,t.t1=e.statusText,t.t2=Object(i["a"])(e.headers.entries()),t.next=5,e.blob();case 5:return t.t3=t.sent,t.abrupt("return",{status:t.t0,statusText:t.t1,headers:t.t2,body:t.t3});case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"deserializeResponse",value:function(t){var e=0===t.body.size?null:t.body;return new Response(e,{status:t.status,statusText:t.statusText,headers:t.headers})}}]),t}(),Xe=new Ye,Qe=r("34b3"),Ze=function(){function t(){Object(s["a"])(this,t),this.operations={}}return Object(u["a"])(t,[{key:"listen",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,o,a,s,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.data,o=n.operationId,a=n.name,s=n.payload,t.t0=a,t.next="run"===t.t0?4:"operation-completed"===t.t0?6:"operation-failed"===t.t0?8:10;break;case 4:return r.run.apply(r,Object(i["a"])(s)),t.abrupt("break",10);case 6:return o&&o in r.operations&&(null===(u=r.operations[o])||void 0===u||u.resolve(s),delete r.operations[o]),t.abrupt("break",10);case 8:return o&&o in r.operations&&(null===(c=r.operations[o])||void 0===c||c.reject(s),delete r.operations[o]),t.abrupt("break",10);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),addEventListener("message",e);case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"runOperation",value:function(t){for(var e=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new Promise((function(r,i){var o=Qe["a"].generate();e.operations[o]={resolve:r,reject:i},e.postMessage({operationId:o,name:t,payload:n})}))}},{key:"solidFetch",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=o.length,r=new Array(e),n=0;n<e;n++)r[n]=o[n];return t.next=3,this.runOperation.apply(this,["solid-fetch"].concat(r));case 3:return i=t.sent,t.abrupt("return",Xe.deserializeResponse(i));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"run",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.work.apply(this,r);case 3:e=t.sent,this.postMessage({name:"work-completed",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.postMessage({name:"work-failed",payload:We.serialize(t.t0)});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"postMessage",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){postMessage(t)}))}]),t}(),tr=10,er=function(t){Object(l["a"])(r,t);var e=Object(c["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.processedDocumentsUrls=[],t.documentsMetadata={},t}return Object(u["a"])(r,[{key:"work",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},this.config=Object(o["a"])({ignoredDocumentUrls:[]},r),t.prev=2,t.next=5,this.initStorage(e);case 5:return t.next=7,this.loadContainers();case 7:return t.next=9,this.loadMovies();case 9:return this.updateProgressMessage("Almost done..."),t.abrupt("return",{movies:this.serializeMoviesContainer()});case 11:return t.prev=11,t.next=14,p.a.closeConnections();case 14:return t.finish(11);case 15:case"end":return t.stop()}}),t,this,[[2,,11,15]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"initStorage",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.updateProgressMessage("Loading user data..."),t.next=3,this.resolveUser(e);case 3:return this.user=t.sent,t.next=6,this.user.initSoukaiEngine();case 6:p.a.engine instanceof f["SolidEngine"]&&p.a.engine.addListener({onRDFDocumentLoaded:function(t,e){return r.documentsMetadata[t]=e}});case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"resolveUser",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.parse(e);case 2:return r=t.sent,r instanceof g["a"]&&b["a"].setFetch(this.solidFetch.bind(this)),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loadContainers",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.updateProgressMessage("Loading movies metadata..."),t.next=3,this.user.resolveMediaContainers();case 3:return e=t.sent,r=e.movies,this.moviesContainer=r,t.next=8,this.migrateContainerSchema("Movies",this.moviesContainer);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadMovies",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.moviesContainer.isRelationLoaded("movies")){t.next=2;break}return t.abrupt("return");case 2:if(this.moviesContainer.isRelationLoaded("documents")){t.next=5;break}return t.next=5,this.moviesContainer.loadRelation("documents");case 5:return this.moviesContainer.setRelationModels("movies",[]),t.next=8,this.loadMoviesFromCache();case 8:return t.next=10,this.loadMoviesFromDatabase();case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadMoviesFromCache",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.moviesContainer.documents.map(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!m["a"].contains(e.url,r.config.ignoredDocumentUrls)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,v["a"].getFromDocument(e);case 4:if(o=t.sent,null!==o){t.next=7;break}return t.abrupt("return");case 7:(n=r.moviesContainer.movies).push.apply(n,Object(i["a"])(o.filter((function(t){return t.modelClass===y["default"]})))),r.processedDocumentsUrls.push(e.url);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=3,Promise.all(e);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadMoviesFromDatabase",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.moviesContainer.documents.filter((function(t){return!m["a"].contains(t.url,r.config.ignoredDocumentUrls)&&!m["a"].contains(t.url,r.processedDocumentsUrls)})),0!==e.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.loadMoviesFromDatabaseByChunks(e);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadMoviesFromDatabaseByChunks",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.length,n=m["a"].chunk(e,tr),i=0;case 3:if(!(i<n.length)){t.next=11;break}return o=n[i],this.updateProgressMessage("Loading movies data (".concat(i*tr,"/").concat(r,")...")),t.next=8,this.loadMoviesFromDocuments(o);case 8:i++,t.next=3;break;case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loadMoviesFromDocuments",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y["default"].from(this.moviesContainer.url).all({$in:e.map((function(t){return t.url}))});case 2:return n=t.sent,t.next=5,Promise.all(n.map((function(t){return t.loadRelationIfUnloaded("actions")})));case 5:return t.next=7,this.migrateMoviesSchemas(n);case 7:return t.next=9,Promise.all(e.map((function(t){return v["a"].rememberDocument(t.url,t.updatedAt)})));case 9:return t.next=11,Promise.all(n.map((function(t){return v["a"].remember(t,{actions:t.actions})})));case 11:(r=this.moviesContainer.movies).push.apply(r,Object(i["a"])(n));case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"migrateContainerSchema",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,r){var n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(p.a.engine instanceof f["SolidEngine"]){t.next=2;break}return t.abrupt("return");case 2:if(!1!==this.config.migrateSchema){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,r.hasLegacySchema();case 6:if(i=t.sent,i){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,this.shouldMigrateSchema();case 11:if(o=t.sent,o){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,r.migrateSchema(e,null===(n=this.documentsMetadata[r.url])||void 0===n?void 0:n.describedBy);case 16:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"migrateMoviesSchemas",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(p.a.engine instanceof f["SolidEngine"]){t.next=2;break}return t.abrupt("return");case 2:if(r=this.filterLegacyMovies(e),0!==r.length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this.shouldMigrateSchema();case 7:if(n=t.sent,n){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,Promise.all(r.map((function(t){return t.migrateSchema()})));case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"serializeMoviesContainer",value:function(){return{attributes:this.moviesContainer.getAttributes(),movies:this.moviesContainer.movies.map((function(t){return{attributes:t.getAttributes(),actionsAttributes:t.actions.map((function(t){return t.getAttributes()}))}}))}}},{key:"filterLegacyMovies",value:function(t){return t.filter((function(t){return t.hasLegacySchema()}))}},{key:"updateProgressMessage",value:function(t){this.runOperation("update-progress-message",t)}},{key:"shouldMigrateSchema",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===(e=this.config.migrateSchema)||void 0===e){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,this.runOperation("confirm-schema-migration");case 6:t.t0=t.sent;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),r}(Ze);(new er).listen()},d784:function(t,e,r){"use strict";r("ac1f");var n=r("6eeb"),i=r("d039"),o=r("b622"),a=r("9263"),s=r("9112"),u=o("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,f){var p=o(t),v=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),y=v&&!i((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!v||!y||"replace"===t&&(!c||!l||h)||"split"===t&&!d){var g=/./[p],b=r(p,""[t],(function(t,e,r,n,i){return e.exec===a?v&&!i?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),m=b[0],w=b[1];n(String.prototype,t,m),n(RegExp.prototype,p,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},d81d:function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").map,o=r("1dde"),a=r("ae40"),s=o("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},da84:function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r("c8ba"))},dae0:function(t,e,r){"use strict";r.r(e),r.d(e,"DataFactory",(function(){return i["a"]})),r.d(e,"Lexer",(function(){return o["a"]})),r.d(e,"Parser",(function(){return a["a"]})),r.d(e,"Writer",(function(){return v})),r.d(e,"Store",(function(){return w})),r.d(e,"StreamParser",(function(){return x})),r.d(e,"StreamWriter",(function(){return E})),r.d(e,"Util",(function(){return n}));var n={};r.r(n),r.d(n,"isNamedNode",(function(){return O})),r.d(n,"isBlankNode",(function(){return S})),r.d(n,"isLiteral",(function(){return R})),r.d(n,"isVariable",(function(){return j})),r.d(n,"isDefaultGraph",(function(){return I})),r.d(n,"inDefaultGraph",(function(){return k})),r.d(n,"prefix",(function(){return C})),r.d(n,"prefixes",(function(){return T}));var i=r("9793"),o=r("f3bd"),a=r("4e8b"),s=r("ff5e");const u=i["a"].defaultGraph(),{rdf:c,xsd:l}=s["a"];var f=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,h=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,d={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class p extends i["a"].internal.Term{equals(){return!1}}class v{constructor(t,e){if(this._prefixRegex=/$0^/,t&&"function"!==typeof t.write&&(e=t,t=null),e=e||{},this._lists=e.lists,t)this._outputStream=t,this._endStream=void 0===e.end||!!e.end;else{var r="";this._outputStream={write(t,e,n){r+=t,n&&n()},end:function(t){t&&t(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(e.format)?this._writeQuad=this._writeQuadLine:(this._graph=u,this._prefixIRIs=Object.create(null),e.prefixes&&this.addPrefixes(e.prefixes))}get _inDefaultGraph(){return u.equals(this._graph)}_write(t,e){this._outputStream.write(t,"utf8",e)}_writeQuad(t,e,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(u.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),t.equals(this._subject)?e.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=e)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=t)+" "+this._encodePredicate(this._predicate=e)+" "+this._encodeObject(r),i)}catch(o){i&&i(o)}}_writeQuadLine(t,e,r,n,i){delete this._prefixMatch,this._write(this.quadToString(t,e,r,n),i)}quadToString(t,e,r,n){return this._encodeIriOrBlank(t)+" "+this._encodeIriOrBlank(e)+" "+this._encodeObject(r)+(n&&n.value?" "+this._encodeIriOrBlank(n)+" .\n":" .\n")}quadsToString(t){return t.map((function(t){return this.quadToString(t.subject,t.predicate,t.object,t.graph)}),this).join("")}_encodeIriOrBlank(t){if("NamedNode"!==t.termType)return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:"_:"+t.value;var e=t.value;f.test(e)&&(e=e.replace(h,y));var r=this._prefixRegex.exec(e);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:e:"<"+e+">"}_encodeLiteral(t){var e=t.value;return f.test(e)&&(e=e.replace(h,y)),t.language?'"'+e+'"@'+t.language:t.datatype.value!==l.string?'"'+e+'"^^'+this._encodeIriOrBlank(t.datatype):'"'+e+'"'}_encodePredicate(t){return t.value===c.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){return"Literal"===t.termType?this._encodeLiteral(t):this._encodeIriOrBlank(t)}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,e,r,n,i){void 0===r?this._writeQuad(t.subject,t.predicate,t.object,t.graph,e):"function"===typeof n?this._writeQuad(t,e,r,u,n):this._writeQuad(t,e,r,n||u,i)}addQuads(t){for(var e=0;e<t.length;e++)this.addQuad(t[e])}addPrefix(t,e,r){var n={};n[t]=e,this.addPrefixes(n,r)}addPrefixes(t,e){var r=this._prefixIRIs,n=!1;for(var i in t){var o=t[i];"string"!==typeof o&&(o=o.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),r[o]=i+=":",this._write("@prefix "+i+" <"+o+">.\n")}if(n){var a="",s="";for(var u in r)a+=a?"|"+u:u,s+=(s?"|":"")+r[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",e)}blank(t,e){var r,n,i=t;switch(void 0===t?i=[]:t.termType?i=[{predicate:t,object:e}]:"length"in t||(i=[t]),n=i.length){case 0:return new p("[]");case 1:if(r=i[0],!(r.object instanceof p))return new p("[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]");default:for(var o="[",a=0;a<n;a++)r=i[a],r.predicate.equals(t)?o+=", "+this._encodeObject(r.object):(o+=(a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),t=r.predicate);return new p(o+"\n]")}}list(t){for(var e=t&&t.length||0,r=new Array(e),n=0;n<e;n++)r[n]=this._encodeObject(t[n]);return new p("("+r.join(" ")+")")}end(t){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var e=t&&function(r,n){e=null,t(r,n)};if(this._endStream)try{return this._outputStream.end(e)}catch(r){}e&&e()}}function y(t){var e=d[t];return void 0===e&&(1===t.length?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}var g=r("d485");const{toId:b,fromId:m}=i["a"].internal;class w{constructor(t,e){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,e||!t||t[0]||(e=t,t=null),e=e||{},this._factory=e.factory||i["a"],t&&this.addQuads(t)}get size(){var t=this._size;if(null!==t)return t;t=0;var e,r,n=this._graphs;for(var i in n)for(var o in e=n[i].subjects)for(var a in r=e[o])t+=Object.keys(r[a]).length;return this._size=t}_addToIndex(t,e,r,n){var i=t[e]||(t[e]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}_removeFromIndex(t,e,r,n){var i,o=t[e],a=o[r];for(i in delete a[n],a)return;for(i in delete o[r],o)return;delete t[e]}_findInIndex(t,e,r,n,i,o,a,s,u,c){var l,f,h,d=!e+!r+!n,p=d>1?Object.keys(this._ids):this._entities;for(var v in e&&((l=t,t={})[e]=l[e]),t){var y=p[v];if(f=t[v])for(var g in r&&((l=f,f={})[r]=l[r]),f){var b=p[g];if(h=f[g])for(var w=(n?n in h?[n]:[]:Object.keys(h)),_=0;_<w.length;_++){var x={subject:null,predicate:null,object:null};x[i]=m(y,this._factory),x[o]=m(b,this._factory),x[a]=m(p[w[_]],this._factory);var E=this._factory.quad(x.subject,x.predicate,x.object,m(s,this._factory));if(c)c.push(E);else if(u(E))return!0}}}return c}_loop(t,e){for(var r in t)e(r)}_loopByKey0(t,e,r){var n,i;if(n=t[e])for(i in n)r(i)}_loopByKey1(t,e,r){var n,i;for(n in t)i=t[n],i[e]&&r(n)}_loopBy2Keys(t,e,r,n){var i,o,a;if((i=t[e])&&(o=i[r]))for(a in o)n(a)}_countInIndex(t,e,r,n){var i,o,a,s=0;for(var u in e&&((i=t,t={})[e]=i[e]),t)if(o=t[u])for(var c in r&&((i=o,o={})[r]=i[r]),o)(a=o[c])&&(n?n in a&&s++:s+=Object.keys(a).length);return s}_getGraphs(t){if(!_(t))return this._graphs;var e={};return e[t]=this._graphs[t],e}_uniqueEntities(t){var e=Object.create(null),r=this._entities;return function(n){n in e||(e[n]=!0,t(m(r[n])))}}addQuad(t,e,r,n){e||(n=t.graph,r=t.object,e=t.predicate,t=t.subject),t=b(t),e=b(e),r=b(r),n=b(n);var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._ids,a=this._entities;t=o[t]||(o[a[++this._id]=t]=this._id),e=o[e]||(o[a[++this._id]=e]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id);var s=this._addToIndex(i.subjects,t,e,r);return this._addToIndex(i.predicates,e,r,t),this._addToIndex(i.objects,r,t,e),this._size=null,s}addQuads(t){for(var e=0;e<t.length;e++)this.addQuad(t[e])}import(t){var e=this;return t.on("data",(function(t){e.addQuad(t)})),t}removeQuad(t,e,r,n){e||(n=t.graph,r=t.object,e=t.predicate,t=t.subject),t=b(t),e=b(e),r=b(r),n=b(n);var i,o,a,s=this._ids,u=this._graphs;if(!(t=s[t])||!(e=s[e])||!(r=s[r])||!(i=u[n])||!(o=i.subjects[t])||!(a=o[e])||!(r in a))return!1;for(t in this._removeFromIndex(i.subjects,t,e,r),this._removeFromIndex(i.predicates,e,r,t),this._removeFromIndex(i.objects,r,t,e),null!==this._size&&this._size--,i.subjects)return!0;return delete u[n],!0}removeQuads(t){for(var e=0;e<t.length;e++)this.removeQuad(t[e])}remove(t){var e=this;return t.on("data",(function(t){e.removeQuad(t)})),t}removeMatches(t,e,r,n){return this.remove(this.match(t,e,r,n))}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,e,r,n){t=t&&b(t),e=e&&b(e),r=r&&b(r),n=n&&b(n);var i,o,a,s,u=[],c=this._getGraphs(n),l=this._ids;if(_(t)&&!(o=l[t])||_(e)&&!(a=l[e])||_(r)&&!(s=l[r]))return u;for(var f in c)(i=c[f])&&(o?s?this._findInIndex(i.objects,s,o,a,"object","subject","predicate",f,null,u):this._findInIndex(i.subjects,o,a,null,"subject","predicate","object",f,null,u):a?this._findInIndex(i.predicates,a,s,null,"predicate","object","subject",f,null,u):s?this._findInIndex(i.objects,s,null,null,"object","subject","predicate",f,null,u):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",f,null,u));return u}match(t,e,r,n){var i=new g["Readable"]({objectMode:!0});return i._read=()=>{for(var o of this.getQuads(t,e,r,n))i.push(o);i.push(null)},i}countQuads(t,e,r,n){t=t&&b(t),e=e&&b(e),r=r&&b(r),n=n&&b(n);var i,o,a,s,u=0,c=this._getGraphs(n),l=this._ids;if(_(t)&&!(o=l[t])||_(e)&&!(a=l[e])||_(r)&&!(s=l[r]))return 0;for(var f in c)(i=c[f])&&(u+=t?r?this._countInIndex(i.objects,s,o,a):this._countInIndex(i.subjects,o,a,s):e?this._countInIndex(i.predicates,a,s,o):this._countInIndex(i.objects,s,o,a));return u}forEach(t,e,r,n,i){this.some((function(e){return t(e),!1}),e,r,n,i)}every(t,e,r,n,i){var o=!1,a=!this.some((function(e){return o=!0,!t(e)}),e,r,n,i);return o&&a}some(t,e,r,n,i){e=e&&b(e),r=r&&b(r),n=n&&b(n),i=i&&b(i);var o,a,s,u,c=this._getGraphs(i),l=this._ids;if(_(e)&&!(a=l[e])||_(r)&&!(s=l[r])||_(n)&&!(u=l[n]))return!1;for(var f in c)if(o=c[f])if(a){if(u){if(this._findInIndex(o.objects,u,a,s,"object","subject","predicate",f,t,null))return!0}else if(this._findInIndex(o.subjects,a,s,null,"subject","predicate","object",f,t,null))return!0}else if(s){if(this._findInIndex(o.predicates,s,u,null,"predicate","object","subject",f,t,null))return!0}else if(u){if(this._findInIndex(o.objects,u,null,null,"object","subject","predicate",f,t,null))return!0}else if(this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",f,t,null))return!0;return!1}getSubjects(t,e,r){var n=[];return this.forSubjects((function(t){n.push(t)}),t,e,r),n}forSubjects(t,e,r,n){e=e&&b(e),r=r&&b(r),n=n&&b(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(t=this._uniqueEntities(t),!(_(e)&&!(o=s[e])||_(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.predicates,o,a,t):this._loopByKey1(i.subjects,o,t):a?this._loopByKey0(i.objects,a,t):this._loop(i.subjects,t))}getPredicates(t,e,r){var n=[];return this.forPredicates((function(t){n.push(t)}),t,e,r),n}forPredicates(t,e,r,n){e=e&&b(e),r=r&&b(r),n=n&&b(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(t=this._uniqueEntities(t),!(_(e)&&!(o=s[e])||_(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.objects,a,o,t):this._loopByKey0(i.subjects,o,t):a?this._loopByKey1(i.predicates,a,t):this._loop(i.predicates,t))}getObjects(t,e,r){var n=[];return this.forObjects((function(t){n.push(t)}),t,e,r),n}forObjects(t,e,r,n){e=e&&b(e),r=r&&b(r),n=n&&b(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(t=this._uniqueEntities(t),!(_(e)&&!(o=s[e])||_(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.subjects,o,a,t):this._loopByKey1(i.objects,o,t):a?this._loopByKey0(i.predicates,a,t):this._loop(i.objects,t))}getGraphs(t,e,r){var n=[];return this.forGraphs((function(t){n.push(t)}),t,e,r),n}forGraphs(t,e,r,n){for(var i in this._graphs)this.some((function(e){return t(e.graph),!0}),e,r,n,i)}createBlankNode(t){var e,r;if(t){e=t="_:"+t,r=1;while(this._ids[e])e=t+r++}else do{e="_:b"+this._blankNodeIndex++}while(this._ids[e]);return this._ids[e]=++this._id,this._entities[this._id]=e,this._factory.blankNode(e.substr(2))}extractLists({remove:t=!1,ignoreErrors:e=!1}={}){var r={},n=e?()=>!0:(t,e)=>{throw new Error(`${t.value} ${e}`)},i=this.getQuads(null,s["a"].rdf.rest,s["a"].rdf.nil,null),o=t?[...i]:[];return i.forEach(e=>{var i,a,u=[],c=!1,l=e.graph,f=e.subject;while(f&&!c){var h,d,p=this.getQuads(null,null,f,null),v=this.getQuads(f,null,null,null),y=null,g=null,b=null;for(h=0;h<v.length&&!c;h++)d=v[h],d.graph.equals(l)?i?c=n(f,"has non-list arcs out"):d.predicate.value===s["a"].rdf.first?y?c=n(f,"has multiple rdf:first arcs"):o.push(y=d):d.predicate.value===s["a"].rdf.rest?g?c=n(f,"has multiple rdf:rest arcs"):o.push(g=d):p.length?c=n(f,"can't be subject and object"):(i=d,a="subject"):c=n(f,"not confined to single graph");for(h=0;h<p.length&&!c;++h)d=p[h],i?c=n(f,"can't have coreferences"):d.predicate.value===s["a"].rdf.rest?b?c=n(f,"has incoming rdf:rest arcs"):b=d:(i=d,a="object");y?u.unshift(y.object):c=n(f,"has no list head"),f=b&&b.subject}c?t=!1:i&&(r[i[a].value]=u)}),t&&this.removeQuads(o),r}}function _(t){return"string"===typeof t||t instanceof String}class x extends g["Transform"]{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;var e,r,n=this,i=new a["a"](t);i.parse({on:function(t,n){switch(t){case"data":e=n;break;case"end":r=n;break}}},(function(t,e){t&&n.emit("error",t)||e&&n.push(e)}),(function(t,e){n.emit("prefix",t,e)})),this._transform=function(t,r,n){e(t),n()},this._flush=function(t){r(),t()}}import(t){var e=this;return t.on("data",(function(t){e.write(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.emit("error",t)})),this}}class E extends g["Transform"]{constructor(t){super({encoding:"utf8"}),this._writableState.objectMode=!0;var e=this,r=this._writer=new v({write:function(t,r,n){e.push(t),n&&n()},end:function(t){e.push(null),t&&t()}},t);this._transform=function(t,e,n){r.addQuad(t,n)},this._flush=function(t){r.end(t)}}import(t){var e=this;return t.on("data",(function(t){e.write(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.emit("error",t)})),t.on("prefix",(function(t,r){e._writer.addPrefix(t,r)})),this}}function O(t){return!!t&&"NamedNode"===t.termType}function S(t){return!!t&&"BlankNode"===t.termType}function R(t){return!!t&&"Literal"===t.termType}function j(t){return!!t&&"Variable"===t.termType}function I(t){return!!t&&"DefaultGraph"===t.termType}function k(t){return I(t.graph)}function C(t,e){return T({"":t},e)("")}function T(t,e){var r=Object.create(null);for(var n in t)o(n,t[n]);function o(t,n){if("string"===typeof n){var i=Object.create(null);r[t]=function(t){return i[t]||(i[t]=e.namedNode(n+t))}}else if(!(t in r))throw new Error("Unknown prefix: "+t);return r[t]}return e=e||i["a"],o}},dbb4:function(t,e,r){var n=r("23e7"),i=r("83ab"),o=r("56ef"),a=r("fc6a"),s=r("06cf"),u=r("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,r,n=a(t),i=s.f,c=o(n),l={},f=0;while(c.length>f)r=i(n,e=c[f++]),void 0!==r&&u(l,e,r);return l}})},dc14:function(t,e,r){"use strict";(function(e,n){var i=r("966d");function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){N(e,t)}}t.exports=m;var a,s=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:i.nextTick;m.WritableState=b;var u=Object.create(r("3a7c"));u.inherits=r("3fb5");var c={deprecate:r("b7d1")},l=r("429b"),f=r("8707").Buffer,h=n.Uint8Array||function(){};function d(t){return f.from(t)}function p(t){return f.isBuffer(t)||t instanceof h}var v,y=r("4681");function g(){}function b(t,e){a=a||r("b19a"),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,s=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){j(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(t){if(a=a||r("b19a"),!v.call(m,this)&&!(this instanceof a))return new m(t);this._writableState=new b(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),l.call(this)}function w(t,e){var r=new Error("write after end");t.emit("error",r),i.nextTick(e,r)}function _(t,e,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"===typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(n,a),o=!1),o}function x(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=f.from(e,r)),e}function E(t,e,r,n,i,o){if(!r){var a=x(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else O(t,e,!1,s,n,i,o);return u}function O(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function S(t,e,r,n,o){--e.pendingcb,r?(i.nextTick(o,n),i.nextTick(P,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(o(n),t._writableState.errorEmitted=!0,t.emit("error",n),P(t,e))}function R(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function j(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(R(r),e)S(t,r,n,e,i);else{var o=T(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||C(t,r),n?s(I,t,r,o,i):I(t,r,o,i)}}function I(t,e,r,n){r||k(t,e),e.pendingcb--,n(),P(t,e)}function k(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function C(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;var s=0,u=!0;while(r)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,O(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{while(r){var c=r.chunk,l=r.encoding,f=r.callback,h=e.objectMode?1:c.length;if(O(t,e,!1,h,c,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function D(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),P(t,e)}))}function A(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(D,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function P(t,e){var r=T(e);return r&&(A(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}function L(t,e,r){e.ending=!0,P(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function N(t,e,r){var n=t.entry;t.entry=null;while(n){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}u.inherits(m,l),b.prototype.getBuffer=function(){var t=this.bufferedRequest,e=[];while(t)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!v.call(this,t)||this===m&&(t&&t._writableState instanceof b)}})):v=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&p(t);return o&&!f.isBuffer(t)&&(t=d(t)),"function"===typeof e&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),"function"!==typeof r&&(r=g),n.ended?w(this,r):(o||_(this,n,t,r))&&(n.pendingcb++,i=E(this,n,o,t,e,r)),i},m.prototype.cork=function(){var t=this._writableState;t.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||C(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,r){var n=this._writableState;"function"===typeof t?(r=t,t=null,e=null):"function"===typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||L(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=y.destroy,m.prototype._undestroy=y.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r("4362"),r("c8ba"))},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},ddb0:function(t,e,r){var n=r("da84"),i=r("fdbc"),o=r("e260"),a=r("9112"),s=r("b622"),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var f in i){var h=n[f],d=h&&h.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(v){d[u]=l}if(d[c]||a(d,c,f),i[f])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(v){d[p]=o[p]}}}},ddbf:function(t,e,r){!function(e,r){t.exports=r()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t){function e(e){var r=this.constructor,n=t.call(this,e)||this;return n.name=r.name,Object.setPrototypeOf(n,r.prototype),n}return i(e,t),e}(Error),a=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},s=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=new(function(){function t(){this._bootedModels={}}return t.prototype.useEngine=function(t){this._engine=t},t.prototype.model=function(t){return this._bootedModels[t]},t.prototype.loadModel=function(t,e){t in e||(e.boot(t),this._bootedModels[t]=e)},t.prototype.loadModels=function(t){for(var e in t)t.hasOwnProperty(e)&&this.loadModel(e,t[e])},t.prototype.requireEngine=function(){if(!this._engine)throw new o("Engine must be initialized before performing any operations. Learn more at https://soukai.js.org/guide/engines.html");return this._engine},t.prototype.closeConnections=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this._engine&&"closeConnections"in this._engine?[4,this._engine.closeConnections()]:[2];case 1:return t.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}()),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(t){function e(e,r){var n=t.call(this,"Model "+e+": "+r+". Learn more at https://soukai.js.org/guide/defining-models.html")||this;return n.modelName=e,n}return c(e,t),e}(o),f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function h(t){for(var e in t=f({},t))t.hasOwnProperty(e)&&null!==t[e]&&"object"==typeof t[e]&&t[e].constructor===Object&&(t[e]=h(t[e]));return t}function d(t,e){if(t===e)return!0;var r=typeof t;if(r!==typeof e)return!1;if("object"!==r||null===t||null===e)return!1;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!d(t[n],e[n]))return!1;return!0}function p(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}var v={deepClone:h,deepEquals:d,isObject:p},y=new(function(){function t(){}return t.prototype.contains=function(t,e){return-1!==t.indexOf(e)},t.prototype.flatten=function(t){return"flat"in t?t.flat():[].concat.apply([],t)},t.prototype.unique=function(t){var e=new Set(t),r=[];return e.forEach((function(t){return r.push(t)})),r},t.prototype.withoutIndexes=function(t,e){var r=this;return t.map((function(t,e){return[t,e]})).filter((function(t){t[0];var n=t[1];return!r.contains(e,n)})).map((function(t){return t[0]}))},t}());function g(t){return t.split(/_|\s/).map((function(t){return t.length>0?t.substr(0,1).toUpperCase()+t.substr(1):t})).join("")}function b(t){return t.split(/_|\s|(?=[A-Z])/).map((function(t,e){return 0===t.length?t:0===e?t.toLowerCase():t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()})).join("")}var m,w=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},_=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},x=function(){function t(t,e,r,n){this.related=null,this.deleteStrategy=null,this.parent=t,this.relatedClass=e,this.foreignKeyName=r,this.localKeyName=n||e.primaryKey}return Object.defineProperty(t.prototype,"loaded",{get:function(){return null!==this.related},enumerable:!0,configurable:!0}),t.prototype.getModels=function(){return w(this,void 0,void 0,(function(){return _(this,(function(t){switch(t.label){case 0:return this.loaded?[3,2]:[4,this.resolve()];case 1:t.sent(),t.label=2;case 2:return[2,this.getLoadedModels()]}}))}))},t.prototype.getLoadedModels=function(){return Array.isArray(this.related)?this.related:this.related?[this.related]:[]},t.prototype.unload=function(){this.related=null},t.prototype.onDelete=function(t){return this.deleteStrategy=t,this},t}(),E=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),O=function(t){function e(e,r,n,i){return t.call(this,e,r,n||b(r.name+"_"+r.primaryKey+"s"),i)||this}return E(e,t),e}(x),S=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},j=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.resolve=function(){return R(this,void 0,void 0,(function(){var t,e,r,n;return j(this,(function(i){switch(i.label){case 0:return t=this.parent.getAttribute(this.foreignKeyName),e=this,this.localKeyName!==this.relatedClass.primaryKey?[3,2]:[4,this.relatedClass.all({$in:t})];case 1:return r=i.sent(),[3,4];case 2:return[4,this.relatedClass.all((n={},n[this.localKeyName]={$or:t.map((function(t){return{$eq:t}})).concat(t.map((function(t){return{$contains:t}})))},n))];case 3:r=i.sent(),i.label=4;case 4:return e.related=r,[2,this.related]}}))}))},e}(O),k=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(t){function e(e,r,n,i){return t.call(this,e,r,n||b(r.name+"_"+r.primaryKey),i)||this}return k(e,t),e}(x),T=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},A=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.resolve=function(){return D(this,void 0,void 0,(function(){var t,e,r,n;return A(this,(function(i){switch(i.label){case 0:return t=this.parent.getAttribute(this.foreignKeyName),e=this,this.localKeyName!==this.relatedClass.primaryKey?[3,2]:[4,this.relatedClass.find(t)];case 1:return r=i.sent(),[3,4];case 2:return[4,this.relatedClass.first((n={},n[this.localKeyName]=t,n))];case 3:r=i.sent(),i.label=4;case 4:return e.related=r,[2,this.related]}}))}))},e}(C),L=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),N=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},U=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.resolve=function(){return N(this,void 0,void 0,(function(){var t,e,r;return U(this,(function(n){switch(n.label){case 0:return t=this.parent.getAttribute(this.localKeyName),e=this,[4,this.relatedClass.all((r={},r[this.foreignKeyName]={$or:[{$eq:t},{$contains:t}]},r))];case 1:return e.related=n.sent(),[2,this.related]}}))}))},e}(O),F=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},V=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.resolve=function(){return B(this,void 0,void 0,(function(){var t,e,r;return V(this,(function(n){switch(n.label){case 0:return t=this.parent.getAttribute(this.localKeyName),e=this,[4,this.relatedClass.first((r={},r[this.foreignKeyName]={$or:[{$eq:t},{$contains:t}]},r))];case 1:return e.related=n.sent(),[2,this.related]}}))}))},e}(C),$=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},q=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},J=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};!function(t){t.Number="number",t.String="string",t.Boolean="boolean",t.Array="array",t.Object="object",t.Date="date",t.Key="key"}(m||(m={}));var K=Object.values(m),z=["createdAt","updatedAt"],H=function(){function t(t,e){if(void 0===t&&(t={}),void 0===e&&(e=!1),!("__pureInstance"in t))return this.modelClass.ensureBooted(),this.initialize(t,e),this._proxy}return Object.defineProperty(t,"instance",{get:function(){return new this},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureInstance",{get:function(){return new this({__pureInstance:!0})},enumerable:!0,configurable:!0}),t.boot=function(e){var r=this,n={};if(void 0===r.collection)r.collection=e.toLowerCase()+"s";else if("string"!=typeof r.collection)throw new l(e,"Collection name not defined or invalid format");if("boolean"==typeof r.timestamps||void 0===r.timestamps)if(void 0===r.timestamps||r.timestamps){for(var i=0,o=z;i<o.length;i++)n[u=o[i]]={type:m.Date,required:!1};r.timestamps=z}else r.timestamps=[];else{if(!Array.isArray(r.timestamps))throw new l(e,"Invalid timestamps definition");for(var a=0,s=r.timestamps;a<s.length;a++){var u=s[a];if(-1===z.indexOf(u))throw new l(e,"Invalid timestamp field defined ("+u+")");n[u]={type:m.Date,required:!1}}}if(void 0!==r.fields)for(var u in r.fields)if(r.fields.hasOwnProperty(u)&&(n[u]=W(e,u,r.fields[u]),-1!==r.timestamps.indexOf(u)&&(n[u].type!==m.Date||n[u].required)))throw new l(e,"Field "+u+" definition must be type date and not required because it is used an automatic timestamp. Learn more at https://soukai.js.org/guide/defining-models.html#automatic-timestamps");r.primaryKey in n||(n[r.primaryKey]={type:m.Key,required:!1});for(var c=Object.getOwnPropertyNames(r.pureInstance),f=[],h=Object.getPrototypeOf(r.pureInstance);h!==t.prototype;){c.push.apply(c,h.constructor.classFields);for(var d=0,p=Object.getOwnPropertyNames(h);d<p.length;d++){var v=p[d];v.endsWith("Relationship")&&"function"==typeof r.pureInstance[v]&&f.push(v.substring(0,v.length-12))}h=Object.getPrototypeOf(h)}r.classFields=y.unique(c),r.relations=y.unique(f),r.fields=n,r.modelName=e},t.create=function(t){return void 0===t&&(t={}),new this(t).save()},t.createFromEngineDocument=function(t,e){return this.instance.createFromEngineDocument(t,e)},t.createManyFromEngineDocuments=function(t){return this.instance.createManyFromEngineDocuments(t)},t.find=function(t){var e=this;return this.ensureBooted(),u.requireEngine().readOne(this.collection,this.instance.serializeKey(t)).then((function(r){return e.createFromEngineDocument(t,r)})).catch((function(){return null}))},t.all=function(t){return q(this,void 0,void 0,(function(){var e;return J(this,(function(r){switch(r.label){case 0:return this.ensureBooted(),[4,u.requireEngine().readMany(this.collection,t)];case 1:return e=r.sent(),[4,this.createManyFromEngineDocuments(e)];case 2:return[2,r.sent()]}}))}))},t.first=function(t){return q(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.all(t)];case 1:return[2,e.sent()[0]||null]}}))}))},t.ensureBooted=function(){if(void 0===this.modelName)throw new o("Model has not been booted (did you forget to call Soukai.loadModel?) Learn more at https://soukai.js.org/guide/defining-models.html")},Object.defineProperty(t.prototype,"modelClass",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.prototype.update=function(t){for(var e in void 0===t&&(t={}),t=this.castAttributes(t,this.modelClass.fields))this.setAttribute(e,t[e]);return this.hasAutomaticTimestamp("updatedAt")&&this.touch(),this.save()},t.prototype.hasRelation=function(t){return-1!==this.modelClass.relations.indexOf(t)},t.prototype.getRelation=function(t){return this._relations[t]||null},t.prototype.loadRelation=function(t){return this.requireRelation(t).resolve()},t.prototype.loadRelationIfUnloaded=function(t){return q(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.isRelationLoaded(t)?this.getRelationModels(t):this.loadRelation(t)]}))}))},t.prototype.unloadRelation=function(t){this.requireRelation(t).unload()},t.prototype.getRelationModels=function(t){return this.requireRelation(t).related},t.prototype.setRelationModels=function(t,e){this.requireRelation(t).related=e},t.prototype.isRelationLoaded=function(t){return this.requireRelation(t).loaded},t.prototype.hasAttribute=function(t){for(var e=t.split("."),r=Z(this._attributes,this.modelClass.fields);e.length>0;)if(void 0===(r=r[e.shift()]))return!1;return!0},t.prototype.setAttribute=function(t,e){e=this.castAttribute(e,this.modelClass.fields[t]),this._attributes[t]=e,delete this._dirtyAttributes[t],v.deepEquals(this._originalAttributes[t],e)||(this._dirtyAttributes[t]=e),this.hasAutomaticTimestamp("updatedAt")&&"updatedAt"!==t&&this.touch()},t.prototype.setAttributes=function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=r[e],i=n[0],o=n[1];this.setAttribute(i,o)}},t.prototype.getAttribute=function(t,e){void 0===e&&(e=!1);for(var r=t.split("."),n=this.getAttributes(e);r.length>0;)if(void 0===(n=n[r.shift()]))return n;return n},t.prototype.getAttributes=function(t){return void 0===t&&(t=!1),t?h(this._attributes):Z(this._attributes,this.modelClass.fields)},t.prototype.unsetAttribute=function(t){this._attributes.hasOwnProperty(t)&&(t in this.modelClass.fields?this._attributes[t]=void 0:delete this._attributes[t],void 0!==this._originalAttributes[t]&&(this._dirtyAttributes[t]=void 0),this.hasAutomaticTimestamp("updatedAt")&&this.touch())},t.prototype.isDirty=function(t){return t?t in this._dirtyAttributes:Object.values(this._dirtyAttributes).length>0},t.prototype.getPrimaryKey=function(){return this._attributes[this.modelClass.primaryKey]},t.prototype.getSerializedPrimaryKey=function(){var t=this.getPrimaryKey();return t?this.serializeKey(t):null},t.prototype.delete=function(){return q(this,void 0,void 0,(function(){var t;return J(this,(function(e){switch(e.label){case 0:return this._exists?[4,this.getCascadeModels()]:[2,this];case 1:return t=e.sent(),[4,this.deleteModelsFromEngine(t)];case 2:return e.sent(),t.forEach((function(t){return t.resetEngineData()})),[2,this]}}))}))},t.prototype.save=function(){return q(this,void 0,void 0,(function(){var t,e;return J(this,(function(r){switch(r.label){case 0:return X(this._attributes,this.modelClass.fields),this.isDirty()?(t=this._exists,[4,this.syncDirty()]):[2,this];case 1:return e=r.sent(),this._wasRecentlyCreated=this._wasRecentlyCreated||!t,this._attributes[this.modelClass.primaryKey]=this.parseKey(e),this.cleanDirty(),[2,this]}}))}))},t.prototype.touch=function(){this.setAttribute("updatedAt",new Date)},t.prototype.setExists=function(t){this._exists=t},t.prototype.exists=function(){return this._exists},t.prototype.wasRecentlyCreated=function(){return this._wasRecentlyCreated},t.prototype.initialize=function(t,e){this._exists=e,this._wasRecentlyCreated=!1,this.initializeProxy(),this.initializeAttributes(t,e),this.initializeRelations()},t.prototype.initializeProxy=function(){this._proxy=new Proxy(this,{get:function(t,e,r){if("string"!=typeof e||e in t||-1!==t.modelClass.classFields.indexOf(e))return Reflect.get(t,e,r);var n="get"+g(e)+"Attribute";if("function"==typeof t[n])return t[n]();if(t.hasRelation(e))return t.isRelationLoaded(e)?t.getRelationModels(e):void 0;if(e.startsWith("related")){var i=b(e.substr(7));if(t.hasRelation(i))return t._relations[i]}return t.getAttribute(e)},set:function(t,e,r,n){return"string"!=typeof e||e in t||-1!==t.modelClass.classFields.indexOf(e)?Reflect.set(t,e,r,n):t.hasRelation(e)?(t.setRelationModels(e,r),!0):(t.setAttribute(e,r),!0)},deleteProperty:function(t,e){return"string"!=typeof e||e in t?Reflect.deleteProperty(t,e):t.hasRelation(e)?(t.unloadRelation(e),!0):e in t._attributes&&-1===t.modelClass.classFields.indexOf(e)?(t.unsetAttribute(e),!0):Reflect.deleteProperty(t,e)}})},t.prototype.initializeAttributes=function(t,e){this._attributes=v.deepClone(t),this._originalAttributes=e?v.deepClone(t):{},this._dirtyAttributes=e?{}:v.deepClone(t),e||(this.hasAutomaticTimestamp("createdAt")&&!("createdAt"in t)&&(this._attributes.createdAt=new Date,this._dirtyAttributes.createdAt=this._attributes.createdAt),this.hasAutomaticTimestamp("updatedAt")&&!("updatedAt"in t)&&(this._attributes.updatedAt=new Date,this._dirtyAttributes.updatedAt=this._attributes.updatedAt)),this._attributes=this.castAttributes(Y(this._attributes,this.modelClass.fields),this.modelClass.fields)},t.prototype.initializeRelations=function(){var t=this;this._relations=this.modelClass.relations.reduce((function(e,r){var n=t._proxy[b(r)+"Relationship"]();return n.name=r,e[r]=n,e}),{})},t.prototype.createFromEngineDocument=function(t,e){return q(this,void 0,void 0,(function(){var r;return J(this,(function(n){switch(n.label){case 0:return[4,this.parseEngineDocumentAttributes(t,e)];case 1:return(r=n.sent())[this.modelClass.primaryKey]=t,[2,new this.modelClass(r,!0)]}}))}))},t.prototype.createManyFromEngineDocuments=function(t){return q(this,void 0,void 0,(function(){var e=this;return J(this,(function(r){return[2,Promise.all(Object.entries(t).map((function(t){var r=t[0],n=t[1];return e.createFromEngineDocument(e.parseKey(r),n)})))]}))}))},t.prototype.syncDirty=function(){return q(this,void 0,void 0,(function(){var t,e,r;return J(this,(function(n){switch(n.label){case 0:return t=u.requireEngine(),this._exists?(e=this.getDirtyEngineDocumentUpdates(),r=this.getSerializedPrimaryKey(),[4,t.update(this.modelClass.collection,r,e)]):[2,t.create(this.modelClass.collection,this.toEngineDocument(),this.getSerializedPrimaryKey()||void 0)];case 1:return n.sent(),[2,r]}}))}))},t.prototype.cleanDirty=function(){this._originalAttributes=v.deepClone(this._attributes),this._dirtyAttributes={},this._exists=!0},t.prototype.getCascadeModels=function(){return q(this,void 0,void 0,(function(){var t,e,r,n=this;return J(this,(function(i){switch(i.label){case 0:return t=this.modelClass.relations.map((function(t){return n._relations[t]})).filter((function(t){return"cascade"===t.deleteStrategy})).map((function(t){return q(n,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,t.getModels()];case 1:return[2,e.sent().map((function(t){return t.getCascadeModels()}))]}}))}))})),[4,Promise.all(t)];case 1:return e=i.sent(),[4,Promise.all(y.flatten(e))];case 2:return r=i.sent(),[2,y.flatten(r).concat([this]).filter((function(t){return t.exists()}))]}}))}))},t.prototype.deleteModelsFromEngine=function(t){return q(this,void 0,void 0,(function(){var e,r;return J(this,(function(n){switch(n.label){case 0:return e=u.requireEngine(),r=t.map((function(t){return[t.modelClass.collection,t.getSerializedPrimaryKey()]})),[4,Promise.all(r.map((function(t){var r=t[0],n=t[1];return e.delete(r,n)})))];case 1:return n.sent(),[2]}}))}))},t.prototype.resetEngineData=function(){delete this._attributes[this.modelClass.primaryKey],this._exists=!1,this._dirtyAttributes=v.deepClone(this._attributes)},t.prototype.hasOne=function(t,e,r){return new G(this,t,e,r)},t.prototype.belongsToOne=function(t,e,r){return new P(this,t,e,r)},t.prototype.hasMany=function(t,e,r){return new M(this,t,e,r)},t.prototype.belongsToMany=function(t,e,r){return new I(this,t,e,r)},t.prototype.castAttributes=function(t,e){var r={};for(var n in t)r[n]=this.castAttribute(t[n],e[n]);return r},t.prototype.castAttribute=function(t,e){var r=this;if(Q(t))return t;if(void 0===e)switch(typeof t){case"object":return t.toString();case"symbol":case"function":case"undefined":return;default:return t}switch(e.type){case m.Date:return new Date(t);case m.Object:return this.castAttributes(t,e.fields);case m.Array:return t.map((function(t){return r.castAttribute(t,e.items)}));case m.Boolean:return!!t;case m.Number:return parseFloat(t);case m.String:return t.toString();default:return t}},t.prototype.hasAutomaticTimestamp=function(t){return-1!==this.modelClass.timestamps.indexOf(t)},t.prototype.toEngineDocument=function(){return Z(this._attributes,this.modelClass.fields)},t.prototype.getDirtyEngineDocumentUpdates=function(){var t=v.deepClone(this._dirtyAttributes);for(var e in t)void 0===t[e]&&(t[e]={$unset:!0});return t},t.prototype.parseEngineDocumentAttributes=function(t,e){return q(this,void 0,void 0,(function(){return J(this,(function(t){return[2,$({},e)]}))}))},t.prototype.serializeKey=function(t){return t.toString()},t.prototype.parseKey=function(t){return t},t.prototype.requireRelation=function(t){if(!(t in this._relations))throw new o("Attempting to use undefined "+t+" relation.");return this._relations[t]},t.primaryKey="id",t.classFields=[],t.relations=[],t}();function W(t,e,r,n){void 0===n&&(n=!0);var i={};if(-1!==K.indexOf(r))i.type=r;else{if("object"!=typeof r)throw new l(t,"Invalid field definition "+e);i=r}if(void 0===i.type)i={fields:i,type:m.Object};else if(-1===K.indexOf(i.type))throw new l(t,"Invalid field definition "+e);switch(n&&(i.required=!!i.required),i.type){case m.Object:if(void 0===i.fields)throw new l(t,"Field definition of type object requires fields attribute "+e);for(var o in i.fields)i.fields.hasOwnProperty(o)&&(i.fields[o]=W(t,o,i.fields[o]));break;case m.Array:if(void 0===i.items)throw new l(t,"Field definition of type array requires items attribute. Field: '"+e+"'");i.items=W(t,"items",i.items,!1)}return i}function Y(t,e){for(var r in e){var n=e[r];if(!(r in t))switch(n.type){case m.Object:t[r]={};break;case m.Array:t[r]=[];break;default:t[r]=void 0}n.type===m.Object&&(t[r]=Y(t[r],n.fields))}return t}function X(t,e){for(var r in e){var n=e[r];if(n.required&&(!(r in t)||Q(t[r])))throw new o("The "+r+" attribute is required.");r in t&&!Q(t[r])&&n.type===m.Object&&X(t[r],n.fields)}}function Q(t){return null==t}function Z(t,e,r){for(var n in void 0===r&&(r=!1),t=h(t))if(void 0===t[n])delete t[n];else if(n in e&&e[n].type===m.Object){var i=Z(t[n],e[n].fields,!0);void 0===i?delete t[n]:t[n]=i}return r&&0===Object.keys(t).length?void 0:t}var tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et=function(t){function e(e){var r=t.call(this,"Could not create document with id "+e+" because it is already in use.")||this;return r.id=e,r}return tt(e,t),e}(o),rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nt=function(t){function e(e){var r=t.call(this,"Couldn't find document with id "+e+".")||this;return r.id=e,r}return rt(e,t),e}(o),it={generate:function t(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t)}},ot=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},at=function(){function t(){var t=this;this.documentsIn=function(t,e,r){return y.contains(r,t)},this.attributeEq=function(t,e,r){return d(t[e],r)},this.attributeContains=function(e,r,n){Array.isArray(n)||(n=[n]);var i=e&&e[r];return!!Array.isArray(i)&&!n.find((function(e){return!i.find((function(r){return t.filterValue(r,e)}))}))},this.attributeOr=function(e,r,n){return!!n.find((function(n){return!!t.filterValue(e,(i={},i[r]=n,i));var i}))},this.attributeIn=function(t,e,r){return y.contains(r,t[e])},this.attributeUpdate=function(e,r,n){p(n)?t.isOperation(n,t.attributeUpdates)?t.runOperation(n,t.attributeUpdates,e,r):p(e[r])?t.updateAttributes(e[r],n):e[r]=n:e[r]=n},this.attributeUpdateItems=function(e,r,n){Array.isArray(n)||(n=[n]);for(var i=function(n,i,o){n&&n.$in&&(n.$in=n.$in.map((function(t){return t.toString()})));var a=t.requireArrayProperty("$updateItems",e,r),s=t.filterDocuments(a.reduce((function(t,e,r){return ot({},t,((n={})[r]=p(e)?e:{},n));var n}),{}),n||{});i&&Object.keys(s).forEach((function(e){var r;t.updateAttributes(s,((r={})[e]=i,r)),a[e]=s[e]})),o&&(e[r]=y.withoutIndexes(a,Object.keys(s).map(parseInt)))},o=0,a=n;o<a.length;o++){var s=a[o];i(s.$where,s.$update,s.$unset)}},this.attributePush=function(e,r,n){t.requireArrayProperty("$push",e,r).push(n)},this.attributeUnset=function(t,e,r){if(!0!==r)for(var n=0,i=r=Array.isArray(r)?r:[r];n<i.length;n++){var o=i[n];delete t[e][o]}else delete t[e]},this.attributeApply=function(e,r,n){for(var i=0,o=n;i<o.length;i++){var a=o[i];t.runOperation(a,t.attributeUpdates,e,r)}},this.rootFilters={$in:this.documentsIn},this.attributeFilters={$eq:this.attributeEq,$contains:this.attributeContains,$or:this.attributeOr,$in:this.attributeIn},this.attributeUpdates={$update:this.attributeUpdate,$updateItems:this.attributeUpdateItems,$push:this.attributePush,$unset:this.attributeUnset,$apply:this.attributeApply}}return t.prototype.filterDocuments=function(t,e){var r=this;return void 0===e&&(e={}),Object.entries(t).reduce((function(t,n){var i=n[0],o=n[1];return r.filterDocument(i,o,e)&&(t[i]=o),t}),{})},t.prototype.updateAttributes=function(t,e){if(this.isOperation(e,{$unset:this.attributeUnset}))for(var r=e.$unset,n=0,i=Array.isArray(r)?r:[r];n<i.length;n++){var o=i[n];this.attributeUnset(t,o,!0)}else for(var a=0,s=Object.entries(e);a<s.length;a++){var u=s[a],c=u[0],l=u[1];this.attributeUpdate(t,c,l)}},t.prototype.obtainDocumentId=function(t){return t||it.generate()},t.prototype.filterDocument=function(t,e,r){var n=this;void 0===r&&(r={}),r=ot({},r);for(var i=0,o=Object.keys(r).filter((function(t){return t in n.rootFilters}));i<o.length;i++){var a=o[i];if(!this.rootFilters[a](t,e,r[a]))return!1;delete r[a]}return this.filterValue(e,r)},t.prototype.filterValue=function(t,e){var r=this;return void 0===e&&(e={}),p(e)?this.isOperation(e,this.attributeFilters)?this.runOperation(e,this.attributeFilters,{value:t},"value"):!!p(t)&&!Object.entries(e).find((function(e){var n=e[0],i=e[1];return!(r.isOperation(i,r.attributeFilters)?r.runOperation(i,r.attributeFilters,t,n):r.attributeEq(t,n,i))})):this.attributeEq({value:t},"value",e)},t.prototype.isOperation=function(t,e){if(!p(t))return!1;var r=Object.keys(t),n=r[0],i=r.slice(1);return!(!n||0!==i.length||!(n in e))},t.prototype.runOperation=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Object.entries(t)[0],o=i[0],a=i[1];return e[o].apply(e,r.concat([a]))},t.prototype.requireArrayProperty=function(t,e,r){if(!e||!Array.isArray(e[r]))throw new Error(t+" operator can only be applied to array attributes");return e[r]},t}();let st,ut;const ct=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakMap,dt=new WeakMap;let pt={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return lt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ft.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return gt(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function vt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(bt(this),e),gt(ct.get(this))}:function(...e){return gt(t.apply(bt(this),e))}:function(e,...r){const n=t.call(bt(this),e,...r);return ft.set(n,e.sort?e.sort():[e]),gt(n)}}function yt(t){return"function"==typeof t?vt(t):(t instanceof IDBTransaction&&function(t){if(lt.has(t))return;const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),n()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});lt.set(t,e)}(t),e=t,(st||(st=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,pt):t);var e}function gt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(gt(t.result)),n()},o=()=>{r(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(e=>{e instanceof IDBCursor&&ct.set(e,t)}).catch(()=>{}),dt.set(e,t),e}(t);if(ht.has(t))return ht.get(t);const e=yt(t);return e!==t&&(ht.set(t,e),dt.set(e,t)),e}const bt=t=>dt.get(t);function mt(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=gt(a);return n&&a.addEventListener("upgradeneeded",t=>{n(gt(a.result),t.oldVersion,t.newVersion,gt(a.transaction))}),r&&a.addEventListener("blocked",()=>r()),s.then(t=>{o&&t.addEventListener("close",()=>o()),i&&t.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}function wt(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",()=>e()),gt(r).then(()=>{})}const _t=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],Et=new Map;function Ot(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Et.get(e))return Et.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=xt.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!_t.includes(r))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;n&&(a=a.index(e.shift()));const s=a[r](...e);return i&&await o.done,s};return Et.set(e,o),o}pt=(t=>({...t,get:(e,r,n)=>Ot(e,r)||t.get(e,r,n),has:(e,r)=>!!Ot(e,r)||t.has(e,r)}))(pt);var St=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Rt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},jt=function(){function t(t){void 0===t&&(t=null),this.database=t?"soukai-"+t:"soukai",this.helper=new at}return t.prototype.purgeDatabase=function(){return St(this,void 0,void 0,(function(){var t=this;return Rt(this,(function(e){switch(e.label){case 0:return this.closeConnections(),[4,Promise.all([wt(this.database+"-meta",{blocked:function(){return t.throwDatabaseBlockedError()}}),wt(this.database,{blocked:function(){return t.throwDatabaseBlockedError()}})])];case 1:return e.sent(),[2]}}))}))},t.prototype.closeConnections=function(){return St(this,void 0,void 0,(function(){return Rt(this,(function(t){return this._metadataConnection&&this._metadataConnection.close(),this._documentsConnection&&this._documentsConnection.close(),delete this._metadataConnection,delete this._documentsConnection,[2]}))}))},t.prototype.create=function(t,e,r){return St(this,void 0,void 0,(function(){return Rt(this,(function(n){switch(n.label){case 0:return r=this.helper.obtainDocumentId(r),[4,this.documentExists(t,r)];case 1:if(n.sent())throw new et(r);return[4,this.createDocument(t,r,e)];case 2:return n.sent(),[2,r]}}))}))},t.prototype.readOne=function(t,e){return St(this,void 0,void 0,(function(){var r;return Rt(this,(function(n){switch(n.label){case 0:return[4,this.collectionExists(t)];case 1:if(!n.sent())throw new nt(e);return[4,this.getDocument(t,e)];case 2:if(!(r=n.sent()))throw new nt(e);return[2,r]}}))}))},t.prototype.readMany=function(t,e){return St(this,void 0,void 0,(function(){var r,n;return Rt(this,(function(i){switch(i.label){case 0:return r={},[4,this.getCollections()];case 1:return-1===(n=i.sent()).indexOf(t)?[2,r]:[4,this.withDocumentsTransaction(n,t,"readonly",(function(t){var e=function(t){if(t)return r[t.key]=t.value,t.continue().then(e)};return t.store.openCursor().then(e)}))];case 2:return i.sent(),[2,this.helper.filterDocuments(r,e)]}}))}))},t.prototype.update=function(t,e,r){return St(this,void 0,void 0,(function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,this.getDocument(t,e)];case 1:if(!(n=i.sent()))throw new nt(e);return this.helper.updateAttributes(n,r),[4,this.updateDocument(t,e,n)];case 2:return i.sent(),[2]}}))}))},t.prototype.delete=function(t,e){return St(this,void 0,void 0,(function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,this.documentExists(t,e)];case 1:if(!r.sent())throw new nt(e);return[4,this.deleteDocument(t,e)];case 2:return r.sent(),[2]}}))}))},t.prototype.collectionExists=function(t){return St(this,void 0,void 0,(function(){return Rt(this,(function(e){switch(e.label){case 0:return[4,this.getCollections()];case 1:return[2,-1!==e.sent().indexOf(t)]}}))}))},t.prototype.documentExists=function(t,e){return St(this,void 0,void 0,(function(){return Rt(this,(function(r){switch(r.label){case 0:return[4,this.getDocument(t,e)];case 1:return[2,!!r.sent()]}}))}))},t.prototype.getDocument=function(t,e){return St(this,void 0,void 0,(function(){var r;return Rt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.getCollections()];case 1:return-1===(r=n.sent()).indexOf(t)?[2,null]:[4,this.withDocumentsTransaction(r,t,"readonly",(function(t){return t.store.get(e)}))];case 2:return[2,n.sent()||null];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},t.prototype.createDocument=function(t,e,r){return St(this,void 0,void 0,(function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,this.getCollections()];case 1:return-1!==(n=i.sent()).indexOf(t)?[3,3]:[4,this.createCollection(t)];case 2:i.sent(),n.push(t),i.label=3;case 3:return[2,this.withDocumentsTransaction(n,t,"readwrite",(function(t){return t.store.add(r,e),t.done}))]}}))}))},t.prototype.updateDocument=function(t,e,r){return St(this,void 0,void 0,(function(){var n;return Rt(this,(function(i){switch(i.label){case 0:return[4,this.getCollections()];case 1:return n=i.sent(),[2,this.withDocumentsTransaction(n,t,"readwrite",(function(t){return t.store.put(r,e),t.done}))]}}))}))},t.prototype.deleteDocument=function(t,e){return St(this,void 0,void 0,(function(){var r;return Rt(this,(function(n){switch(n.label){case 0:return[4,this.getCollections()];case 1:return r=n.sent(),[2,this.withDocumentsTransaction(r,t,"readwrite",(function(t){return t.store.delete(e),t.done}))]}}))}))},t.prototype.withMetadataTransaction=function(t,e){return St(this,void 0,void 0,(function(){var r,n,i=this;return Rt(this,(function(o){switch(o.label){case 0:return r=this,(n=this._metadataConnection)?[3,2]:[4,mt(this.database+"-meta",1,{upgrade:function(t){t.objectStoreNames.contains("collections")||t.createObjectStore("collections",{keyPath:"name"})},blocked:function(){return i.throwDatabaseBlockedError()}})];case 1:n=o.sent(),o.label=2;case 2:return r._metadataConnection=n,[2,this.retryingOnTransactionInactive((function(){var r=i._metadataConnection.transaction("collections",t);return e(r)}))]}}))}))},t.prototype.withDocumentsTransaction=function(t,e,r,n){return St(this,void 0,void 0,(function(){var i,o,a=this;return Rt(this,(function(s){switch(s.label){case 0:return i=this,(o=this._documentsConnection)?[3,2]:[4,mt(this.database,t.length,{upgrade:function(e){for(var r=0,n=t;r<n.length;r++){var i=n[r];e.objectStoreNames.contains(i)||e.createObjectStore(i)}},blocked:function(){return a.throwDatabaseBlockedError()}})];case 1:o=s.sent(),s.label=2;case 2:return i._documentsConnection=o,[2,this.retryingOnTransactionInactive((function(){var t=a._documentsConnection.transaction(e,r);return n(t)}))]}}))}))},t.prototype.retryingOnTransactionInactive=function(t){try{return t()}catch(e){if(!(e instanceof Error)||!e.name.toLowerCase().includes("inactive")&&!e.message.toLowerCase().includes("inactive"))throw e;return t()}},t.prototype.getCollections=function(){return St(this,void 0,void 0,(function(){return Rt(this,(function(t){return[2,this.withMetadataTransaction("readonly",(function(t){return t.store.getAllKeys()}))]}))}))},t.prototype.createCollection=function(t){return St(this,void 0,void 0,(function(){return Rt(this,(function(e){switch(e.label){case 0:return[4,this.withMetadataTransaction("readwrite",(function(e){return e.store.add({name:t}),e.done}))];case 1:return e.sent(),this._documentsConnection&&(this._documentsConnection.close(),delete this._documentsConnection),[2]}}))}))},t.prototype.throwDatabaseBlockedError=function(){throw new o("An attempt to open an IndexedDB connection has been blocked, remember to call IndexedDBEngine.closeConnections when necessary. Learn more at https://developer.mozilla.org/en-US/docs/Web/API/IDBOpenDBRequest/blocked_event")},t}(),It=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},kt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ct=function(){function t(){this.db={},this.helper=new at}return Object.defineProperty(t.prototype,"database",{get:function(){return this.db},enumerable:!0,configurable:!0}),t.prototype.create=function(t,e,r){var n=this.collection(t);if((r=this.helper.obtainDocumentId(r))in n)throw new et(r);return n[r]=e,Promise.resolve(r)},t.prototype.readOne=function(t,e){var r=this.collection(t);return e in r?Promise.resolve(r[e]):Promise.reject(new nt(e))},t.prototype.readMany=function(t,e){return It(this,void 0,void 0,(function(){var r;return kt(this,(function(n){return this.hasCollection(t)?(r=this.collection(t),[2,this.helper.filterDocuments(r,e)]):[2,{}]}))}))},t.prototype.update=function(t,e,r){var n=this.collection(t);if(e in n){var i=n[e];return this.helper.updateAttributes(i,r),Promise.resolve()}return Promise.reject(new nt(e))},t.prototype.delete=function(t,e){var r=this.collection(t);return e in r?(delete r[e],Promise.resolve()):Promise.reject(new nt(e))},t.prototype.hasCollection=function(t){return t in this.db},t.prototype.collection=function(t){return this.hasCollection(t)||(this.db[t]={}),this.db[t]},t}(),Tt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Dt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},At=function(){function t(t){void 0===t&&(t=""),this.prefix=t,this.helper=new at}return t.prototype.clear=function(){for(var t=0,e=Object.keys(localStorage);t<e.length;t++){var r=e[t];r.startsWith(this.prefix)&&localStorage.removeItem(r)}},t.prototype.create=function(t,e,r){return Tt(this,void 0,void 0,(function(){var n;return Dt(this,(function(i){if(n=this.readItem(t,{}),(r=this.helper.obtainDocumentId(r))in n)throw new et(r);return n[r]=this.serializeAttributes(e),this.writeItem(t,n),[2,r]}))}))},t.prototype.readOne=function(t,e){return Tt(this,void 0,void 0,(function(){var r;return Dt(this,(function(n){if(r=this.readItem(t,{}),!(e in r))throw new nt(e);return[2,this.deserializeAttributes(r[e])]}))}))},t.prototype.readMany=function(t,e){return Tt(this,void 0,void 0,(function(){var r,n;return Dt(this,(function(i){for(n in r=this.readItem(t,{}))r[n]=this.deserializeAttributes(r[n]);return[2,this.helper.filterDocuments(r,e)]}))}))},t.prototype.update=function(t,e,r){return Tt(this,void 0,void 0,(function(){var n,i;return Dt(this,(function(o){if(n=this.readItem(t,{}),!(e in n))throw new nt(e);return i=this.deserializeAttributes(n[e]),this.helper.updateAttributes(i,r),n[e]=this.serializeAttributes(i),this.writeItem(t,n),[2]}))}))},t.prototype.delete=function(t,e){return Tt(this,void 0,void 0,(function(){var r;return Dt(this,(function(n){if(r=this.readItem(t,{}),!(e in r))throw new nt(e);return delete r[e],this.writeItem(t,r),[2]}))}))},t.prototype.readItem=function(t,e){void 0===e&&(e=null);var r=localStorage.getItem(this.prefix+t);return null!==r?JSON.parse(r):e},t.prototype.writeItem=function(t,e){localStorage.setItem(this.prefix+t,JSON.stringify(e))},t.prototype.serializeAttributes=function(t){for(var e in t){var r=t[e];t[e]=this.serializeAttributeValue(r)}return t},t.prototype.serializeAttributeValue=function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.serializeAttributeValue(t)})):t instanceof Date?{__dateTime:t.getTime()}:"object"==typeof t?this.serializeAttributes(t):t},t.prototype.deserializeAttributes=function(t){for(var e in t){var r=t[e];t[e]=this.deserializeAttributeValue(r)}return t},t.prototype.deserializeAttributeValue=function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.deserializeAttributeValue(t)})):"object"==typeof t&&"__dateTime"in t?new Date(t.__dateTime):t},t}(),Pt=function(){function t(t){this.engine=t}return t.prototype.create=function(t,e,r){return console.log("CREATE",t,e,r),this.engine.create(t,e,r).then((function(t){return console.log("CREATED",t),t})).catch((function(t){throw console.error(t),t}))},t.prototype.readOne=function(t,e){return console.log("READ ONE",t,e),this.engine.readOne(t,e).then((function(t){return console.log("FOUND",t),t})).catch((function(t){throw console.error(t),t}))},t.prototype.readMany=function(t,e){return console.log("READ ALL",t,e),this.engine.readMany(t,e).then((function(t){return console.log("FOUND",t),t})).catch((function(t){throw console.error(t),t}))},t.prototype.update=function(t,e,r){return console.log("UPDATE",t,e,r),this.engine.update(t,e,r).then((function(){return console.log("UPDATED")})).catch((function(t){throw console.error(t),t}))},t.prototype.delete=function(t,e){return console.log("DELETE",t,e),this.engine.delete(t,e).then((function(){return console.log("DELETED")})).catch((function(t){throw console.error(t),t}))},t}();function Lt(t){for(var e={},r=0,n=t.keys();r<n.length;r++){var i=n[r],o=(i.match(/^(?:\.\/)?(.+)\.(j|t)s$/)||[])[1];void 0!==o&&(e[o]=t(i).default)}return e}r.d(e,"definitionsFromContext",(function(){return Lt})),r.d(e,"Model",(function(){return H})),r.d(e,"Soukai",(function(){return u})),r.d(e,"EngineHelper",(function(){return at})),r.d(e,"LogEngine",(function(){return Pt})),r.d(e,"InMemoryEngine",(function(){return Ct})),r.d(e,"LocalStorageEngine",(function(){return At})),r.d(e,"IndexedDBEngine",(function(){return jt})),r.d(e,"SoukaiError",(function(){return o})),r.d(e,"DocumentNotFound",(function(){return nt})),r.d(e,"DocumentAlreadyExists",(function(){return et})),r.d(e,"InvalidModelDefinition",(function(){return l})),r.d(e,"BelongsToManyRelation",(function(){return I})),r.d(e,"BelongsToOneRelation",(function(){return P})),r.d(e,"HasManyRelation",(function(){return M})),r.d(e,"HasOneRelation",(function(){return G})),r.d(e,"MultiModelRelation",(function(){return O})),r.d(e,"Relation",(function(){return x})),r.d(e,"SingleModelRelation",(function(){return C})),r.d(e,"FieldType",(function(){return m})),e.default=u}])}))},dde1:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("25f0"),r("3ca3");var n=r("b680");function i(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(t,e):void 0}}},df75:function(t,e,r){var n=r("ca84"),i=r("7839");t.exports=Object.keys||function(t){return n(t,i)}},df7c:function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,r=0,n=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,n="/"===a.charAt(0))}return e=r(i(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),a="/"===o(t,-1);return t=r(i(t.split("/"),(function(t){return!!t})),!n).join("/"),t||n||(t="."),t&&a&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var r=t.length-1;r>=0;r--)if(""!==t[r])break;return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=n(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){r=a+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r("4362"))},dfab:function(t,e,r){!function(e,n){t.exports=n(r("ddbf"),r("50cc"),r("c20d"),r("dae0"))}(window,(function(t,e,r,n){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e){t.exports=r},function(t,e){t.exports=n},function(t,e,r){"use strict";r.r(e),r.d(e,"DocumentFormat",(function(){return Lt})),r.d(e,"MalformedDocumentError",(function(){return $t})),r.d(e,"NetworkError",(function(){return Jt})),r.d(e,"SolidContainerModel",(function(){return Oe})),r.d(e,"SolidDocument",(function(){return Mt})),r.d(e,"SolidEngine",(function(){return ce})),r.d(e,"SolidModel",(function(){return Nt}));var n,i=r(0),o=r.n(i),a=r(1),s=r(2),u=r(3),c=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h=new(function(){function t(){}return t.prototype.resolve=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.shift();t.length>0;){var n=t.shift();n.startsWith("/")?r=this.base(r)+n:n.startsWith("http://")||n.startsWith("https://")?r=n:r.endsWith("/")?r+=n:r+="/"+n}return r},t.prototype.resolveDirectory=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.resolve.apply(this,l(t));return r.endsWith("/")?r:r+"/"},t.prototype.base=function(t){var e=t.indexOf("://"),r=t.substr(e+3).indexOf("/");return-1!==r?t.substring(0,e+3+r):t},t.prototype.parentDirectory=function(t){t.endsWith("/")&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return-1!==e?t.substr(0,e+1):t},t.prototype.fileName=function(t){var e=t.lastIndexOf("/");return-1!==e?t.substr(e+1):""},t.prototype.directoryName=function(t){return t.endsWith("/")||(t=this.parentDirectory(t)),this.fileName(t.slice(0,-1))},t.prototype.parse=function(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",n=c(-1===r.indexOf(":")?[r]:r.split(":"),2),i=n[0],o=n[1];return{protocol:e[2]||void 0,domain:i||void 0,port:o||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}},t.prototype.clean=function(t,e){var r,n,i=this.parse(t);if(!i)return t;try{for(var o=f(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=c(a.value,2),u=s[0],l=s[1];i[u]=!1!==e[u]&&l||""}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return[i.protocol?i.protocol+"://":"",i.domain||"",i.port?":"+i.port:"",i.path||"",i.query?"?"+i.query:"",i.fragment?"#"+i.fragment:""].join("")},t.prototype.route=function(t){return this.clean(t,{protocol:!0,domain:!0,port:!0,path:!0,query:!1,fragment:!1})},t}()),d=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){this.name=t},v=function(){function t(t,e,r){this.resourceUrl=t,this.name=e,this.value=r}return t.fromStatement=function(t){var e="NamedNode"===t.subject.termType?t.subject.value:null;return t.predicate.value===B("rdf:type")?this.type(e,t.object.value):"NamedNode"===t.object.termType?this.reference(e,t.predicate.value,t.object.value):"BlankNode"===t.object.termType?this.reference(e,t.predicate.value,null):"Variable"===t.object.termType?this.reference(e,t.predicate.value,new p(t.object.value)):this.literal(e,t.predicate.value,t.object.datatype.value===B("xsd:dateTime")?new Date(t.object.value):t.object.value)},t.literal=function(t,e,r){return new y(t,e,r)},t.reference=function(t,e,r){return new g(t,e,r)},t.type=function(t,e){return new b(t,e)},t.toTurtle=function(t,e){return void 0===e&&(e=null),t.map((function(t){return t.toTurtle(e)+" ."})).join("\n")},t.prototype.toTurtle=function(t){return void 0===t&&(t=null),this.getTurtleSubject(t)+" "+this.getTurtlePredicate()+" "+this.getTurtleObject(t)},t.prototype.clone=function(e){switch(e=null!=e?e:this.resourceUrl,this.type){case 2:return t.literal(e,this.name,this.value);case 0:return t.type(e,this.value);case 1:return t.reference(e,this.name,this.value)}},t.prototype.getTurtleReference=function(t,e){var r=null==t?void 0:t.indexOf("#");return t&&t!==e?null!==e&&t.startsWith(e)&&-1!==r?"<#"+t.substr(r+1)+">":"<"+encodeURI(t)+">":"<>"},t.prototype.getTurtleSubject=function(t){return this.getTurtleReference(this.resourceUrl,t)},t.prototype.getTurtlePredicate=function(){return"<"+encodeURI(this.name)+">"},t}(),y=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type=2,i}return d(e,t),e.prototype.getTurtleObject=function(){if(this.value instanceof Date){var t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return t.toString().padStart(2,"0")}))};return'"'+t(this.value.getUTCFullYear(),this.value.getUTCMonth()+1,this.value.getUTCDate()).join("-")+"T"+t(this.value.getUTCHours(),this.value.getUTCMinutes(),this.value.getUTCSeconds()).join(":")+'Z"^^<'+B("xsd:dateTime")+">"}return JSON.stringify(this.value)},e}(v),g=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type=1,i}return d(e,t),e.prototype.getTurtleObject=function(t){return this.value instanceof p?this.value.name:this.getTurtleReference(this.value,t)},e}(v),b=function(t){function e(e,r){var n=t.call(this,e,B("rdf:type"),r)||this;return n.type=0,n}return d(e,t),e.prototype.getTurtlePredicate=function(){return"a"},e.prototype.getTurtleObject=function(){return"<"+encodeURI(this.value)+">"},e}(v),m=v,w=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},_=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w(arguments[e]));return t},x=function(){function t(t){this.url=t,this.statements=[],this.types=[],this.properties=[],this.propertiesIndex={}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue(B("foaf:name"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.getPropertyValue(B("rdfs:label"))},enumerable:!0,configurable:!0}),t.prototype.isType=function(t){return-1!==this.types.indexOf(B(t))},t.prototype.getPropertyValue=function(t,e){void 0===e&&(e=null);var r=w(this.propertiesIndex[B(t)]||[],1)[0];return r?r.value:e},t.prototype.getPropertyValues=function(t){return(this.propertiesIndex[B(t)]||[]).map((function(t){return t.value}))},t.prototype.addStatement=function(t){if(t.subject.value===this.url){var e=m.fromStatement(t);0===e.type&&this.types.push(e.value),this.statements.push(t),this.properties.push(e),this.propertiesIndex[e.name]=_(this.propertiesIndex[e.name]||[],[e])}},t}(),E=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},O=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(E(arguments[e]));return t},S=new(function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?t:[t]},t.prototype.clean=function(t){return t.filter((function(t){return!!t}))},t.prototype.contains=function(t,e){return-1!==t.indexOf(e)},t.prototype.filter=function(t){return t.filter((function(t){return!!t}))},t.prototype.flatten=function(t){return t.reduce((function(t,e){return O(t,e)}),[])},t.prototype.last=function(t){return t[t.length-1]},t.prototype.make=function(t,e){return void 0===e&&(e=null),new Array(t).fill(e)},t.prototype.range=function(t){for(var e=[],r=0;r<t;r++)e.push(r);return e},t.prototype.removeItem=function(t,e){var r=t.indexOf(e);return-1!==r&&t.splice(r,1),e},t.prototype.unique=function(t,e){void 0===e&&(e=null);var r=t.map((function(t){return e?e(t):t}));return t.filter((function(t,e){return r.indexOf(r[e])===e}))},t.prototype.without=function(t,e){return t.filter((function(t){return-1===e.indexOf(t)}))},t.prototype.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=function(e){r.push(t.map((function(t){return t[e]})))},i=0;i<t[0].length;i++)n(i);return r},t}()),R=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},j=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},I=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},k=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(I(arguments[e]));return t},C=function(){function t(t,e,r){void 0===e&&(e=[]),void 0===r&&(r={}),this.url=t,this.statements=e,this.metadata=r,this.resourcesIndex=this.statements.reduce((function(t,e){var r=e.subject.value;return r in t||(t[r]=new x(r)),t[r].addStatement(e),t}),{}),this.resources=Object.values(this.resourcesIndex),this.properties=this.resources.reduce((function(t,e){return k(t,e.properties)}),[])}return t.prototype.isEmpty=function(){return 0===this.statements.length},t.prototype.hasProperty=function(t,e){return t in this.resourcesIndex&&e in this.resourcesIndex[t].propertiesIndex},t.prototype.toJsonLD=function(){return R(this,void 0,void 0,(function(){return j(this,(function(t){return[2,V.createJsonLD(this.statements)]}))}))},t.prototype.resource=function(t){var e;return null!==(e=this.resourcesIndex[t])&&void 0!==e?e:null},t.prototype.clone=function(e){var r=this;void 0===e&&(e=null);var n=new t(e||this.url),i=S.without(Object.getOwnPropertyNames(this),["url"]);return Object.assign(n,i.reduce((function(t,e){return t[e]=r[e],t}),{})),n},t}(),T=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=function(){return(D=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},A=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},P=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},L=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},N=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L(arguments[e]));return t},U=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M={foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",posix:"http://www.w3.org/ns/posix/stat#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",xsd:"http://www.w3.org/2001/XMLSchema#"},F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e}(i.SoukaiError);function B(t,e){if(void 0===e&&(e={}),/^https?:\/\//.test(t))return t;var r=t.indexOf(":");if(-1===r)return t;e=D(D({},M),e);var n=t.substr(0,r);return n in e?e[n]+t.substr(n.length+1):t}var V=new(function(){function t(){}return t.prototype.parseTurtle=function(t,e){var r=this;return void 0===e&&(e={}),new Promise((function(n,i){var o=[],a=new u.Parser({baseIRI:e.baseUrl||"",format:e.format||"text/turtle"}),s={containsRelativeIRIs:!1,describedBy:r.getDescribedBy(e)},c=a._resolveRelativeIRI;a._resolveRelativeIRI=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.containsRelativeIRIs=!0,a._resolveRelativeIRI=c,a._resolveRelativeIRI.apply(a,N(t))},a.parse(t,(function(t,r){t?i(new F(t.message)):r?o.push(r):n(new C(e.baseUrl||"",o,s))}))}))},t.prototype.parseJsonLD=function(t){return A(this,void 0,void 0,(function(){return P(this,(function(e){return[2,new Promise((function(e,r){var n=[],i=new a.JsonLdParser({baseIRI:t["@id"]||""});i.on("data",(function(t){n.push(t)})),i.on("error",r),i.on("end",(function(){return e(new C(t["@id"]||null,n))})),i.write(JSON.stringify(t)),i.end()}))]}))}))},t.prototype.createJsonLD=function(t){return A(this,void 0,void 0,(function(){return P(this,(function(e){return t.sort((function(t,e){return t.subject.value.localeCompare(e.subject.value)})),[2,new Promise((function(e,r){var n,i,o=new s.JsonLdSerializer,a="";o.on("data",(function(t){return a+=t})),o.on("error",r),o.on("end",(function(){return e({"@graph":JSON.parse(a)})}));try{for(var u=U(t),c=u.next();!c.done;c=u.next()){var l=c.value;o.write(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o.end()}))]}))}))},t.prototype.flattenJsonLD=function(t){return A(this,void 0,void 0,(function(){return P(this,(function(e){switch(e.label){case 0:return[4,this.parseJsonLD(t)];case 1:return[2,e.sent().toJsonLD()]}}))}))},t.prototype.getJsonLDProperty=function(t,e){if((e=B(e))in t)return this.getJsonLDPropertyValue(t[e]);if("@context"in t){var r=t["@context"],n=Object.entries(r).find((function(t){var r=L(t,2),n=(r[0],r[1]);return e.startsWith(n)}));if(n){var i=t[("@vocab"===n[0]?"":n[0]+":")+e.substr(n[1].length)];return this.getJsonLDPropertyValue(i)}}},t.prototype.getJsonLDPropertyValue=function(t){if(void 0!==t)return Array.isArray(t)&&1===t.length?t[0]:t},t.prototype.getDescribedBy=function(t){var e,r;if(null===(e=t.headers)||void 0===e?void 0:e.has("Link")){var n=null===(r=t.headers.get("Link"))||void 0===r?void 0:r.match(/<([^>]+)>; rel="describedBy"/i);if(n)return h.resolve(t.baseUrl||"",n[1])}},t}()),G=new(function(){function t(){}return t.prototype.slug=function(t){return t.replace(/[^\d\w]/g,"-").replace(/-+/g,"-").toLowerCase()},t.prototype.fixUrl=function(t){var e=t.indexOf("://")+3;return t.substr(0,e)+t.substr(e).replace(/\/\//g,"/")},t}()),$=new(function(){function t(){}return t.prototype.generate=function(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,this.generate)},t}()),q=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),J=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},K=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},z=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},W=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(H(arguments[e]));return t},Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return q(e,t),e.prototype.resolve=function(){return J(this,void 0,void 0,(function(){var t,e,r,n,i,o,a,s,u,c=this;return K(this,(function(l){switch(l.label){case 0:this.__modelsInSameDocument&&this.__modelsInOtherDocumentIds||(this.__modelsInSameDocument=[],this.__modelsInOtherDocumentIds=this.parent.getAttribute(this.foreignKeyName)),t={};try{for(e=z(this.__modelsInOtherDocumentIds),r=e.next();!r.done;r=e.next())n=r.value,(i=h.parentDirectory(n))in t||(t[i]=[]),t[i].push(n)}catch(t){s={error:t}}finally{try{r&&!r.done&&(u=e.return)&&u.call(e)}finally{if(s)throw s.error}}return[4,Promise.all(Object.keys(t).map((function(e){return c.relatedClass.from(e).all({$in:t[e]})})))];case 1:return o=l.sent(),a=o.reduce((function(t,e){return t.push.apply(t,W(e)),t}),[]),this.related=W(this.__modelsInSameDocument,a),[2,this.related]}}))}))},e.prototype.__loadDocumentModels=function(t,e){return J(this,void 0,void 0,(function(){var r,n,o,a,s,u=this;return K(this,(function(c){switch(c.label){case 0:return r=new i.EngineHelper,n=this.parent.getAttribute(this.foreignKeyName),o=this.relatedClass.prepareEngineFilters(),a=e["@graph"].filter((function(t){return-1!==n.indexOf(t["@id"])})).reduce((function(t,e){return t[e["@id"]]={"@graph":[e]},t}),{}),s=this,[4,Promise.all(Object.entries(r.filterDocuments(a,o)).map((function(e){var r=H(e,2),n=r[0],i=r[1];return u.relatedClass.createFromEngineDocument(t,i,n)})))];case 1:return s.__modelsInSameDocument=c.sent(),this.__modelsInOtherDocumentIds=n.filter((function(t){return!u.__modelsInSameDocument.some((function(e){return e.url===t}))})),this.__modelsInOtherDocumentIds.length>0?[2]:(this.related=this.__modelsInSameDocument.slice(0),[2])}}))}))},e}(i.BelongsToManyRelation),X=function(){return(X=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Q=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},tt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},et=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tt(arguments[e]));return t},rt=new(function(){function t(){}return t.prototype.tap=function(t,e){return e?(e(t),t):this.proxyTap(t)},t.prototype.proxyTap=function(t){var e=new Proxy(t,{get:function(t,r,n){var i=Reflect.get(t,r,n);return"function"!=typeof i?i:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return i.call.apply(i,et([t],r)),e}}});return e},t}()),nt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},it=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ot=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},at=function(){function t(){}return t.prototype.deleteModels=function(t){return nt(this,void 0,void 0,(function(){var e,r=this;return it(this,(function(n){switch(n.label){case 0:return e=this.decantDocumentModelsByContainer(t),[4,Promise.all(Object.entries(e).map((function(t){var e=ot(t,2),n=e[0],i=e[1];return r.deleteContainerDocumentsModels(n,i)})))];case 1:return n.sent(),[2]}}))}))},t.prototype.decantDocumentModelsByContainer=function(t){var e=this.decantModelsByDocument(t);return Object.entries(e).reduce((function(t,e){var r=ot(e,2),n=r[0],i=r[1],o=h.parentDirectory(n);return o in t||(t[o]=[]),t[o].push({documentUrl:n,models:i}),t}),{})},t.prototype.decantModelsByDocument=function(t){return t.reduce((function(t,e){var r=e.getDocumentUrl();return r in t||(t[r]=[]),t[r].push(e),t}),{})},t.prototype.deleteContainerDocumentsModels=function(t,e){return nt(this,void 0,void 0,(function(){var r,n=this;return it(this,(function(i){switch(i.label){case 0:return[4,o.a.requireEngine().readMany(t,{$in:e.map((function(t){return t.documentUrl}))})];case 1:return r=i.sent(),[4,Promise.all(e.map((function(e){var i=e.documentUrl,o=e.models;return n.deleteDocumentModels(r,t,i,o)})))];case 2:return i.sent(),[2]}}))}))},t.prototype.deleteDocumentModels=function(t,e,r,n){return nt(this,void 0,void 0,(function(){var i,a;return it(this,(function(s){switch(s.label){case 0:return i=o.a.requireEngine(),a=n.map((function(t){return t.url})),t[r]["@graph"].some((function(t){return!a.some((function(e){return e===t["@id"]}))}))?[3,2]:[4,i.delete(e,r)];case 1:return s.sent(),[2];case 2:return[4,i.update(e,r,{"@graph":{$updateItems:{$where:{"@id":{$in:a}},$unset:!0}}})];case 3:return s.sent(),[2]}}))}))},t}(),st=function(){return(st=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ut=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ct=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},ft=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ht=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lt(arguments[e]));return t},dt=function(){},pt=function(){function t(t,e){void 0===e&&(e=!0),this.declarations={},this.vocabs=Object.entries(t).map((function(t){var e=lt(t,2),r=e[0];return{name:r,iriPrefix:e[1],propertyPrefix:r+":",used:!1}})),this.compactIRIs=e,this.vocabs[0].name="@vocab",this.vocabs[0].propertyPrefix="",this.vocabs[0].used=!0}return t.prototype.compactIRI=function(t){var e,r;try{for(var n=ft(this.vocabs),i=n.next();!i.done;i=n.next()){var o=i.value;if(t.startsWith(o.iriPrefix))return o.used=!0,""+o.propertyPrefix+t.substr(o.iriPrefix.length)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t},t.prototype.addDeclaration=function(t,e){this.declarations[t]=e},t.prototype.toJsonLD=function(){var t=this.vocabs.filter((function(t){return t.used})).reduce((function(t,e){var r;return st(st({},t),((r={})[e.name]=e.iriPrefix,r))}),{});return st(st({},t),this.declarations)},t}(),vt=function(){function t(){}return t.prototype.serializeToJsonLD=function(t,e){var r,n;void 0===t&&(t=!0),e=e||new pt(this.modelClass.rdfContexts);var i={"@context":{},"@type":null};try{for(var o=ft(Object.entries(this.getAttributes())),a=o.next();!a.done;a=o.next()){var s=lt(a.value,2),u=s[0],c=s[1];this.setJsonLDField(i,u,c,e)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return t&&this.includeRelatedJsonLDInstances(i,e),this.setJsonLDTypes(i,e),this.setJsonLDContexts(i,e),i},t.prototype.convertJsonLDToAttributes=function(t){return ut(this,void 0,void 0,(function(){var e,r,n,i,o,a,s,u,c,l,f,h,d,p;return ct(this,(function(v){switch(v.label){case 0:return[4,V.parseJsonLD(t)];case 1:e=v.sent(),r=e.resource(t["@id"]),n=this.modelClass.fields,(i={})[this.modelClass.primaryKey]=t["@id"];try{for(o=ft(Object.entries(n)),a=o.next();!a.done;a=o.next())s=lt(a.value,2),u=s[0],c=s[1],u!==this.modelClass.primaryKey&&(l=lt(r.getPropertyValues(c.rdfProperty)),f=l[0],h=l.slice(1),void 0!==f&&(i[u]=h.length>0?ht([f],h):f))}catch(t){d={error:t}}finally{try{a&&!a.done&&(p=o.return)&&p.call(o)}finally{if(d)throw d.error}}return[2,i]}}))}))},t.prototype.convertEngineFiltersToJsonLD=function(t){var e={},r=new pt(this.modelClass.rdfContexts),n=ht(this.modelClass.rdfsClasses),i=n.map((function(t){return r.compactIRI(t)})),o=[];n.length>0&&(o.push({$contains:i}),o.push({$contains:n})),1===n.length&&(o.push({$eq:i[0]}),o.push({$eq:n[0]})),t.$in&&(e.$in=t.$in,delete t.$in);var a=this.convertAttributeValuesToJsonLD(t);return o.length>0&&(a["@type"]={$or:o}),Object.keys(a).length>0&&(e["@graph"]={$contains:a}),e},t.prototype.convertEngineUpdatesToJsonLD=function(t){return this.convertAttributeValuesToJsonLD(t)},t.prototype.setJsonLDField=function(t,e,r,n){if(e!==this.modelClass.primaryKey){var i=this.modelClass.fields[e],o=i?i.rdfProperty:this.getDefaultRdfContext()+e;this.setJsonLDProperty(t,n.compactIRIs?n.compactIRI(o):o,r,i)}else t["@id"]=r.toString()},t.prototype.includeRelatedJsonLDInstances=function(t,e){var r,n,o=this,a=this.modelClass.relations.map((function(t){return[t,o.getRelation(t)]})),s=function(r,n){if(!n.loaded||!(n instanceof i.HasManyRelation||n instanceof i.HasOneRelation))return"continue";var o=B(n.foreignKeyName,n.relatedClass.rdfContexts),a=function(t){var r=t.serializeToJsonLD(!1,e);return delete r["@context"],delete r[o],r};t[r]=n instanceof i.HasManyRelation?n.related.map((function(t){return a(t)})):a(n.related),e.addDeclaration(r,{"@reverse":o})};try{for(var u=ft(a),c=u.next();!c.done;c=u.next()){var l=lt(c.value,2);s(l[0],l[1])}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}},t.prototype.setJsonLDTypes=function(t,e){var r=ht(this.modelClass.rdfsClasses).map((function(t){return e.compactIRI(t)}));1===r.length?t["@type"]=r[0]:r.length>0&&(t["@type"]=r)},t.prototype.setJsonLDContexts=function(t,e){t["@context"]=e.toJsonLD()},t.prototype.setJsonLDProperty=function(t,e,r,n){return void 0===n&&(n=null),("object"!=typeof r||1!==Object.keys(r).length||Object.keys(r)[0].startsWith("$"))&&(r=this.castJsonLDValue(r,n)),!(r instanceof dt)&&(t[e]=r,!0)},t.prototype.castJsonLDValue=function(t,e){var r=this;switch(void 0===e&&(e=null),e&&e.type||null){case i.FieldType.Key:return{"@id":t.toString()};case i.FieldType.Date:return{"@type":"http://www.w3.org/2001/XMLSchema#dateTime","@value":new Date(t).toISOString()};case i.FieldType.Array:switch(t.length){case 0:return new dt;case 1:return this.castJsonLDValue(t[0],e.items);default:return t.map((function(t){return r.castJsonLDValue(t,e.items)}))}default:return JSON.parse(JSON.stringify(t))}},t.prototype.convertAttributeValuesToJsonLD=function(t){var e,r,n=new pt(this.modelClass.rdfContexts,!1),i={};try{for(var o=ft(Object.entries(t)),a=o.next();!a.done;a=o.next()){var s=lt(a.value,2),u=s[0],c=s[1];this.setJsonLDField(i,u,c,n)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i},t}(),yt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},bt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},mt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},wt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mt(arguments[e]));return t},_t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.__newModels=[],e.useSameDocument=!1,e}return yt(e,t),e.prototype.resolve=function(){return gt(this,void 0,void 0,(function(){var t;return bt(this,(function(e){switch(e.label){case 0:return this.__modelsInSameDocument&&this.__modelsInOtherDocumentIds?[4,this.relatedClass.all({$in:this.__modelsInOtherDocumentIds})]:[2,[]];case 1:return t=e.sent(),this.related=wt(this.__modelsInSameDocument,t),[2,this.related]}}))}))},e.prototype.create=function(t){return void 0===t&&(t={}),gt(this,void 0,void 0,(function(){var e;return bt(this,(function(r){switch(r.label){case 0:return this.assertLoaded("create"),e=this.relatedClass.newInstance(t),[4,this.save(e)];case 1:return r.sent(),[2,e]}}))}))},e.prototype.save=function(t){return gt(this,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return this.assertLoaded("save"),this.add(t),this.useSameDocument?[3,2]:[4,t.save()];case 1:return e.sent(),[3,4];case 2:return this.parent.exists()?[4,this.parent.save()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},e.prototype.add=function(t){this.assertLoaded("add"),this.related.includes(t)||this.__newModels.includes(t)||(this.parent.exists()&&this.initializeInverseRelations(t),t.exists()||this.__newModels.push(t),this.related.push(t))},e.prototype.usingSameDocument=function(t){return void 0===t&&(t=!0),this.useSameDocument=t,this},e.prototype.__loadDocumentModels=function(t,e){var r;return gt(this,void 0,void 0,(function(){var n,o,a,s,u,c=this;return bt(this,(function(l){switch(l.label){case 0:return n=new i.EngineHelper,o=null===(r=this.relatedClass.fields[this.foreignKeyName])||void 0===r?void 0:r.rdfProperty,a=this.relatedClass.prepareEngineFilters(),s=e["@graph"].filter((function(t){var e=V.getJsonLDProperty(t,o);return"object"==typeof e&&"@id"in e&&e["@id"]===c.parent.url})).reduce((function(t,e){return t[e["@id"]]={"@graph":[e]},t}),{}),u=this,[4,Promise.all(Object.entries(n.filterDocuments(s,a)).map((function(e){var r=mt(e,2),n=r[0],i=r[1];return c.relatedClass.createFromEngineDocument(t,i,n)})))];case 1:return u.__modelsInSameDocument=l.sent(),this.__modelsInOtherDocumentIds=Object.keys(s).filter((function(t){return!c.__modelsInSameDocument.some((function(e){return e.url===t}))})),this.__modelsInOtherDocumentIds.length>0?[2]:(this.related=this.__modelsInSameDocument.slice(0),[2])}}))}))},e.prototype.initializeInverseRelations=function(t){var e,r,n=this.parent.constructor;try{for(var o=_t(this.relatedClass.relations),a=o.next();!a.done;a=o.next()){var s=a.value,u=t.getRelation(s);u.relatedClass===n&&(u instanceof i.BelongsToManyRelation?(t.setAttribute(u.foreignKeyName,[this.parent.url]),u.related=[this.parent]):u instanceof i.BelongsToOneRelation&&(t.setAttribute(u.foreignKeyName,this.parent.url),u.related=this.parent))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},e.prototype.assertLoaded=function(t){if(!this.loaded){if(this.parent.exists())throw new i.SoukaiError('The "'+t+'" method cannot be called before loading the relationship');this.related=[]}},e}(i.HasManyRelation),Et=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ot=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},St=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Rt=function(t){function e(e,r){return t.call(this,e,r,"url")||this}return Et(e,t),e.prototype.resolve=function(){return Ot(this,void 0,void 0,(function(){var t,e,r;return St(this,(function(n){switch(n.label){case 0:return t=this.relatedClass.collection,e=h.parentDirectory(this.parent.url),r=this,[4,this.relatedClass.from(h.parentDirectory(e)).find(e)];case 1:return r.related=n.sent(),this.relatedClass.collection=t,[2,this.related]}}))}))},e}(i.SingleModelRelation),jt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),It=function(){return(It=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},kt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Ct=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Tt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tt(arguments[e]));return t},At=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._sourceDocumentUrl=null,e}return jt(e,t),e.from=function(t){return this.collection=t,this},e.at=function(t){return this.from(t)},e.boot=function(e){var r=this;t.boot.call(this,e),this.rdfContexts=It(It({},this.rdfContexts),{solid:"http://www.w3.org/ns/solid/terms#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",ldp:"http://www.w3.org/ns/ldp#",purl:"http://purl.org/dc/terms/"});var n=this.instance.getDefaultRdfContext();for(var i in this.instance.hasAutomaticTimestamp("createdAt")&&void 0===this.fields.createdAt.rdfProperty&&(this.fields.createdAt.rdfProperty=B("purl:created")),this.instance.hasAutomaticTimestamp("updatedAt")&&void 0===this.fields.updatedAt.rdfProperty&&(this.fields.updatedAt.rdfProperty=B("purl:modified")),this.rdfsClasses=new Set(Dt(this.rdfsClasses).map((function(t){return-1===t.indexOf(":")?n+t:B(t,r.rdfContexts)}))),this.fields)this.fields[i].rdfProperty=B(this.fields[i].rdfProperty||""+n+i,this.rdfContexts);this.fields[this.primaryKey].rdfProperty=null},e.createFromEngineDocument=function(t,e,r){return this.instance.createFromEngineDocument(t,e,r)},e.find=function(t){return kt(this,void 0,void 0,(function(){var e,r,n,i;return Ct(this,(function(a){switch(a.label){case 0:e=this.instance.serializeKey(t),r=h.route(e),n=h.parentDirectory(r),this.ensureBooted(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.a.requireEngine().readOne(n,r)];case 2:return i=a.sent(),[2,this.instance.createFromEngineDocument(r,i,e)];case 3:return a.sent(),[2,null];case 4:return[2]}}))}))},e.all=function(e){var r=this;return void 0===e&&(e={}),e=this.prepareEngineFilters(e),this.withCollection((function(){return t.all.call(r,e)}))},e.prepareEngineFilters=function(t){return void 0===t&&(t={}),this.instance.convertEngineFiltersToJsonLD(t)},e.newInstance=function(t,e){return void 0===e&&(e=!1),new this(t,e)},e.newFromJsonLD=function(t,e){return kt(this,void 0,void 0,(function(){var r,n,i,o,a,s,u,c,l,f;return Ct(this,(function(d){switch(d.label){case 0:return[4,V.flattenJsonLD(t)];case 1:return r=d.sent(),n=e||h.route(t["@id"]),[4,this.instance.parseEngineDocumentAttributes(n,r,t["@id"])];case 2:return i=d.sent(),[4,(o=new this(i)).loadDocumentModels(n,r)];case 3:d.sent(),o.resetEngineData(),a=function(t){var e=o._relations[t],r=e.getLoadedModels();r.forEach((function(t){return t.resetEngineData()})),e instanceof xt&&(r.forEach((function(t){delete t[e.foreignKeyName],e.__newModels.push(t)})),e.__modelsInSameDocument=[])};try{for(s=At(this.relations),u=s.next();!u.done;u=s.next())c=u.value,a(c)}catch(t){l={error:t}}finally{try{u&&!u.done&&(f=s.return)&&f.call(s)}finally{if(l)throw l.error}}return[2,o]}}))}))},e.withCollection=function(t,e){return void 0===t&&(t=""),kt(this,void 0,void 0,(function(){var r,n;return Ct(this,(function(o){switch(o.label){case 0:if(r=this.collection,"string"!=typeof t&&(e=t,t=""),!e)throw new i.SoukaiError("Invalid method given to withCollection (SolidModel internals)");return this.collection=t||r,[4,e()];case 1:return n=o.sent(),this.collection=r,[2,n]}}))}))},e.prototype.save=function(e){var r=this;return this.modelClass.withCollection(e||this.guessCollection(),(function(){return kt(r,void 0,void 0,(function(){var e;return Ct(this,(function(r){switch(r.label){case 0:!this.url&&this.modelClass.mintsUrls&&this.mintUrl(),r.label=1;case 1:return r.trys.push([1,3,,5]),[4,t.prototype.save.call(this)];case 2:return r.sent(),[3,5];case 3:if(!((e=r.sent())instanceof i.DocumentAlreadyExists))throw e;return this.url=this.newUniqueUrl(this.url),[4,t.prototype.save.call(this)];case 4:return r.sent(),[3,5];case 5:return[2,this]}}))}))}))},e.prototype.delete=function(){var e=this;return this.modelClass.withCollection(this.guessCollection()||"",(function(){return t.prototype.delete.call(e)}))},e.prototype.mintUrl=function(t,e,r){this.setAttribute(this.modelClass.primaryKey,this.newUrl(t,r)),t&&(this._documentExists=null==e||e)},e.prototype.toJsonLD=function(){return this.serializeToJsonLD()},e.prototype.getIdAttribute=function(){return this.getAttribute("url")},e.prototype.setExists=function(e){this._documentExists=e&&this._documentExists,t.prototype.setExists.call(this,e)},e.prototype.documentExists=function(){return this._documentExists},e.prototype.setDocumentExists=function(t){this._documentExists=t},e.prototype.isDirty=function(e){return e?t.prototype.isDirty.call(this,e):!!t.prototype.isDirty.call(this)||this.getDirtyDocumentModels().length>0},e.prototype.getDocumentUrl=function(){return this.url?h.route(this.url):null},e.prototype.getSourceDocumentUrl=function(){return this._sourceDocumentUrl},e.prototype.getContainerUrl=function(){var t=this.getDocumentUrl();return t?h.parentDirectory(t):null},e.prototype.getSourceContainerUrl=function(){var t=this.getSourceDocumentUrl();return t?h.parentDirectory(t):null},e.prototype.initialize=function(e,r){t.prototype.initialize.call(this,e,r),this._documentExists=r},e.prototype.createFromEngineDocument=function(t,e,r){return kt(this,void 0,void 0,(function(){var n,i=this;return Ct(this,(function(o){switch(o.label){case 0:return[4,function(){return kt(i,void 0,void 0,(function(){var n;return Ct(this,(function(i){switch(i.label){case 0:return[4,this.parseEngineDocumentAttributes(t,e,r)];case 1:return(n=i.sent())[this.modelClass.primaryKey]=r||t,[2,new this.modelClass(n,!0)]}}))}))}()];case 1:return[4,(n=o.sent()).loadDocumentModels(t,e)];case 2:return o.sent(),[2,rt.tap(n,(function(e){return e._sourceDocumentUrl=t}))]}}))}))},e.prototype.createManyFromEngineDocuments=function(t){return kt(this,void 0,void 0,(function(){var e,r,n,i=this;return Ct(this,(function(o){switch(o.label){case 0:return e=Dt(this.modelClass.rdfsClasses),r=function(t){return!e.some((function(e){return!t.isType(e)}))},[4,Promise.all(Object.entries(t).map((function(t){var e=Tt(t,2),n=e[0],o=e[1];return kt(i,void 0,void 0,(function(){var t,e=this;return Ct(this,(function(i){switch(i.label){case 0:return[4,V.parseJsonLD(o)];case 1:return t=i.sent(),[2,Promise.all(t.resources.filter(r).map((function(t){return kt(e,void 0,void 0,(function(){return Ct(this,(function(e){return[2,this.createFromEngineDocument(n,o,t.url)]}))}))})))]}}))}))})))];case 1:return n=o.sent(),[2,S.flatten(n)]}}))}))},e.prototype.loadDocumentModels=function(t,e){return kt(this,void 0,void 0,(function(){var r;return Ct(this,(function(n){switch(n.label){case 0:return r=Object.values(this._relations).filter((function(t){return t instanceof xt||t instanceof Y})),[4,Promise.all(r.map((function(r){return r.__loadDocumentModels(t,e)})))];case 1:return n.sent(),[2]}}))}))},e.prototype.syncDirty=function(){return kt(this,void 0,void 0,(function(){var t,e,r,n,i,a,s=this;return Ct(this,(function(u){switch(u.label){case 0:return t=o.a.requireEngine(),e=this.getSerializedPrimaryKey(),r=this.getDocumentUrl(),n=function(){return t.create(s.modelClass.collection,s.toEngineDocument(),r||void 0)},i=function(){return t.update(s.modelClass.collection,r,{"@graph":{$push:s.serializeToJsonLD(!1)}})},a=function(){return t.update(s.modelClass.collection,r,s.getDirtyEngineDocumentUpdates())},[4,function(){return s._documentExists?s._exists?a():i():n()}()];case 1:return u.sent(),[2,e]}}))}))},e.prototype.cleanDirty=function(){var e,r,n;t.prototype.cleanDirty.call(this),this.getDirtyDocumentModels().map((function(t){return t.cleanDirty()})),this._documentExists=!0;var i=Object.values(this._relations).filter((function(t){return t instanceof xt&&t.useSameDocument}));try{for(var o=At(i),a=o.next();!a.done;a=o.next()){var s=a.value;s.__modelsInSameDocument=s.__modelsInSameDocument||[],(n=s.__modelsInSameDocument).push.apply(n,Dt(s.__newModels)),s.__newModels=[]}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},e.prototype.deleteModelsFromEngine=function(t){return kt(this,void 0,void 0,(function(){return Ct(this,(function(e){switch(e.label){case 0:return[4,this.deleteModels(t)];case 1:return e.sent(),[2]}}))}))},e.prototype.hasMany=function(t,e,r){return new xt(this,t,e,r)},e.prototype.belongsToMany=function(t,e,r){return new Y(this,t,e,r)},e.prototype.isContainedBy=function(t){return new Rt(this,t)},e.prototype.getDefaultRdfContext=function(){return Object.values(this.modelClass.rdfContexts).shift()||""},e.prototype.toEngineDocument=function(){return{"@graph":Dt([this.serializeToJsonLD(!1)],this.prepareDirtyDocumentModels().map((function(t){return t.serializeToJsonLD(!1)})))}},e.prototype.getDirtyEngineDocumentUpdates=function(){var e=[];if(e.push.apply(e,Dt(this.prepareDirtyDocumentModels().map((function(t){return{$push:t.serializeToJsonLD(!1)}})))),t.prototype.isDirty.call(this)){var r=t.prototype.getDirtyEngineDocumentUpdates.call(this);e.push({$updateItems:{$where:{"@id":this.url},$update:this.convertEngineUpdatesToJsonLD(r)}})}return 1===e.length?{"@graph":e[0]}:{"@graph":{$apply:e}}},e.prototype.parseEngineDocumentAttributes=function(t,e,r){return void 0===r&&(r=null),kt(this,void 0,void 0,(function(){var n;return Ct(this,(function(i){return r=r||t,n=e["@graph"].find((function(t){return t["@id"]===r})),[2,this.convertJsonLDToAttributes(n)]}))}))},e.prototype.castAttribute=function(e,r){return r&&r.type===i.FieldType.Array&&!Array.isArray(e)?[e]:t.prototype.castAttribute.call(this,e,r)},e.prototype.newUrl=function(t,e){return(t=null!=t?t:h.resolve(this.modelClass.collection,$.generate()))+"#"+(null!=e?e:this.modelClass.defaultResourceHash)},e.prototype.newUniqueUrl=function(t){return(t=null!=t?t:this.newUrl())+"-"+$.generate()},e.prototype.guessCollection=function(){if(this.url)return h.parentDirectory(this.url)},e.prototype.getDirtyDocumentModels=function(){var t=this,e=this.getDocumentUrl();return S.flatten(Object.values(this._relations).filter((function(t){return t.loaded&&t instanceof xt&&t.useSameDocument})).map((function(r){var n,i,o=Dt(r.__newModels),a=function(t){if(!t.isDirty()||t.getDocumentUrl()!==e||o.some((function(e){return e===t})))return"continue";o.push(t)};try{for(var s=At(r.getLoadedModels()),u=s.next();!u.done;u=s.next())a(u.value)}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o.forEach((function(e){return e.setAttribute(r.foreignKeyName,t.url)})),o})))},e.prototype.prepareDirtyDocumentModels=function(){var t=this,e=this.getDirtyDocumentModels();if(0===e.length)return[];this.url||this.mintUrl();var r=this.getDocumentUrl();return e.forEach((function(e){return!e.url&&e.mintUrl(r,t._documentExists,$.generate())})),e},e.primaryKey="url",e.rdfContexts={},e.rdfsClasses=[],e.defaultResourceHash="it",e.mintsUrls=!0,e}(i.Model);!function(t,e){var r,n,i=e.reduce((function(t,e){return X(X({},t),Object.getOwnPropertyDescriptors(e.prototype))}),{});try{for(var o=Q(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=Z(a.value,2),u=s[0],c=s[1];Object.defineProperty(t.prototype,u,c)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}(Pt,[at,vt]);var Lt,Nt=Pt,Ut=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ut(e,t),e.timestamps=["updatedAt"],e}(Nt),Ft=function(t,e){this.resourceUrl=t,this.newResourceUrl=e,this.type=2},Bt=function(t,e,r){this.resourceUrl=t,this.property=e,this.value=r,this.type=1},Vt=function(t){this.property=t,this.type=0},Gt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(t){t.RDF="RDF"}(Lt||(Lt={}));var $t=function(t){function e(e,r,n){var i=t.call(this,"Malformed "+r+" document found at "+e+" - "+n)||this;return i.documentUrl=e,i.documentFormat=r,i.malformationDetails=n,i}return Gt(e,t),e}(i.SoukaiError),qt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jt=function(t){function e(e,r){var n=t.call(this,e+" ("+r.message+")")||this;return n.original=r,n}return qt(e,t),e}(i.SoukaiError),Kt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Ht=new(function(){function t(){}return t.prototype.createMap=function(t,e){var r,n,i={};try{for(var o=Kt(t),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[e]]=s}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.prototype.deepEquals=function(t,e){if(t===e)return!0;var r=typeof t;if(r!==typeof e)return!1;if("object"!==r||null===t||null===e)return!1;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!this.deepEquals(t[n],e[n]))return!1;return!0},t.prototype.withoutEmpty=function(t){var e,r,n={};try{for(var i=Kt(Object.entries(t)),o=i.next();!o.done;o=i.next()){var a=zt(o.value,2),s=a[0],u=a[1];null!=u&&(n[s]=u)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t}()),Wt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Yt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Xt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Qt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xt(arguments[e]));return t},Zt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},te=[B("ldp:contains"),B("posix:mtime"),B("posix:size"),B("purl:modified")],ee=[B("ldp:Container"),B("ldp:BasicContainer")],re=function(){function t(t){var e=this;this.fetch=function(r,n){return Wt(e,void 0,void 0,(function(){var e,i;return Yt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(r,n)];case 1:return[2,o.sent()];case 2:throw e=o.sent(),i="object"==typeof r?r.url:r,new Jt("Error fetching "+i,e);case 3:return[2]}}))}))}}return t.prototype.createDocument=function(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=[]),Wt(this,void 0,void 0,(function(){var n;return Yt(this,(function(i){return n=B("ldp:Container"),[2,r.some((function(t){return t.resourceUrl===e&&0===t.type&&t.value===n}))?this.createContainerDocument(t,e,r):this.createNonContainerDocument(t,e,r)]}))}))},t.prototype.getDocument=function(t){return Wt(this,void 0,void 0,(function(){var e,r,n;return Yt(this,(function(i){switch(i.label){case 0:return[4,this.fetch(t,{headers:{Accept:"text/turtle"}})];case 1:return 200!==(e=i.sent()).status?[2,null]:[4,e.text()];case 2:r=i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,V.parseTurtle(r,{headers:e.headers,baseUrl:t})];case 4:return[2,i.sent()];case 5:throw n=i.sent(),new $t(t,Lt.RDF,n.message);case 6:return[2]}}))}))},t.prototype.getDocuments=function(t,e){return void 0===e&&(e=!1),Wt(this,void 0,void 0,(function(){var r,n;return Yt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),e?[4,this.getContainerDocuments(t)]:[3,2];case 1:return r=i.sent(),[3,4];case 2:return[4,this.getNonContainerDocumentsUsingGlobbing(t)];case 3:r=i.sent(),i.label=4;case 4:return[2,r];case 5:if((n=i.sent())instanceof F)throw new $t(t,Lt.RDF,n.message);return console.error(n),[2,[]];case 6:return[2]}}))}))},t.prototype.updateDocument=function(t,e){var r;return Wt(this,void 0,void 0,(function(){var n;return Yt(this,(function(o){switch(o.label){case 0:return 0===e.length?[2]:[4,this.getDocument(t)];case 1:if(null===(n=o.sent()))throw new i.DocumentNotFound(t);return this.processChangeUrlOperations(n,e),this.processUpdatePropertyOperations(n,e),(null===(r=n.resource(t))||void 0===r?void 0:r.isType(B("ldp:Container")))?[4,this.updateContainerDocument(n,e)]:[3,3];case 2:return o.sent(),[3,5];case 3:return[4,this.updateNonContainerDocument(n,e)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))},t.prototype.deleteDocument=function(t){var e;return Wt(this,void 0,void 0,(function(){var r,n,i,o=this;return Yt(this,(function(a){switch(a.label){case 0:return[4,this.getDocument(t)];case 1:return null===(r=a.sent())?[2]:(null===(e=r.resource(t))||void 0===e?void 0:e.isType(B("ldp:Container")))?[4,Promise.all([this.getDocuments(t,!0),this.getDocuments(t)])]:[3,4];case 2:return n=a.sent(),[4,Promise.all(S.flatten(n).map((function(t){return o.deleteDocument(t.url)})))];case 3:a.sent(),a.label=4;case 4:return[4,this.fetch(t,{method:"DELETE"})];case 5:return i=a.sent(),this.assertSuccessfulResponse(i,"Error deleting document at "+t),[2]}}))}))},t.prototype.documentExists=function(t){return Wt(this,void 0,void 0,(function(){var e;return Yt(this,(function(r){switch(r.label){case 0:return[4,this.fetch(t,{headers:{Accept:"text/turtle"}})];case 1:return 200!==(e=r.sent()).status?[3,3]:[4,e.text()];case 2:return[2,r.sent().length>0];case 3:if(404===e.status)return[2,!1];throw new i.SoukaiError("Couldn't determine if document at "+t+" exists, got "+e.status+" response");case 4:return[2]}}))}))},t.prototype.createContainerDocument=function(t,e,r){return Wt(this,void 0,void 0,(function(){var n,o;return Yt(this,(function(a){switch(a.label){case 0:if(e&&!e.startsWith(t))throw new i.SoukaiError("Explicit document url should start with the parent url");if(e&&!e.endsWith("/"))throw new i.SoukaiError("Container urls must end with a trailing slash, given "+e);return n=e?"at "+e:"under "+t,[4,this.fetch(t,{method:"POST",headers:Ht.withoutEmpty({"Content-Type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',Slug:e?h.directoryName(e):null}),body:m.toTurtle(this.withoutReservedContainerProperties(e,r),e)})];case 1:return o=a.sent(),this.assertSuccessfulResponse(o,"Error creating container "+n),[2,e||h.resolve(t,o.headers.get("Location")||"")]}}))}))},t.prototype.createNonContainerDocument=function(t,e,r){return Wt(this,void 0,void 0,(function(){var n,o;return Yt(this,(function(a){switch(a.label){case 0:return e?[3,2]:[4,this.fetch(t,{headers:{"Content-Type":"text/turtle"},method:"POST",body:m.toTurtle(r,e)})];case 1:return n=a.sent(),this.assertSuccessfulResponse(n,"Error creating document under "+t),[2,h.resolve(t,n.headers.get("Location")||"")];case 2:if(!e.startsWith(t))throw new i.SoukaiError("A minted document url should start with the parent url");return[4,this.fetch(e,{method:"PATCH",headers:{"Content-Type":"application/sparql-update","If-None-Match":"*"},body:"INSERT DATA { "+m.toTurtle(r,e)+" }"})];case 3:return o=a.sent(),this.assertSuccessfulResponse(o,"Error creating document at "+e),[2,e]}}))}))},t.prototype.getContainerDocuments=function(t){var e;return Wt(this,void 0,void 0,(function(){var r,n,i,o=this;return Yt(this,(function(a){switch(a.label){case 0:return[4,this.fetch(t,{headers:{Accept:"text/turtle"}})];case 1:return r=a.sent(),this.assertSuccessfulResponse(r,"Error getting container documents from "+t),[4,r.text()];case 2:return n=a.sent(),[4,V.parseTurtle(n,{baseUrl:t})];case 3:return i=a.sent(),[4,Promise.all((null===(e=i.resource(t))||void 0===e?void 0:e.getPropertyValues("ldp:contains").map((function(t){return i.resource(t)})).filter((function(t){return null!==t&&t.isType("ldp:Container")})).map((function(t){return o.getDocument(t.url)})))||[])];case 4:return[2,a.sent()]}}))}))},t.prototype.getNonContainerDocumentsUsingGlobbing=function(t){return Wt(this,void 0,void 0,(function(){var e,r,n,i;return Yt(this,(function(o){switch(o.label){case 0:return[4,this.fetch(t+"*",{headers:{Accept:"text/turtle"}})];case 1:return e=o.sent(),this.assertSuccessfulResponse(e,"Error getting container documents using globbing from "+t),[4,e.text()];case 2:return r=o.sent(),[4,V.parseTurtle(r,{baseUrl:t})];case 3:return n=o.sent(),i=n.statements.reduce((function(t,e){var r=h.clean(e.subject.value,{fragment:!1});return r in t||(t[r]=[]),t[r].push(e),t}),{}),[2,Object.entries(i).map((function(t){var e=Xt(t,2),r=e[0],n=e[1];return new C(r,n)}))]}}))}))},t.prototype.updateContainerDocument=function(t,e){return Wt(this,void 0,void 0,(function(){var r,n;return Yt(this,(function(i){switch(i.label){case 0:return r=function(e){return new Bt(t.url,e)},n=function(e){return new Bt(t.url,B("rdf:type"),e)},e.push.apply(e,Qt(te.map(r))),e.push.apply(e,Qt(ee.map(n))),[4,this.updateNonContainerDocument(t.clone(t.metadata.describedBy||t.url+".meta"),e)];case 1:return i.sent(),[2]}}))}))},t.prototype.updateNonContainerDocument=function(t,e){return Wt(this,void 0,void 0,(function(){var r,n,i,o,a,s;return Yt(this,(function(u){switch(u.label){case 0:return r=Xt(function(t){return t.reduce((function(t,e){switch(e.type){case 0:t[0].push(e.property);break;case 1:t[1].push(S.filter([e.resourceUrl,e.property,e.value]))}return t}),[[],[]])}(e),2),n=r[0],i=r[1],o=m.toTurtle(n,t.url),a=m.toTurtle(t.properties.filter((function(t){return i.some((function(e){var r=Xt(e,3),n=r[0],i=r[1],o=r[2];return!(n!==t.resourceUrl||i&&i!==t.name||o&&o!==t.value)}))})),t.url),[4,this.fetch(t.url,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:S.filter([a.length>0&&"DELETE DATA { "+a+" }",o.length>0&&"INSERT DATA { "+o+" }"]).join(" ; ")})];case 1:return s=u.sent(),this.assertSuccessfulResponse(s,"Error updating document at "+t.url),[2]}}))}))},t.prototype.withoutReservedContainerProperties=function(t,e){return e.filter((function(e){return e.resourceUrl!==t||!function(t){return S.contains(te,t.name)}(e)&&!function(t){return 0===t.type&&S.contains(ee,t.value)}(e)}))},t.prototype.processChangeUrlOperations=function(t,e){var r,n,i=function(t){var e;return t.reduce((function(t,e){return t[e.type].push(e),t}),((e={})[0]=[],e[1]=[],e[2]=[],e))}(e),o=function(r){var n=t.resource(r.resourceUrl);if(!n)return"continue";var o=i[0].filter((function(t){return t.property.resourceUrl===r.resourceUrl})),a=i[1].filter((function(t){return t.resourceUrl===r.resourceUrl}));o.forEach((function(t){return t.property=t.property.clone(r.newResourceUrl)})),a.forEach((function(t){return t.resourceUrl=r.newResourceUrl})),e.push(new Bt(r.resourceUrl)),e.push.apply(e,Qt(n.properties.filter((function(t){return!o.some((function(e){return e.property.name===t.name}))&&!a.some((function(e){return!e.property||e.property===t.name}))})).map((function(t){return new Vt(t.clone(r.newResourceUrl))})))),S.removeItem(e,r)};try{for(var a=Zt(i[2]),s=a.next();!s.done;s=a.next())o(s.value)}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.processUpdatePropertyOperations=function(t,e){var r,n,i=e.filter((function(e){return 0===e.type&&0!==e.property.type&&t.hasProperty(e.property.resourceUrl,e.property.name)}));try{for(var o=Zt(i),a=o.next();!a.done;a=o.next()){var s=a.value.property;e.push(new Bt(s.resourceUrl,s.name))}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.assertSuccessfulResponse=function(t,e){if(2!==Math.floor(t.status/100))throw new i.SoukaiError(e+", returned "+t.status+" status code")},t}(),ne=function(){return(ne=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ie=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},oe=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ae=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},se=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ae(arguments[e]));return t},ue=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ce=function(){function t(t,e){void 0===e&&(e={}),this.listeners=[],this.helper=new i.EngineHelper,this.client=new re(t),this.config=ne({globbingBatchSize:5},e)}return t.prototype.create=function(t,e,r){return ie(this,void 0,void 0,(function(){var n,o;return oe(this,(function(a){switch(a.label){case 0:return this.validateJsonLDGraph(e),(n=r)?[4,this.client.documentExists(r)]:[3,2];case 1:n=a.sent(),a.label=2;case 2:if(n)throw new i.DocumentAlreadyExists(r);return[4,this.getJsonLDGraphProperties(e)];case 3:return o=a.sent(),[4,this.client.createDocument(t,r,o)];case 4:return[2,a.sent()]}}))}))},t.prototype.readOne=function(t,e){return ie(this,void 0,void 0,(function(){var t,r;return oe(this,(function(n){switch(n.label){case 0:return[4,this.client.getDocument(e)];case 1:if(null===(t=n.sent()))throw new i.DocumentNotFound(e);return r=this.convertToEngineDocument(t),this.emit("onRDFDocumentLoaded",t.url,t.metadata),[2,r]}}))}))},t.prototype.readMany=function(t,e){return void 0===e&&(e={}),ie(this,void 0,void 0,(function(){var r,n,i=this;return oe(this,(function(o){switch(o.label){case 0:return[4,this.getDocumentsForFilters(t,e)];case 1:return r=o.sent(),n=r.reduce((function(t,e){return t[e.url]=i.convertToEngineDocument(e),i.emit("onRDFDocumentLoaded",e.url,e.metadata),t}),{}),[2,this.helper.filterDocuments(n,e)]}}))}))},t.prototype.update=function(t,e,r){return ie(this,void 0,void 0,(function(){var t;return oe(this,(function(n){switch(n.label){case 0:return[4,this.extractJsonLDGraphUpdate(r)];case 1:return t=n.sent(),[4,this.client.updateDocument(e,t)];case 2:return n.sent(),[2]}}))}))},t.prototype.delete=function(t,e){return ie(this,void 0,void 0,(function(){return oe(this,(function(t){switch(t.label){case 0:return[4,this.client.deleteDocument(e)];case 1:return t.sent(),[2]}}))}))},t.prototype.addListener=function(t){this.listeners.push(t)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);-1!==e&&this.listeners.splice(e,1)},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.listeners.forEach((function(r){var n;return null===(n=r[t])||void 0===n?void 0:n.call.apply(n,se([r],e))}))},t.prototype.getDocumentsForFilters=function(t,e){return ie(this,void 0,void 0,(function(){var r,n;return oe(this,(function(i){switch(i.label){case 0:return r=this.extractJsonLDGraphTypes(e),e.$in?[4,this.getDocumentsFromUrls(e.$in,r)]:[3,2];case 1:return n=i.sent(),[3,4];case 2:return[4,this.getContainerDocuments(t,r)];case 3:n=i.sent(),i.label=4;case 4:return[2,n]}}))}))},t.prototype.getDocumentsFromUrls=function(t,e){return ie(this,void 0,void 0,(function(){var r,n,i,o=this;return oe(this,(function(a){switch(a.label){case 0:return r=t.reduce((function(t,e){var r,n=h.parentDirectory(e);return ne(ne({},t),((r={})[n]=se(t[n]||[],[e]),r))}),{}),n=Object.entries(r).map((function(t){var r=ae(t,2),n=r[0],i=r[1];return ie(o,void 0,void 0,(function(){var t,r=this;return oe(this,(function(o){switch(o.label){case 0:return null!==this.config.globbingBatchSize&&i.length>=this.config.globbingBatchSize?[2,this.getContainerDocuments(n,e)]:(t=i.map((function(t){return r.client.getDocument(t)})),[4,Promise.all(t)]);case 1:return[2,o.sent().filter((function(t){return null!=t}))]}}))}))})),[4,Promise.all(n)];case 1:return i=a.sent(),[2,S.flatten(i)]}}))}))},t.prototype.getContainerDocuments=function(t,e){return ie(this,void 0,void 0,(function(){return oe(this,(function(r){switch(r.label){case 0:return[4,this.client.getDocuments(t,-1!==e.indexOf(B("ldp:Container")))];case 1:return[2,r.sent()]}}))}))},t.prototype.convertToEngineDocument=function(t){return{"@graph":t.resources.map((function(t){var e,r,n={},i=function(t,e){var r=ae(e),i=r[0],o=r.slice(1),a=t,s=function(t){return t};switch(i.type){case 0:a="@type";break;case 1:s=function(t){return{"@id":t}};break;case 2:s=function(t){return t instanceof Date?{"@type":"http://www.w3.org/2001/XMLSchema#dateTime","@value":t.toISOString()}:t}}n[a]=0===o.length?s(i.value):se([i],o).map((function(t){return s(t.value)}))};try{for(var o=ue(Object.entries(t.propertiesIndex)),a=o.next();!a.done;a=o.next()){var s=ae(a.value,2);i(s[0],s[1])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n["@id"]=t.url,n}))}},t.prototype.validateJsonLDGraph=function(t){if(!Array.isArray(t["@graph"]))throw new i.SoukaiError("Invalid JSON-LD graph provided for SolidEngine. Are you using a model that isn't a SolidModel?")},t.prototype.extractJsonLDGraphUpdate=function(t){return ie(this,void 0,void 0,(function(){var e,r,n=this;return oe(this,(function(o){switch(o.label){case 0:if(!this.isJsonLDGraphUpdate(t))throw new i.SoukaiError("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");return e=[],t["@graph"].$updateItems&&e.push.apply(e,se(S.flatten(S.create(t["@graph"].$updateItems).map((function(t){return n.extractJsonLDGraphItemsUpdate(t)}))))),t["@graph"].$push?[4,this.extractJsonLDGraphItemPush(t["@graph"].$push)]:[3,2];case 1:r=o.sent(),e.push.apply(e,se(r)),o.label=2;case 2:return[2,e]}}))}))},t.prototype.extractJsonLDGraphItemsUpdate=function(t){var e,r,n=t.$where,o=t.$update,a=t.$unset;if(!n||!("@id"in n))throw new i.SoukaiError("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");if(a)return n["@id"].$in.map((function(t){return new Bt(t)}));var s=n["@id"],u=o,c=[];try{for(var l=ue(Object.entries(u)),f=l.next();!f.done;f=l.next()){var h=ae(f.value,2),d=h[0],p=h[1];if(null===p)throw new i.SoukaiError("SolidEngine doesn't support setting properties to null, delete");"object"==typeof p&&"$unset"in p?c.push(new Bt(s,d)):"object"==typeof p&&"@id"in p?c.push(new Vt(m.reference(s,d,p["@id"]))):"object"==typeof p&&"@type"in p&&"http://www.w3.org/2001/XMLSchema#dateTime"===p["@type"]?c.push(new Vt(m.literal(s,d,new Date(p["@value"])))):"@id"!==d?"@type"!==d?c.push(new Vt(m.literal(s,d,p))):c.push(new Vt(m.type(s,p))):c.push(new Ft(s,p))}}catch(t){e={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return c},t.prototype.extractJsonLDGraphItemPush=function(t){return ie(this,void 0,void 0,(function(){return oe(this,(function(e){switch(e.label){case 0:return[4,this.getJsonLDGraphProperties(t)];case 1:return[2,e.sent().map((function(t){return new Vt(t)}))]}}))}))},t.prototype.extractJsonLDGraphTypes=function(t){if(!this.isJsonLDGraphTypesFilter(t))return[];var e=t["@graph"].$contains["@type"].$or.reduce((function(t,e){return"$contains"in e&&t.push.apply(t,se(e.$contains)),"$eq"in e&&t.push(e.$eq),t}),[]);return S.unique(e.filter((function(t){return t.startsWith("http")})))},t.prototype.getJsonLDGraphProperties=function(t){return ie(this,void 0,void 0,(function(){return oe(this,(function(e){switch(e.label){case 0:return[4,V.parseJsonLD(t)];case 1:return[2,e.sent().properties]}}))}))},t.prototype.isJsonLDGraphUpdate=function(t){return"object"==typeof t["@graph"]&&("object"==typeof t["@graph"].$updateItems||"object"==typeof t["@graph"].$push)},t.prototype.isJsonLDGraphTypesFilter=function(t){return"object"==typeof t["@graph"]&&"object"==typeof t["@graph"].$contains&&"object"==typeof t["@graph"].$contains["@type"]&&Array.isArray(t["@graph"].$contains["@type"].$or)},t}(),le=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fe=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},he=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},de=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},pe=function(t){function e(e){return t.call(this,e,Mt,"resourceUrls")||this}return le(e,t),Object.defineProperty(e.prototype,"container",{get:function(){return this.parent},enumerable:!0,configurable:!0}),e.prototype.resolve=function(){return fe(this,void 0,void 0,(function(){var e,r=this;return he(this,(function(n){switch(n.label){case 0:return o.a.engine instanceof ce?[2,t.prototype.resolve.call(this)]:[4,o.a.engine.readMany(this.container.getDocumentUrl())];case 1:return e=n.sent(),this.related=Object.entries(e).map((function(t){var e=de(t,2),n=e[0],i=e[1];return new Mt({url:n,updatedAt:r.getLatestUpdateDate(i["@graph"])})})),[2,this.related]}}))}))},e.prototype.getLatestUpdateDate=function(t){var e=t.reduce((function(t,e){var r,n,i,o,a=(null!==(o=null!==(i=null!==(n=null!==(r=e["purl:modified"])&&void 0!==r?r:e["http://purl.org/dc/terms/modified"])&&void 0!==n?n:e["purl:created"])&&void 0!==i?i:e["http://purl.org/dc/terms/created"])&&void 0!==o?o:{"@value":0})["@value"],s=new Date(a).getTime();return Math.max(t,s)}),0);return new Date(e)},e}(Y),ve=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ye=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ge=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},be=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},me=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(be(arguments[e]));return t},we=function(t){function e(e,r){return t.call(this,e,r,"resourceUrls","url")||this}return ve(e,t),e.prototype.resolve=function(){return ye(this,void 0,void 0,(function(){var t;return ge(this,(function(e){switch(e.label){case 0:return t=this,[4,this.relatedClass.from(this.parent.url).all({$in:this.parent.resourceUrls})];case 1:return t.related=e.sent(),[2,this.related]}}))}))},e.prototype.create=function(t){return void 0===t&&(t={}),ye(this,void 0,void 0,(function(){var e;return ge(this,(function(r){switch(r.label){case 0:return e=this.relatedClass.newInstance(t),[4,this.save(e)];case 1:return r.sent(),[2,e]}}))}))},e.prototype.save=function(t){return ye(this,void 0,void 0,(function(){return ge(this,(function(e){switch(e.label){case 0:if(!this.parent.exists())throw new i.SoukaiError("Cannot save a model because the container doesn't exist");return[4,t.save(this.parent.url)];case 1:return e.sent(),o.a.engine instanceof ce?[3,3]:[4,this.parent.update({resourceUrls:me(this.parent.resourceUrls,[t.getDocumentUrl()])})];case 2:e.sent(),e.label=3;case 3:return this.loaded&&this.related.push(t),[2]}}))}))},e}(i.BelongsToManyRelation),_e=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xe=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Ee=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _e(e,t),e.boot=function(e){t.boot.call(this,e),this.rdfsClasses.add(B("ldp:Container")),this.fields.resourceUrls={type:i.FieldType.Array,required:!1,rdfProperty:"http://www.w3.org/ns/ldp#contains",items:{type:i.FieldType.Key}},Mt.boot("SolidDocument")},e.prototype.documentsRelationship=function(){return new pe(this)},e.prototype.save=function(e){return xe(this,void 0,void 0,(function(){return Ee(this,(function(r){switch(r.label){case 0:return[4,t.prototype.save.call(this,e)];case 1:return r.sent(),this.wasRecentlyCreated()&&!this.isRelationLoaded("documents")&&this.setRelationModels("documents",[]),[2,this]}}))}))},e.prototype.contains=function(t){return new we(this,t)},e.prototype.newUrl=function(){var t=this.hasAttribute("name")?G.slug(this.getAttribute("name")):$.generate();return h.resolveDirectory(this.modelClass.collection,t)},e.prototype.newUniqueUrl=function(t){t=null!=t?t:this.newUrl();var e=$.generate(),r=h.directoryName(t);return h.resolveDirectory(h.parentDirectory(t),r+"-"+e)},e}(Nt),Se=new(function(){function t(){}return t.prototype.loadSolidModels=function(){o.a.loadModels({SolidDocument:Mt})},t}());e.default=Se}])}))},e01a:function(t,e,r){"use strict";var n=r("23e7"),i=r("83ab"),o=r("da84"),a=r("5135"),s=r("861d"),u=r("9bf2").f,c=r("e893"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};c(h,l);var d=h.prototype=l.prototype;d.constructor=h;var p=d.toString,v="Symbol(test)"==String(l("test")),y=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(f,t))return"";var r=v?e.slice(7,-1):e.replace(y,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},e163:function(t,e,r){var n=r("5135"),i=r("7b0b"),o=r("f772"),a=r("e177"),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},e177:function(t,e,r){var n=r("d039");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,r){"use strict";var n=r("fc6a"),i=r("44d2"),o=r("3f8c"),a=r("69f3"),s=r("7dd0"),u="Array Iterator",c=a.set,l=a.getterFor(u);t.exports=s(Array,"Array",(function(t,e){c(this,{type:u,target:n(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(t,e,r){var n=r("6eeb");t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},e372:function(t,e,r){e=t.exports=r("ad71"),e.Stream=e,e.Readable=e,e.Writable=r("dc14"),e.Duplex=r("b19a"),e.Transform=r("27bf"),e.PassThrough=r("780f")},e3db:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},e423:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return l}));var n=r("276c"),i=r("e954"),o=r("92a6"),a=r("920b"),s=r("ddbf"),u=r("dfab"),c=r("6ea5"),l=function(t){Object(a["a"])(r,t);var e=Object(o["a"])(r);function r(){return Object(n["a"])(this,r),e.apply(this,arguments)}return Object(i["a"])(r,[{key:"movieRelationship",value:function(){return this.belongsToOne(c["default"],"object")}},{key:"fixLegacyAttributes",value:function(t,e){this._attributes.url=t,this._attributes.object=e}}]),r}(u["SolidModel"]);l.ldpResource=!1,l.rdfContexts={schema:"https://schema.org/"},l.rdfsClasses=["schema:WatchAction"],l.timestamps=["createdAt"],l.fields={object:{type:s["FieldType"].Key,rdfProperty:"schema:object",required:!0},startTime:s["FieldType"].Date,endTime:s["FieldType"].Date}},e439:function(t,e,r){var n=r("23e7"),i=r("d039"),o=r("fc6a"),a=r("06cf").f,s=r("83ab"),u=i((function(){a(1)})),c=!s||u;n({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e43f:function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r("bd36"))},e538:function(t,e,r){var n=r("b622");e.f=n},e58c:function(t,e,r){"use strict";var n=r("fc6a"),i=r("a691"),o=r("50c4"),a=r("a640"),s=r("ae40"),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),d=l||!f||!h;t.exports=d?function(t){if(l)return c.apply(this,arguments)||0;var e=n(this),r=o(e.length),a=r-1;for(arguments.length>1&&(a=u(a,i(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:c},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e6cf:function(t,e,r){"use strict";var n,i,o,a,s=r("23e7"),u=r("c430"),c=r("da84"),l=r("d066"),f=r("fea9"),h=r("6eeb"),d=r("e2cc"),p=r("d44e"),v=r("2626"),y=r("861d"),g=r("1c0b"),b=r("19aa"),m=r("c6b6"),w=r("8925"),_=r("2266"),x=r("1c7e"),E=r("4840"),O=r("2cf4").set,S=r("b575"),R=r("cdf9"),j=r("44de"),I=r("f069"),k=r("e667"),C=r("69f3"),T=r("94ca"),D=r("b622"),A=r("2d00"),P=D("species"),L="Promise",N=C.get,U=C.set,M=C.getterFor(L),F=f,B=c.TypeError,V=c.document,G=c.process,$=l("fetch"),q=I.f,J=q,K="process"==m(G),z=!!(V&&V.createEvent&&c.dispatchEvent),H="unhandledrejection",W="rejectionhandled",Y=0,X=1,Q=2,Z=1,tt=2,et=T(L,(function(){var t=w(F)!==String(F);if(!t){if(66===A)return!0;if(!K&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype["finally"])return!0;if(A>=51&&/native code/.test(F))return!1;var e=F.resolve(1),r=function(t){t((function(){}),(function(){}))},n=e.constructor={};return n[P]=r,!(e.then((function(){}))instanceof r)})),rt=et||!x((function(t){F.all(t)["catch"]((function(){}))})),nt=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},it=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){var i=e.value,o=e.state==X,a=0;while(n.length>a){var s,u,c,l=n[a++],f=o?l.ok:l.fail,h=l.resolve,d=l.reject,p=l.domain;try{f?(o||(e.rejection===tt&&ut(t,e),e.rejection=Z),!0===f?s=i:(p&&p.enter(),s=f(i),p&&(p.exit(),c=!0)),s===l.promise?d(B("Promise-chain cycle")):(u=nt(s))?u.call(s,h,d):h(s)):d(i)}catch(v){p&&!c&&p.exit(),d(v)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&at(t,e)}))}},ot=function(t,e,r){var n,i;z?(n=V.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},(i=c["on"+t])?i(n):t===H&&j("Unhandled promise rejection",r)},at=function(t,e){O.call(c,(function(){var r,n=e.value,i=st(e);if(i&&(r=k((function(){K?G.emit("unhandledRejection",n,t):ot(H,t,n)})),e.rejection=K||st(e)?tt:Z,r.error))throw r.value}))},st=function(t){return t.rejection!==Z&&!t.parent},ut=function(t,e){O.call(c,(function(){K?G.emit("rejectionHandled",t):ot(W,t,e.value)}))},ct=function(t,e,r,n){return function(i){t(e,r,i,n)}},lt=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=Q,it(t,e,!0))},ft=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw B("Promise can't be resolved itself");var i=nt(r);i?S((function(){var n={done:!1};try{i.call(r,ct(ft,t,n,e),ct(lt,t,n,e))}catch(o){lt(t,n,o,e)}})):(e.value=r,e.state=X,it(t,e,!1))}catch(o){lt(t,{done:!1},o,e)}}};et&&(F=function(t){b(this,F,L),g(t),n.call(this);var e=N(this);try{t(ct(ft,this,e),ct(lt,this,e))}catch(r){lt(this,e,r)}},n=function(t){U(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Y,value:void 0})},n.prototype=d(F.prototype,{then:function(t,e){var r=M(this),n=q(E(this,F));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=K?G.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=Y&&it(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=N(t);this.promise=t,this.resolve=ct(ft,t,e),this.reject=ct(lt,t,e)},I.f=q=function(t){return t===F||t===o?new i(t):J(t)},u||"function"!=typeof f||(a=f.prototype.then,h(f.prototype,"then",(function(t,e){var r=this;return new F((function(t,e){a.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof $&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return R(F,$.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:et},{Promise:F}),p(F,L,!1,!0),v(L),o=l(L),s({target:L,stat:!0,forced:et},{reject:function(t){var e=q(this);return e.reject.call(void 0,t),e.promise}}),s({target:L,stat:!0,forced:u||et},{resolve:function(t){return R(u&&this===o?F:this,t)}}),s({target:L,stat:!0,forced:rt},{all:function(t){var e=this,r=q(e),n=r.resolve,i=r.reject,o=k((function(){var r=g(e.resolve),o=[],a=0,s=1;_(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=q(e),n=r.reject,i=k((function(){var i=g(e.resolve);_(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},e6e5:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r("4f5c"),e),i(r("56af"),e),i(r("fb42"),e),i(r("0bc7"),e),i(r("21ee"),e),i(r("424d"),e),i(r("5bc9"),e)},e870:function(t,e,r){"use strict";(function(t){var e=r("c64a");t.window=t,Object(e["a"])(t)}).call(this,r("c8ba"))},e893:function(t,e,r){var n=r("5135"),i=r("56ef"),o=r("06cf"),a=r("9bf2");t.exports=function(t,e){for(var r=i(e),s=a.f,u=o.f,c=0;c<r.length;c++){var l=r[c];n(t,l)||s(t,l,u(e,l))}}},e8b5:function(t,e,r){var n=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e8f5:function(t,e,r){"use strict";(function(t){r.d(e,"b",(function(){return s})),r.d(e,"e",(function(){return u})),r.d(e,"d",(function(){return h})),r.d(e,"c",(function(){return y})),r.d(e,"a",(function(){return g}));r("9ab4");var n=r("f404"),i=r("c020"),o=r("f7f6"),a=r("fbdd");function s(t,e,r){if(e in t){var n=t[e],i=r(n);if("function"===typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(o){}t[e]=i}}function u(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function c(t){if(Object(n["d"])(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}if(Object(n["f"])(t)){var a=t,s={};s.type=a.type;try{s.target=Object(n["c"])(a.target)?Object(o["h"])(a.target):Object.prototype.toString.call(a.target)}catch(u){s.target="<unknown>"}try{s.currentTarget=Object(n["c"])(a.currentTarget)?Object(o["h"])(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(u){s.currentTarget="<unknown>"}for(var i in"undefined"!==typeof CustomEvent&&Object(n["g"])(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a);return s}return t}function l(t){return~-encodeURI(t).split(/%..|./).length}function f(t){return l(JSON.stringify(t))}function h(t,e,r){void 0===e&&(e=3),void 0===r&&(r=102400);var n=y(t,e);return f(n)>r?h(t,e-1,r):n}function d(t){var e=Object.prototype.toString.call(t);if("string"===typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var r=p(t);return Object(n["i"])(r)?r:e}function p(e,r){return"domain"===r&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===r?"[DomainEmitter]":"undefined"!==typeof t&&e===t?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":Object(n["l"])(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+Object(o["e"])(e)+"]":e}function v(t,e,r,o){if(void 0===r&&(r=1/0),void 0===o&&(o=new i["a"]),0===r)return d(e);if(null!==e&&void 0!==e&&"function"===typeof e.toJSON)return e.toJSON();var a=p(e,t);if(Object(n["i"])(a))return a;var s=c(e),u=Array.isArray(e)?[]:{};if(o.memoize(e))return"[Circular ~]";for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(u[l]=v(l,s[l],r-1,o));return o.unmemoize(e),u}function y(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,r){return v(t,r,e)})))}catch(r){return"**non-serializable**"}}function g(t,e){void 0===e&&(e=40);var r=Object.keys(c(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return Object(a["d"])(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:Object(a["d"])(i,e)}return""}}).call(this,r("c8ba"))},e954:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",(function(){return i}))},e95a:function(t,e,r){var n=r("b622"),i=r("3f8c"),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},f069:function(t,e,r){"use strict";var n=r("1c0b"),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},f071:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerLanguage=void 0;const n=r("e6e5");class i{canCombineWithGraph(){return!1}async handle(t,e,r,i,o,a){const s=await r.getContainerKey(i[a],i,a);if(Array.isArray(o))o=o.map(t=>({"@value":t,"@language":s}));else{if("string"!==typeof o)throw new n.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,n.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":s}}await e.newOnValueJob(i.slice(0,i.length-1),o,a-1,!0),e.emittedStack[a]=!1}}e.ContainerHandlerLanguage=i},f183:function(t,e,r){var n=r("d012"),i=r("861d"),o=r("5135"),a=r("9bf2").f,s=r("90e3"),u=r("bb2f"),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},h=function(t){a(t,c,{value:{objectID:"O"+ ++l,weakData:{}}})},d=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,c)){if(!f(t))return"F";if(!e)return"E";h(t)}return t[c].objectID},p=function(t,e){if(!o(t,c)){if(!f(t))return!0;if(!e)return!1;h(t)}return t[c].weakData},v=function(t){return u&&y.REQUIRED&&f(t)&&!o(t,c)&&h(t),t},y=t.exports={REQUIRED:!1,fastKey:d,getWeakData:p,onFreeze:v};n[c]=!0},f20d:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("3410"),r("131a");function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}},f232:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeyword=void 0;class n{constructor(t){this.keyword=t}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,i){return!1}async test(t,e,r,n,i){return r===this.keyword}}e.EntryHandlerKeyword=n},f3bd:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return f}));var n=r("ff5e");const{xsd:i}=n["a"],{fromCharCode:o}=String;var a=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,s={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},u=/[\x00-\x20<>\\"\{\}\|\^\`]/,c={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},l=/$0^/;class f{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode)for(var e in this._n3Mode=!1,this)!(e in c)&&this[e]instanceof RegExp&&(this[e]=l);else this._n3Mode=!1!==t.n3;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,e){var r=this._input,n=this._comments;while(1){var o,a;while(o=this._newline.exec(r))n&&(a=this._comment.exec(o[0]))&&t(null,{line:this._line,type:"comment",value:a[1],prefix:""}),r=r.substr(o[0].length,r.length),this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return e&&(n&&(a=this._comment.exec(r))&&t(null,{line:this._line,type:"comment",value:a[1],prefix:""}),t(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var s=this._line,c="",l="",f="",h=r[0],d=null,p=0,v=!1;switch(h){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(p=1,c="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){v=!0;break}case"<":if(d=this._unescapedIri.exec(r))c="IRI",l=d[1];else if(d=this._iri.exec(r)){if(l=this._unescape(d[1]),null===l||u.test(l))return g(this);c="IRI"}else this._n3Mode&&r.length>1&&"="===r[1]&&(c="inverse",p=2,l=">");break;case"_":((d=this._blank.exec(r))||e&&(d=this._blank.exec(r+" ")))&&(c="blank",f="_",l=d[1]);break;case'"':if(d=this._simpleQuotedString.exec(r))l=d[1];else if(({value:l,matchLength:p}=this._parseLiteral(r)),null===l)return g(this);null===d&&0===p||(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(d=this._simpleApostropheString.exec(r))l=d[1];else if(({value:l,matchLength:p}=this._parseLiteral(r)),null===l)return g(this);null===d&&0===p||(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(d=this._variable.exec(r))&&(c="var",l=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(r))?(c="langcode",l=d[1]):(d=this._keyword.exec(r))&&(c=d[0]);break;case".":if(1===r.length?e:r[1]<"0"||r[1]>"9"){c=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(r)||e&&(d=this._number.exec(r+" ")))&&(c="literal",l=d[0],f="string"===typeof d[1]?i.double:"string"===typeof d[2]?i.decimal:i.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(r))?c=d[0].toUpperCase():v=!0;break;case"f":case"t":(d=this._boolean.exec(r))?(c="literal",l=d[0],f=i.boolean):v=!0;break;case"a":(d=this._shortPredicates.exec(r))?(c="abbreviation",l="a"):v=!0;break;case"=":this._n3Mode&&r.length>1&&(c="abbreviation",">"!==r[1]?(p=1,l="="):(p=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(p=1,c=h);break;default:v=!0}if(v&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(r))?((d=this._prefixed.exec(r))||e&&(d=this._prefixed.exec(r+" ")))&&(c="prefixed",f=d[1]||"",l=this._unescape(d[2])):(c="prefix",l=d[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?g(this):this._input=r;var y={line:s,type:c,value:l,prefix:f};t(null,y),this.previousToken=y,this._previousMarker=c,r=r.substr(p||d[0].length,r.length)}function g(e){t(e._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){try{return t.replace(a,(function(t,e,r,n){var i;if(e){if(i=parseInt(e,16),isNaN(i))throw new Error;return o(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<=65535?o(i):o(55296+(i-=65536)/1024,56320+(1023&i))}var a=s[n];if(!a)throw new Error;return a}))}catch(e){return null}}_parseLiteral(t){if(t.length>=3){const e=t.match(/^(?:"""|"|'''|'|)/)[0],r=e.length;let n=Math.max(this._literalClosingPos,r);while((n=t.indexOf(e,n))>0){let e=0;while("\\"===t[n-e-1])e++;if(e%2===0){const e=t.substring(r,n),i=e.split(/\r\n|\r|\n/).length-1,o=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(e),matchLength:o}}n++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;var e=new Error('Unexpected "'+t+'" on line '+this._line+".");return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}tokenize(e,r){var n=this;if(this._line=1,"string"===typeof e){if(this._input=e,"function"!==typeof r){var i,o=[];if(this._tokenizeToEnd((function(t,e){t?i=t:o.push(e)}),!0),i)throw i;return o}setImmediate((function(){n._tokenizeToEnd(r,!0)}))}else this._input="",this._pendingBuffer=null,"function"===typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(function(e){null!==n._input&&0!==e.length&&(n._pendingBuffer&&(e=t.concat([n._pendingBuffer,e]),n._pendingBuffer=null),128&e[e.length-1]?n._pendingBuffer=e:(n._input+=e,n._tokenizeToEnd(r,!1)))})),e.on("end",(function(){null!==n._input&&n._tokenizeToEnd(r,!0)})),e.on("error",r)}}}).call(this,r("b639").Buffer)},f3f3:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var n=r("fc11");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},f404:function(t,e,r){"use strict";function n(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return v(t,Error)}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return null===t||"object"!==typeof t&&"function"!==typeof t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!==typeof Event&&v(t,Event)}function f(t){return"undefined"!==typeof Element&&v(t,Element)}function h(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function d(t){return Boolean(t&&t.then&&"function"===typeof t.then)}function p(t){return c(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t,e){try{return t instanceof e}catch(r){return!1}}r.d(e,"d",(function(){return n})),r.d(e,"e",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"k",(function(){return s})),r.d(e,"i",(function(){return u})),r.d(e,"h",(function(){return c})),r.d(e,"f",(function(){return l})),r.d(e,"c",(function(){return f})),r.d(e,"j",(function(){return h})),r.d(e,"m",(function(){return d})),r.d(e,"l",(function(){return p})),r.d(e,"g",(function(){return v}))},f5df:function(t,e,r){var n=r("00ee"),i=r("c6b6"),o=r("b622"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(r){}};t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(e=Object(t),a))?r:s?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},f772:function(t,e,r){var n=r("5692"),i=r("90e3"),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},f7f6:function(t,e,r){"use strict";(function(t,n,i){r.d(e,"i",(function(){return s})),r.d(e,"f",(function(){return c})),r.d(e,"m",(function(){return l})),r.d(e,"k",(function(){return f})),r.d(e,"d",(function(){return h})),r.d(e,"c",(function(){return d})),r.d(e,"b",(function(){return p})),r.d(e,"a",(function(){return v})),r.d(e,"g",(function(){return y})),r.d(e,"h",(function(){return g})),r.d(e,"l",(function(){return E})),r.d(e,"j",(function(){return S})),r.d(e,"e",(function(){return j}));var o=r("f404");r("fbdd");function a(t,e){return t.require(e)}function s(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof t?t:0)}var u={};function c(){return s()?n:"undefined"!==typeof window?window:"undefined"!==typeof self?self:u}function l(){var t=c(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var n=function(t){var e=t.toString(16);while(e.length<4)e="0"+e;return e};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16)}))}function f(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}function h(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function d(t){var e=c(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach((function(t){t in e.console&&n[t].__sentry_original__&&(i[t]=n[t],n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(i).forEach((function(t){n[t]=i[t]})),o}function p(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}function v(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(r){t.exception.values[0].mechanism[r]=e[r]}))}catch(r){}}function y(){try{return document.location.href}catch(t){return""}}function g(t){try{var e=t,r=5,n=80,i=[],o=0,a=0,s=" > ",u=s.length,c=void 0;while(e&&o++<r){if(c=b(e),"html"===c||o>1&&a+i.length*u+c.length>=n)break;i.push(c),a+=c.length,e=e.parentNode}return i.reverse().join(s)}catch(l){return"<unknown>"}}function b(t){var e,r,n,i,a,s=t,u=[];if(!s||!s.tagName)return"";if(u.push(s.tagName.toLowerCase()),s.id&&u.push("#"+s.id),e=s.className,e&&Object(o["k"])(e))for(r=e.split(/\s+/),a=0;a<r.length;a++)u.push("."+r[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)n=c[a],i=s.getAttribute(n),i&&u.push("["+n+'="'+i+'"]');return u.join("")}var m=Date.now(),w=0,_={now:function(){var t=Date.now()-m;return t<w&&(t=w),w=t,t},timeOrigin:m},x=function(){if(s())try{var t=a(i,"perf_hooks");return t.performance}catch(r){return _}var e=c().performance;return e&&e.now?(void 0===e.timeOrigin&&(e.timeOrigin=e.timing&&e.timing.navigationStart||m),e):_}();function E(){return(x.timeOrigin+x.now())/1e3}var O=6e4;function S(t,e){if(!e)return O;var r=parseInt(""+e,10);if(!isNaN(r))return 1e3*r;var n=Date.parse(""+e);return isNaN(n)?O:n-t}var R="<anonymous>";function j(t){try{return t&&"function"===typeof t&&t.name||R}catch(e){return R}}}).call(this,r("4362"),r("c8ba"),r("dd40")(t))},faa1:function(t,e,r){"use strict";var n,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};function a(t){console&&console.warn&&console.warn(t)}n=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!==t};function u(){u.init.call(this)}t.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function h(t,e,r,n){var i,o,s;if(l(r),o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"===typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=f(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a(u)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function v(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?m(i):g(i,i.length)}function y(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function b(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function m(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"===typeof u)o(u,this,e);else{var c=u.length,l=g(u,c);for(r=0;r<c;++r)o(l[r],this,e)}return!0},u.prototype.addListener=function(t,e){return h(this,t,e,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,e){return h(this,t,e,!0)},u.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},u.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},u.prototype.removeListener=function(t,e){var r,n,i,o,a;if(l(e),n=this._events,void 0===n)return this;if(r=n[t],void 0===r)return this;if(r===e||r.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var e,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)i=o[n],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},u.prototype.listeners=function(t){return v(this,t,!0)},u.prototype.rawListeners=function(t){return v(this,t,!1)},u.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},fb42:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(a,s)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0,r("7274");const i=r("56af"),o=r("c7e2"),a=r("e43f");class s{constructor(t){this.fetcher=t}load(t){return n(this,void 0,void 0,(function*(){const e=yield(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(e.ok&&e.headers){let r=e.headers.get("Content-Type");if(r){const t=r.indexOf(";");t>0&&(r=r.substr(0,t))}if("application/ld+json"===r)return yield e.json();if(e.headers.has("Link")){let r;if(e.headers.forEach((e,n)=>{if("link"===n){const n=o.parse(e);for(const e of n.get("type","application/ld+json"))if("alternate"===e.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+t);r=a.resolve(e.uri,t)}}}),r)return this.load(r)}throw new i.ErrorCoded(`Unsupported JSON-LD media type ${r}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(e.statusText||`Status code: ${e.status}`)}))}}e.FetchDocumentLoader=s},fb6a:function(t,e,r){"use strict";var n=r("23e7"),i=r("861d"),o=r("e8b5"),a=r("23cb"),s=r("50c4"),u=r("fc6a"),c=r("8418"),l=r("b622"),f=r("1dde"),h=r("ae40"),d=f("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),y=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var r,n,l,f=u(this),h=s(f.length),d=a(t,h),p=a(void 0===e?h:e,h);if(o(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?i(r)&&(r=r[v],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return y.call(f,d,p);for(n=new(void 0===r?Array:r)(g(p-d,0)),l=0;d<p;d++,l++)d in f&&c(n,l,f[d]);return n.length=l,n}})},fbd1:function(t,e,r){"use strict";r.d(e,"a",(function(){return w}));r("4de4"),r("7db0"),r("d81d"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0");var n=r("d0af"),i=(r("96cf"),r("c964")),o=r("276c"),a=r("e954"),s=r("92a6"),u=r("920b"),c=r("dfab"),l=r("ddbf"),f=r.n(l),h=r("b0d7"),d=r("5e9c"),p=r("3349"),v=r("cd34"),y=r("191b"),g=r("786d"),b=r("bef6"),m=r("34b3"),w=function(t){Object(u["a"])(r,t);var e=Object(s["a"])(r);function r(t,n,i,a,s){var u;return Object(o["a"])(this,r),u=e.call(this,n,i),u.id=t,u.storages=a,u.typeIndexUrl=s,u}return Object(a["a"])(r,[{key:"initSoukaiEngine",value:function(){f.a.useEngine(new c["SolidEngine"](y["a"].fetch,{globbingBatchSize:null}))}},{key:"logout",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y["a"].logout();case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toJSON",value:function(){return{id:this.id,name:this.name,avatar_url:this.avatarUrl,storages:this.storages,typeIndexUrl:this.typeIndexUrl}}},{key:"getCachedMoviesContainer",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getMoviesContainerDocument();case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return",null);case 5:return t.next=7,d["a"].getFromDocument(e,1e4);case 7:return r=t.sent,i=(r||[]).filter((function(t){return t.modelClass===h["default"]})),o=Object(n["a"])(i,1),a=o[0],t.abrupt("return",a||null);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"initMoviesContainer",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new Date,t.next=3,this.getMoviesContainerUrl();case 3:if(r=t.sent,!r){t.next=10;break}return t.next=7,h["default"].find(r);case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=null;case 11:if(n=t.t0,t.t1=n,t.t1){t.next=17;break}return t.next=16,this.createMoviesContainer();case 16:t.t1=t.sent;case 17:return i=t.t1,d["a"].rememberDocument(i.url,e),d["a"].remember(i,{documents:i.documents}),t.abrupt("return",i);case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getMoviesContainerDocument",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getMoviesContainerUrl();case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return",null);case 5:return t.next=7,g["a"].fromUrl(y["a"].fetch,b["a"].parentDirectory(e));case 7:if(r=t.sent,n=r.statement(e,"purl:modified"),n){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",new c["SolidDocument"]({url:e,updatedAt:new Date(n.object.value)},!0));case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getMoviesContainerUrl",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("undefined"!==typeof this.moviesContainerUrl){t.next=6;break}return t.next=3,g["a"].fromUrl(y["a"].fetch,this.typeIndexUrl);case 3:e=t.sent,r=e.statements(null,"rdfs:type","solid:TypeRegistration").find((function(t){return e.contains(t.subject.value,"solid:forClass","schema:Movie")&&e.contains(t.subject.value,"solid:instanceContainer")})),this.moviesContainerUrl=r?e.statement(r.subject.value,"solid:instanceContainer").object.value:null;case 6:return t.abrupt("return",this.moviesContainerUrl);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"createMoviesContainer",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.storages[0],r=new h["default"]({name:"Movies"}),n=["https://schema.org/Movie","https://schema.org/WatchAction"],r.setRelationModels("movies",[]),r.setRelationModels("documents",[]),t.next=7,r.save(e);case 7:return t.next=9,Promise.all(n.map((function(t){var e=new p["default"]({forClass:t,instanceContainer:r.url});return e.mintUrl(i.typeIndexUrl,!0,m["a"].generate()),e.save(b["a"].parentDirectory(i.typeIndexUrl))})));case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}],[{key:"isSolidUserJSON",value:function(t){return"id"in t&&"name"in t&&"avatar_url"in t&&"storages"in t&&"typeIndexUrl"in t}},{key:"fromJSON",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new r(e.id,e.name,e.avatar_url,e.storages,e.typeIndexUrl));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),r}(v["a"])},fbdd:function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return s}));var n=r("f404");function i(t,e){return void 0===e&&(e=0),"string"!==typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){var r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);var i=Math.max(e-60,0);i<5&&(i=0);var o=Math.min(i+140,n);return o>n-5&&(o=n),o===n&&(i=Math.max(o-140,0)),r=r.slice(i,o),i>0&&(r="'{snip} "+r),o<n&&(r+=" {snip}"),r}function a(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(o){r.push("[value cannot be serialized]")}}return r.join(e)}function s(t,e){return!!Object(n["k"])(t)&&(Object(n["j"])(e)?e.test(t):"string"===typeof e&&-1!==t.indexOf(e))}},fc11:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},fc6a:function(t,e,r){var n=r("44ad"),i=r("1d80");t.exports=function(t){return n(i(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,r){var n=r("4930");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,r){var n=r("da84");t.exports=n.Promise},ff5e:function(t,e,r){"use strict";var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",o="http://www.w3.org/2000/10/swap/";e["a"]={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:o+"reify#forSome",forAll:o+"reify#forAll"},log:{implies:o+"log#implies"}}}});
//# sourceMappingURL=0.60c393e8.worker.js.map